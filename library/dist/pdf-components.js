!function(Q,F){"object"==typeof exports&&"object"==typeof module?module.exports=F(require("react-pdf"),require("react")):"function"==typeof define&&define.amd?define(["react-pdf","react"],F):"object"==typeof exports?exports["@allenai/pdf-components"]=F(require("react-pdf"),require("react")):Q["@allenai/pdf-components"]=F(Q["react-pdf"],Q.React)}(this,(function(__WEBPACK_EXTERNAL_MODULE__323__,__WEBPACK_EXTERNAL_MODULE__888__){return(()=>{var __webpack_modules__={184:(module,exports)=>{eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif ( true && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (true) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {\n\t\t\treturn classNames;\n\t\t}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t} else {}\n}());\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AYWxsZW5haS9wZGYtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9jbGFzc25hbWVzL2luZGV4LmpzPzRkMjYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsZ0JBQWdCOztBQUVoQjtBQUNBOztBQUVBLGlCQUFpQixzQkFBc0I7QUFDdkM7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxLQUFLLEtBQTZCO0FBQ2xDO0FBQ0E7QUFDQSxFQUFFLFVBQVUsSUFBNEU7QUFDeEY7QUFDQSxFQUFFLGlDQUFxQixFQUFFLG1DQUFFO0FBQzNCO0FBQ0EsR0FBRztBQUFBLGtHQUFDO0FBQ0osRUFBRSxNQUFNLEVBRU47QUFDRixDQUFDIiwiZmlsZSI6IjE4NC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICBDb3B5cmlnaHQgKGMpIDIwMTggSmVkIFdhdHNvbi5cbiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlIChNSVQpLCBzZWVcbiAgaHR0cDovL2plZHdhdHNvbi5naXRodWIuaW8vY2xhc3NuYW1lc1xuKi9cbi8qIGdsb2JhbCBkZWZpbmUgKi9cblxuKGZ1bmN0aW9uICgpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBoYXNPd24gPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuXHRmdW5jdGlvbiBjbGFzc05hbWVzKCkge1xuXHRcdHZhciBjbGFzc2VzID0gW107XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGFyZyA9IGFyZ3VtZW50c1tpXTtcblx0XHRcdGlmICghYXJnKSBjb250aW51ZTtcblxuXHRcdFx0dmFyIGFyZ1R5cGUgPSB0eXBlb2YgYXJnO1xuXG5cdFx0XHRpZiAoYXJnVHlwZSA9PT0gJ3N0cmluZycgfHwgYXJnVHlwZSA9PT0gJ251bWJlcicpIHtcblx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGFyZyk7XG5cdFx0XHR9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoYXJnKSkge1xuXHRcdFx0XHRpZiAoYXJnLmxlbmd0aCkge1xuXHRcdFx0XHRcdHZhciBpbm5lciA9IGNsYXNzTmFtZXMuYXBwbHkobnVsbCwgYXJnKTtcblx0XHRcdFx0XHRpZiAoaW5uZXIpIHtcblx0XHRcdFx0XHRcdGNsYXNzZXMucHVzaChpbm5lcik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKGFyZ1R5cGUgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRcdGlmIChhcmcudG9TdHJpbmcgPT09IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcpIHtcblx0XHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gYXJnKSB7XG5cdFx0XHRcdFx0XHRpZiAoaGFzT3duLmNhbGwoYXJnLCBrZXkpICYmIGFyZ1trZXldKSB7XG5cdFx0XHRcdFx0XHRcdGNsYXNzZXMucHVzaChrZXkpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRjbGFzc2VzLnB1c2goYXJnLnRvU3RyaW5nKCkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNsYXNzZXMuam9pbignICcpO1xuXHR9XG5cblx0aWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdFx0Y2xhc3NOYW1lcy5kZWZhdWx0ID0gY2xhc3NOYW1lcztcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGNsYXNzTmFtZXM7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PT0gJ29iamVjdCcgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIHJlZ2lzdGVyIGFzICdjbGFzc25hbWVzJywgY29uc2lzdGVudCB3aXRoIG5wbSBwYWNrYWdlIG5hbWVcblx0XHRkZWZpbmUoJ2NsYXNzbmFtZXMnLCBbXSwgZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIGNsYXNzTmFtZXM7XG5cdFx0fSk7XG5cdH0gZWxzZSB7XG5cdFx0d2luZG93LmNsYXNzTmFtZXMgPSBjbGFzc05hbWVzO1xuXHR9XG59KCkpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///184\n")},224:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "default": () => (/* binding */ index)\n});\n\n// UNUSED EXPORTS: ArrowFlag, ArrowFlagBase, BoundingBox, ContextProvider, DEFAULT_ZOOM_SCALE, DocumentContext, DocumentWrapper, DownloadButton, HighlightOverlay, IconFlag, Outline, OutlineItem, Overlay, POSITION, PageNumberControl, PageRenderContext, PageWrapper, PercentFormatter, PrintButton, RENDER_TYPE, ScrollContext, SidePanel, Thumbnail, ThumbnailList, TransformContext, UiContext, ZoomInButton, ZoomOutButton, computeBoundingBoxStyle, computePageStyle, generatePageIdFromIndex, getPageHeight, getPageWidth, isSideways, rotateClockwise, rotateCounterClockwise, scaleRawBoundingBox, scrollToId, scrollToPdfPageIndex\n\n// EXTERNAL MODULE: ./node_modules/classnames/index.js\nvar classnames = __webpack_require__(184);\nvar classnames_default = /*#__PURE__*/__webpack_require__.n(classnames);\n// EXTERNAL MODULE: external {"commonjs":"react","commonjs2":"react","amd":"react","root":"React"}\nvar external_commonjs_react_commonjs2_react_amd_react_root_React_ = __webpack_require__(888);\n;// CONCATENATED MODULE: ./src/utils/provider.ts\nfunction logProviderWarning(functionName, providerName) {\r\n    console.warn(`Unable to call ${functionName}. The ${providerName} Provider may not be set up correctly.`);\r\n}\r\n\n;// CONCATENATED MODULE: ./src/utils/rotate.ts\nvar PageRotation;\r\n(function (PageRotation) {\r\n    PageRotation[PageRotation["Rotate0"] = 0] = "Rotate0";\r\n    PageRotation[PageRotation["Rotate90"] = 90] = "Rotate90";\r\n    PageRotation[PageRotation["Rotate180"] = 180] = "Rotate180";\r\n    PageRotation[PageRotation["Rotate270"] = 270] = "Rotate270";\r\n})(PageRotation || (PageRotation = {}));\r\nfunction rotateClockwise(rotation) {\r\n    switch (rotation) {\r\n        case PageRotation.Rotate0:\r\n            return PageRotation.Rotate90;\r\n        case PageRotation.Rotate90:\r\n            return PageRotation.Rotate180;\r\n        case PageRotation.Rotate180:\r\n            return PageRotation.Rotate270;\r\n        default:\r\n            return PageRotation.Rotate0;\r\n    }\r\n}\r\nfunction rotateCounterClockwise(rotation) {\r\n    switch (rotation) {\r\n        case PageRotation.Rotate0:\r\n            return PageRotation.Rotate270;\r\n        case PageRotation.Rotate90:\r\n            return PageRotation.Rotate0;\r\n        case PageRotation.Rotate180:\r\n            return PageRotation.Rotate90;\r\n        default:\r\n            return PageRotation.Rotate180;\r\n    }\r\n}\r\n/**\r\n * Tests whether the page is rotated 90 degrees clockwise or counterclockwise from zero,\r\n * e.g. whether the page "is rotated sideways."\r\n */\r\nfunction isSideways(rotation) {\r\n    return rotation === PageRotation.Rotate90 || rotation === PageRotation.Rotate270;\r\n}\r\n\n;// CONCATENATED MODULE: ./src/utils/scroll.ts\n\r\n// Each page div is ID\'d according to page index\r\n// e.g. reader_pg_0, reader_pg_1, etc.\r\nconst PAGE_NAV_TARGET_ID_ROOT = \'reader_pg_\';\r\nconst PDF_HEIGHT_POINTS = 792;\r\nconst PDF_WIDTH_POINTS = 612;\r\nfunction generatePageIdFromIndex(pageIndex) {\r\n    return `${PAGE_NAV_TARGET_ID_ROOT}${pageIndex}`;\r\n}\r\nfunction scrollToId(id) {\r\n    const element = document.getElementById(id);\r\n    if (element) {\r\n        element.scrollIntoView({ behavior: \'smooth\', block: \'start\', inline: \'center\' });\r\n    }\r\n    else {\r\n        console.error(`Could not find scroll target with ID #${id}`);\r\n    }\r\n}\r\nfunction scrollToPdfPageIndex(pageIndex) {\r\n    scrollToId(generatePageIdFromIndex(pageIndex));\r\n}\r\n/**\r\n * Scroll PDF document to a specific position.\r\n * @param pageIndex The index of the page where the position locates at\r\n * @param leftPoints The horizontal distance between the origin and the position (in PDF coordinates)\r\n * @param bottomPoints The vertical distance between the origin and the position (in PDF coordinates)\r\n * @param rotation The rotation degree of the document\r\n */\r\nfunction scrollToPosition(pageIndex, leftPoints, bottomPoints, rotation = PageRotation.Rotate0) {\r\n    /*\r\n      Vertical scroll distance is calculated as\r\n      = total number of previous pages * page height including top/down margins\r\n      + the margin top of current page\r\n      + the distance from the page top to the specified position\r\n  \r\n      Notice that the scroll distance is measured in pixels,\r\n      so leftPoints/bottomPoints has to be transformed from points to pixels first.\r\n    */\r\n    const { width, height, marginTop, marginBottom, marginLeft, marginRight } = getPagePropertiesInPixels();\r\n    const heightWithMargins = height + marginTop + marginBottom;\r\n    // When a paper is rotated, its height and width would be switched automatically. However, leftPoints and bottomPoints remain the same.\r\n    let marginTopPixels = marginTop;\r\n    let bottomPixels = (height * bottomPoints) / PDF_HEIGHT_POINTS;\r\n    let leftPixels = (width * leftPoints) / PDF_WIDTH_POINTS;\r\n    if (rotation == PageRotation.Rotate90) {\r\n        marginTopPixels = marginLeft;\r\n        bottomPixels = (height * (PDF_WIDTH_POINTS - leftPoints)) / PDF_WIDTH_POINTS;\r\n        leftPixels = (width * bottomPoints) / PDF_HEIGHT_POINTS;\r\n    }\r\n    else if (rotation == PageRotation.Rotate180) {\r\n        marginTopPixels = marginBottom;\r\n        bottomPixels = (height * (PDF_HEIGHT_POINTS - bottomPoints)) / PDF_HEIGHT_POINTS;\r\n        leftPixels = (width * (PDF_WIDTH_POINTS - leftPoints)) / PDF_WIDTH_POINTS;\r\n    }\r\n    else if (rotation == PageRotation.Rotate270) {\r\n        marginTopPixels = marginRight;\r\n        bottomPixels = (height * leftPoints) / PDF_WIDTH_POINTS;\r\n        leftPixels = (width * (PDF_HEIGHT_POINTS - bottomPoints)) / PDF_HEIGHT_POINTS;\r\n    }\r\n    // Find page element\r\n    const pageId = generatePageIdFromIndex(pageIndex);\r\n    const pageIdElement = document.getElementById(pageId);\r\n    if (!pageIdElement) {\r\n        return;\r\n    }\r\n    // Find first scrollable parent\r\n    const parentElement = getScrollParent(pageIdElement);\r\n    if (!parentElement) {\r\n        return;\r\n    }\r\n    // Apply scroll\r\n    parentElement.scrollTo({\r\n        top: calculateTopPx({\r\n            heightWithMarginsInPx: heightWithMargins,\r\n            pageIndex: pageIndex,\r\n            marginTopPx: marginTopPixels,\r\n            heightPx: height,\r\n            bottomPx: bottomPixels,\r\n        }),\r\n        left: Math.floor(leftPixels),\r\n        behavior: \'smooth\',\r\n    });\r\n}\r\nfunction getScrollParent(node) {\r\n    const minScrollableHeight = 50; // used to check for a bug where Firefox gives inline containers a small scrollHeight when it shouldnt\r\n    if (typeof document === \'undefined\') {\r\n        return null;\r\n    }\r\n    if (!node || node.nodeName.toLowerCase() === \'body\') {\r\n        return document.documentElement;\r\n    }\r\n    if (node.scrollHeight - node.clientHeight > minScrollableHeight && !isOverflowIsHidden(node)) {\r\n        return node;\r\n    }\r\n    return getScrollParent(node.parentElement);\r\n}\r\nfunction isOverflowIsHidden(node) {\r\n    const style = getComputedStyle(node);\r\n    return (style.overflow.includes(\'hidden\') ||\r\n        style.overflowX.includes(\'hidden\') ||\r\n        style.overflowY.includes(\'hidden\'));\r\n}\r\nfunction calculateTopPx({ heightWithMarginsInPx, pageIndex, marginTopPx, heightPx, bottomPx, }) {\r\n    return Math.floor(heightWithMarginsInPx * pageIndex + marginTopPx + (heightPx - bottomPx));\r\n}\r\n/**\r\n * Get lengths, widths, and margins of a page.\r\n * @returns a PageProperties object\r\n */\r\nfunction getPagePropertiesInPixels() {\r\n    const firstPage = document.getElementById(generatePageIdFromIndex(0));\r\n    if (!firstPage) {\r\n        console.error(`Cannot get the first page of this document.`);\r\n        const emptyPageProperties = {\r\n            width: 0,\r\n            height: 0,\r\n            marginTop: 0,\r\n            marginBottom: 0,\r\n            marginLeft: 0,\r\n            marginRight: 0,\r\n        };\r\n        return emptyPageProperties;\r\n    }\r\n    const style = getComputedStyle(firstPage);\r\n    const pageProperties = {\r\n        width: parseInt(style.width),\r\n        height: parseInt(style.height),\r\n        marginTop: parseInt(style.marginTop),\r\n        marginBottom: parseInt(style.marginBottom),\r\n        marginLeft: parseInt(style.marginLeft),\r\n        marginRight: parseInt(style.marginRight),\r\n    };\r\n    return pageProperties;\r\n}\r\nfunction calculateTargetPosition({ scale, leftPoint, bottomPoint, pageDimensions, rotation = PageRotation.Rotate0, }) {\r\n    switch (rotation) {\r\n        default:\r\n        case PageRotation.Rotate0: {\r\n            const leftPx = (leftPoint / PDF_WIDTH_POINTS) * pageDimensions.width * scale;\r\n            const topPx = (1 - bottomPoint / PDF_HEIGHT_POINTS) * pageDimensions.height * scale;\r\n            return { leftPx, topPx };\r\n        }\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/context/DocumentContext.ts\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\nconst DocumentContext = external_commonjs_react_commonjs2_react_amd_react_root_React_.createContext({\r\n    numPages: 0,\r\n    numPagesLoaded: 0,\r\n    outline: [],\r\n    outlinePositions: null,\r\n    pageDimensions: { height: 0, width: 0 },\r\n    pdfDocProxy: undefined,\r\n    getOutlineTargets: opts => {\r\n        logProviderWarning(`getOutlineTargets(${JSON.stringify(opts)})`, \'DocumentContext\');\r\n        return [];\r\n    },\r\n    setNumPages: numPages => {\r\n        logProviderWarning(`setNumPages(${numPages})`, \'DocumentContext\');\r\n    },\r\n    setNumPagesLoaded: numPages => {\r\n        logProviderWarning(`setNumPagesLoaded(${numPages})`, \'DocumentContext\');\r\n    },\r\n    setOutline: outline => {\r\n        logProviderWarning(`setOutline(${outline})`, \'DocumentContext\');\r\n    },\r\n    setOutlinePositions: outline => {\r\n        logProviderWarning(`setOutlinePositions(${outline})`, \'DocumentContext\');\r\n    },\r\n    setPageDimensions: pageDimensions => {\r\n        logProviderWarning(`setPageDimensions(${pageDimensions})`, \'DocumentContext\');\r\n    },\r\n    setPdfDocProxy: pdfDocProxy => {\r\n        logProviderWarning(`setPdfDocProxy(${pdfDocProxy})`, \'DocumentContext\');\r\n    },\r\n});\r\nfunction useDocumentContextProps() {\r\n    const [numPages, setNumPages] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(0);\r\n    const [numPagesLoaded, setNumPagesLoaded] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(0);\r\n    const [outline, setOutline] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(null);\r\n    const [outlinePositions, setOutlinePositions] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(null);\r\n    const [pageDimensions, setPageDimensions] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState({\r\n        height: 0,\r\n        width: 0,\r\n    });\r\n    const [pdfDocProxy, setPdfDocProxy] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState();\r\n    // Draw outline target into the pdf based on the args\r\n    const getOutlineTargets = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(({ pageNumber, pageIndex, scale, rotation, pageDimensions, }) => {\r\n        if (typeof pageIndex === \'number\') {\r\n            pageNumber = pageIndex + 1;\r\n        }\r\n        if (typeof pageNumber !== \'number\') {\r\n            return [];\r\n        }\r\n        const positions = (outlinePositions === null || outlinePositions === void 0 ? void 0 : outlinePositions.get(pageNumber)) || [];\r\n        return positions.map(({ dest, leftPoint, bottomPoint }) => {\r\n            const { leftPx, topPx } = calculateTargetPosition({\r\n                scale,\r\n                rotation,\r\n                leftPoint,\r\n                bottomPoint,\r\n                pageDimensions,\r\n            });\r\n            return {\r\n                dest,\r\n                leftPx,\r\n                topPx,\r\n            };\r\n        });\r\n    }, [outlinePositions]);\r\n    return {\r\n        numPages,\r\n        numPagesLoaded,\r\n        outline,\r\n        outlinePositions,\r\n        pageDimensions,\r\n        pdfDocProxy,\r\n        getOutlineTargets,\r\n        setNumPages,\r\n        setNumPagesLoaded,\r\n        setOutline,\r\n        setOutlinePositions,\r\n        setPageDimensions: setPageDimensions,\r\n        setPdfDocProxy,\r\n    };\r\n}\r\nfunction buildOutlinePositions(pdfDocProxy, outline) {\r\n    var _a;\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        if (!outline) {\r\n            outline = yield pdfDocProxy.getOutline();\r\n        }\r\n        // Depth first search through outline items\r\n        const itemQueue = outline.slice();\r\n        const proms = [];\r\n        while (itemQueue.length > 0) {\r\n            const item = itemQueue.pop();\r\n            if (!item) {\r\n                continue; // Not able to process\r\n            }\r\n            const { dest, items } = item;\r\n            // Add child items to queue\r\n            if (Array.isArray(items)) {\r\n                itemQueue.push(...items);\r\n            }\r\n            // Fetch destinations for item\r\n            if (Array.isArray(dest)) {\r\n                proms.push(...dest.map(dest => getDestination(pdfDocProxy, dest)));\r\n            }\r\n            else if (typeof dest === \'string\') {\r\n                proms.push(getDestination(pdfDocProxy, dest));\r\n            }\r\n        }\r\n        // Collect results all at once, so we don\'t have to pay for the cost of\r\n        // queueing messages sent to the worker\r\n        const results = yield Promise.all(proms);\r\n        // Split results into pages\r\n        const map = new Map();\r\n        for (const result of results) {\r\n            if (!result) {\r\n                continue; // Filter out null\r\n            }\r\n            const { pageNumber } = result;\r\n            if (!map.has(pageNumber)) {\r\n                map.set(pageNumber, []);\r\n            }\r\n            (_a = map.get(pageNumber)) === null || _a === void 0 ? void 0 : _a.push(result);\r\n        }\r\n        // Freeze objects so consumers cannot mutate\r\n        for (const pagePos of map.values()) {\r\n            for (const pos of pagePos) {\r\n                Object.freeze(pos);\r\n            }\r\n            Object.freeze(pagePos);\r\n        }\r\n        Object.freeze(map);\r\n        return map;\r\n    });\r\n}\r\nfunction getDestination(pdfDocProxy, dest) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const result = yield pdfDocProxy.getDestination(dest);\r\n        if (!result) {\r\n            return null;\r\n        }\r\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n        const [ref, _format, leftPoint, bottomPoint] = result;\r\n        const pageIndex = yield pdfDocProxy.getPageIndex(ref);\r\n        const pageNumber = pageIndex + 1;\r\n        return { pageNumber, dest, leftPoint, bottomPoint };\r\n    });\r\n}\r\n\n;// CONCATENATED MODULE: ./src/context/TransformContext.ts\n\r\n\r\n\r\nconst DEFAULT_ZOOM_SCALE = 1.0;\r\nconst TransformContext = external_commonjs_react_commonjs2_react_amd_react_root_React_.createContext({\r\n    pixelRatio: (typeof window !== \'undefined\' ? window.devicePixelRatio : null) || 1,\r\n    rotation: PageRotation.Rotate0,\r\n    scale: 1,\r\n    zoomIncrementValue: 0.2,\r\n    setPixelRatio: pixelRatio => {\r\n        logProviderWarning(`setPixelRatio(${pixelRatio})`, \'TransformContext\');\r\n    },\r\n    setRotation: rotation => {\r\n        logProviderWarning(`setRotation(${rotation})`, \'TransformContext\');\r\n    },\r\n    setScale: scale => {\r\n        logProviderWarning(`setScale(${scale})`, \'TransformContext\');\r\n    },\r\n    setZoomIncrementValue: value => {\r\n        logProviderWarning(`setZoomIncrementValue(${value})`, \'TransformContext\');\r\n    },\r\n});\r\nfunction useTransformContextProps() {\r\n    const [pixelRatio, setPixelRatio] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState((typeof window !== \'undefined\' ? window.devicePixelRatio : null) || 1);\r\n    const [rotation, setRotation] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(PageRotation.Rotate0);\r\n    const [scale, setScale] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(DEFAULT_ZOOM_SCALE);\r\n    const [zoomIncrementValue, setZoomIncrementValue] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(0.2);\r\n    return {\r\n        pixelRatio,\r\n        rotation,\r\n        scale,\r\n        setPixelRatio,\r\n        setRotation,\r\n        setScale,\r\n        zoomIncrementValue,\r\n        setZoomIncrementValue,\r\n    };\r\n}\r\n\n;// CONCATENATED MODULE: ./src/utils/style.ts\n\r\n// Computes the style for a bounding box, accounting for page roation and page scaling/zoom\r\nfunction computeBoundingBoxStyle(boundingBoxSize, pageDimensions, rotation, scale) {\r\n    const { top, left, height, width } = boundingBoxSize;\r\n    switch (rotation) {\r\n        case PageRotation.Rotate90:\r\n            return {\r\n                top: left * scale,\r\n                left: (pageDimensions.height - height - top) * scale,\r\n                height: width * scale,\r\n                width: height * scale,\r\n            };\r\n        case PageRotation.Rotate180:\r\n            return {\r\n                top: (pageDimensions.height - height - top) * scale,\r\n                left: (pageDimensions.width - width - left) * scale,\r\n                height: height * scale,\r\n                width: width * scale,\r\n            };\r\n        case PageRotation.Rotate270:\r\n            return {\r\n                top: (pageDimensions.width - width - left) * scale,\r\n                left: top * scale,\r\n                height: width * scale,\r\n                width: height * scale,\r\n            };\r\n        default:\r\n            return {\r\n                top: top * scale,\r\n                left: left * scale,\r\n                height: height * scale,\r\n                width: width * scale,\r\n            };\r\n    }\r\n}\r\n// Compute the style for a page, accounting for page rotation and page scaling/zoom\r\nfunction computePageStyle(pageDimensions, rotation, scale) {\r\n    return {\r\n        height: getPageHeight(pageDimensions, rotation) * scale,\r\n        width: getPageWidth(pageDimensions, rotation) * scale,\r\n        left: 0,\r\n        top: 0,\r\n    };\r\n}\r\n// Get page height accounting for page rotation- if the page is rotated on its side, its width becomes its height\r\nfunction getPageHeight(pageDimensions, rotation) {\r\n    return isSideways(rotation) ? pageDimensions.width : pageDimensions.height;\r\n}\r\n// Get page width accounting for page rotation- if the page is rotated on its side, its height becomes its width\r\nfunction getPageWidth(pageDimensions, rotation) {\r\n    return isSideways(rotation) ? pageDimensions.height : pageDimensions.width;\r\n}\r\n\n;// CONCATENATED MODULE: ./src/components/BoundingBox.tsx\nvar __rest = (undefined && undefined.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === "function")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\n\r\n\r\n\r\n\r\n\r\nconst BoundingBox = (_a) => {\r\n    var { top, left, height, width, className, underlineClassName, id, isHighlighted, onClick, voiceOverLabel } = _a, extraProps = __rest(_a, ["top", "left", "height", "width", "className", "underlineClassName", "id", "isHighlighted", "onClick", "voiceOverLabel"]);\r\n    const { pageDimensions } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(DocumentContext);\r\n    const { rotation, scale } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(TransformContext);\r\n    const boxSize = { top, left, height, width };\r\n    const componentClassName = classnames_default()(\'pdf-reader__overlay-bounding-box\', isHighlighted === true ? \'pdf-reader__overlay-bounding-box-highlighted\' : \'\', className);\r\n    const getBoundingBoxStyle = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(() => {\r\n        return computeBoundingBoxStyle(boxSize, pageDimensions, rotation, scale);\r\n    }, [pageDimensions, rotation, scale]);\r\n    const rotationClassName = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(() => {\r\n        return `rotate${rotation}`;\r\n    }, [rotation]);\r\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement(external_commonjs_react_commonjs2_react_amd_react_root_React_.Fragment, null,\r\n        external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", { \r\n            // className={`pdf-reader__overlay-bounding-box-underline ${\r\n            //   underlineClassName || rotationClassName()\r\n            // }`}\r\n            className: \'pdf-reader__overlay-bounding-box-highlighted\', style: getBoundingBoxStyle() }),\r\n        external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", Object.assign({ id: id, className: `${componentClassName} ${rotationClassName()}`, style: getBoundingBoxStyle(), onClick: onClick, role: "button", tabIndex: 0, "aria-label": voiceOverLabel }, extraProps))));\r\n};\r\n\n// EXTERNAL MODULE: external "react-pdf"\nvar external_react_pdf_ = __webpack_require__(323);\n;// CONCATENATED MODULE: ./src/utils/ScrollDirectionDetector.ts\nvar ScrollDirection;\r\n(function (ScrollDirection) {\r\n    ScrollDirection["UP"] = "UP";\r\n    ScrollDirection["DOWN"] = "DOWN";\r\n})(ScrollDirection || (ScrollDirection = {}));\r\nclass ScrollDetector {\r\n    constructor(el, setScrollDirection, setIsAtTop, setScrollThresholdReachedInDirection, scrollThreshold) {\r\n        this._onScroll = () => {\r\n            const currScrollTop = this._el.scrollTop;\r\n            if (this._isAtTop !== (currScrollTop === 0)) {\r\n                this._isAtTop = currScrollTop === 0;\r\n                this._setIsAtTop(currScrollTop === 0);\r\n            }\r\n            if (this._lastScrollTop === currScrollTop) {\r\n                return;\r\n            }\r\n            // Determine direction\r\n            const currScrollDirection = (() => {\r\n                if (currScrollTop <= 0) {\r\n                    return ScrollDirection.DOWN;\r\n                }\r\n                return this._lastScrollTop < currScrollTop ? ScrollDirection.DOWN : ScrollDirection.UP;\r\n            })();\r\n            // Update state, if changed\r\n            this._lastScrollTop = currScrollTop;\r\n            if (this._lastScrollDirection !== currScrollDirection) {\r\n                this._lastScrollDirection = currScrollDirection;\r\n                this._setScrollDirection(currScrollDirection);\r\n                this._lastScrollTopBeforeDirectionChange = currScrollTop;\r\n                this._isScrollThresholdReachedInDirection = null;\r\n                if (this._setScrollThresholdReachedInDirection && !this._isAtTop) {\r\n                    this._setScrollThresholdReachedInDirection(null);\r\n                }\r\n            }\r\n            else {\r\n                if (this._scrollThreshold && this._setScrollThresholdReachedInDirection) {\r\n                    const scrolledAmount = Math.abs(this._lastScrollTopBeforeDirectionChange - currScrollTop);\r\n                    if (scrolledAmount >= this._scrollThreshold) {\r\n                        this._isScrollThresholdReachedInDirection = this._lastScrollDirection;\r\n                        this._setScrollThresholdReachedInDirection(this._lastScrollDirection);\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        this._el = el;\r\n        this._lastScrollTop = this._el.scrollTop;\r\n        this._lastScrollDirection = null;\r\n        this._setScrollDirection = setScrollDirection;\r\n        this._isAtTop = null;\r\n        this._setIsAtTop = setIsAtTop;\r\n        this._lastScrollTopBeforeDirectionChange = this._el.scrollTop;\r\n        this._scrollThreshold = scrollThreshold;\r\n        this._isScrollThresholdReachedInDirection = null;\r\n        this._setScrollThresholdReachedInDirection = setScrollThresholdReachedInDirection;\r\n    }\r\n    attachScrollListener() {\r\n        var _a, _b;\r\n        if (((_b = (_a = this._el) === null || _a === void 0 ? void 0 : _a.tagName) === null || _b === void 0 ? void 0 : _b.toLowerCase()) === \'html\') {\r\n            window.addEventListener(\'scroll\', this._onScroll, false);\r\n            return;\r\n        }\r\n        this._el.addEventListener(\'scroll\', this._onScroll, false);\r\n    }\r\n    detachScrollListener() {\r\n        var _a, _b;\r\n        if (((_b = (_a = this._el) === null || _a === void 0 ? void 0 : _a.tagName) === null || _b === void 0 ? void 0 : _b.toLowerCase()) === \'html\') {\r\n            window.removeEventListener(\'scroll\', this._onScroll, false);\r\n            return;\r\n        }\r\n        this._el.removeEventListener(\'scroll\', this._onScroll, false);\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/utils/VisibleEntriesDetector.ts\nconst DEFAULT_ROOT_MARGIN = \'50px\';\r\nconst DEFAULT_THRESHOLD = Array.from({ length: 101 }).map((_, i) => i / 100);\r\nclass VisibleEntriesDetector {\r\n    constructor({ root, thresHold, setVisibleEntries, onVisibleEntriesChange, }) {\r\n        var _a;\r\n        this._root = root;\r\n        this._lastVisibleEntries = new Map();\r\n        this._setVisibleEntries = setVisibleEntries;\r\n        this._onVisibleEntriesChange = onVisibleEntriesChange;\r\n        this._observer = new IntersectionObserver(entries => {\r\n            // Collect visible and hidden elements\r\n            const visibleEntries = entries.filter(entry => entry.isIntersecting);\r\n            const hiddenEntries = entries.filter(entry => !entry.isIntersecting);\r\n            // Determine what needs saved\r\n            const newVisibleEntries = this._onVisibleEntriesChange({\r\n                visibleEntries,\r\n                hiddenEntries,\r\n                lastEntries: this._lastVisibleEntries,\r\n            });\r\n            const frozenEntries = new Map(newVisibleEntries);\r\n            Object.freeze(frozenEntries);\r\n            this._lastVisibleEntries = frozenEntries;\r\n            this._setVisibleEntries(frozenEntries);\r\n        }, \r\n        // Default setting for intersection observer\r\n        {\r\n            root: ((_a = this._root.tagName) === null || _a === void 0 ? void 0 : _a.toLowerCase()) === \'html\' ? null : this._root,\r\n            rootMargin: DEFAULT_ROOT_MARGIN,\r\n            threshold: thresHold ? thresHold : DEFAULT_THRESHOLD,\r\n        });\r\n    }\r\n    observeNodes(selector) {\r\n        for (const node of this._root.querySelectorAll(selector)) {\r\n            this._observer.observe(node);\r\n        }\r\n    }\r\n    destroy() {\r\n        this._observer.disconnect();\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/context/ScrollContext.ts\n\r\n\r\n\r\n\r\n\r\nconst OUTLINE_ATTRIBUTE = \'data-outline-target-dest\';\r\nconst OUTLINE_SELECTOR = \'.pdf-reader__page__outline-target\';\r\nconst PAGE_NUMBER_ATTRIBUTE = \'data-page-number\';\r\nconst PAGE_NUMBER_SELECTOR = `.pdf-reader__page[${PAGE_NUMBER_ATTRIBUTE}]`;\r\nconst DEFAULT_PAGE_SCROLLED_INTO_VIEW_THRESHOLD = 0.1;\r\nconst EMPTY_NUMBER_TO_VISIBLE_ENTRY_DETAIL_MAP = Object.freeze(new Map());\r\nconst DEFAULT_CONTEXT = {\r\n    scrollDirection: null,\r\n    visibleOutlineTargets: new Map(),\r\n    visiblePageRatios: new Map(),\r\n    isOutlineTargetVisible: opts => {\r\n        logProviderWarning(`isOutlineTargetVisible(${JSON.stringify(opts)})`, \'ScrollContext\');\r\n        return false;\r\n    },\r\n    isPageVisible: opts => {\r\n        logProviderWarning(`isPageVisible(${JSON.stringify(opts)})`, \'ScrollContext\');\r\n        return false;\r\n    },\r\n    resetScrollObservers: () => {\r\n        logProviderWarning(`resetScrollObservers()`, \'ScrollContext\');\r\n    },\r\n    scrollRoot: {},\r\n    setScrollRoot: (_el) => {\r\n        logProviderWarning(`setScrollRoot(...)`, \'ScrollContext\');\r\n    },\r\n    scrollToOutlineTarget: dest => {\r\n        logProviderWarning(`scrollToOutlineTarget(${dest})`, \'ScrollContext\');\r\n    },\r\n    setScrollThreshold: (scrollThreshold) => {\r\n        logProviderWarning(`setScrollThreshold(${scrollThreshold})`, \'ScrollContext\');\r\n    },\r\n    scrollToPage: opts => {\r\n        logProviderWarning(`scrollToPage(${JSON.stringify(opts)})`, \'ScrollContext\');\r\n    },\r\n    updateScrollPosition: zoomMultiplier => {\r\n        logProviderWarning(`updateScrollPosition(${JSON.stringify(zoomMultiplier)})`, \'ScrollContext\');\r\n    },\r\n    setIsOutlineClicked: opts => {\r\n        logProviderWarning(`setIsOutlineGetClicked(${JSON.stringify(opts)})`, \'ScrollContext\');\r\n    },\r\n    scrollThresholdReachedInDirection: null,\r\n    isAtTop: null,\r\n    isOutlineClicked: null,\r\n    pagesScrolledIntoView: new Map(),\r\n    setPageScrolledIntoViewThreshold: (threshold) => {\r\n        logProviderWarning(`pagesScrolledIntoView(${threshold})`, \'ScrollContext\');\r\n    },\r\n};\r\nconst ScrollContext = external_commonjs_react_commonjs2_react_amd_react_root_React_.createContext(DEFAULT_CONTEXT);\r\nfunction useScrollContextProps() {\r\n    // Node used for observing the scroll position\r\n    const [scrollRoot, setScrollRoot] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(null);\r\n    // Determine scroll direction\r\n    const [scrollDirection, setScrollDirection] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(null);\r\n    const [scrollThreshold, setScrollThreshold] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(null);\r\n    const [scrollThresholdReachedInDirection, setScrollThresholdReachedInDirection] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(null);\r\n    const [isAtTop, setIsAtTop] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(null);\r\n    const [isOutlineClicked, setIsOutlineClicked] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(null);\r\n    const [pageScrolledIntoViewThreshold, setPageScrolledIntoViewThreshold] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(DEFAULT_PAGE_SCROLLED_INTO_VIEW_THRESHOLD);\r\n    const [pagesScrolledIntoView, setPagesScrolledIntoView] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(() => EMPTY_NUMBER_TO_VISIBLE_ENTRY_DETAIL_MAP);\r\n    external_commonjs_react_commonjs2_react_amd_react_root_React_.useEffect(() => {\r\n        const scrollElem = scrollRoot || document.documentElement;\r\n        if (!scrollElem) {\r\n            return;\r\n        }\r\n        let scrollDirectionDetector;\r\n        if (!scrollThreshold) {\r\n            // scroll threshold is optional\r\n            scrollDirectionDetector = new ScrollDetector(scrollElem, setScrollDirection, setIsAtTop);\r\n        }\r\n        else {\r\n            scrollDirectionDetector = new ScrollDetector(scrollElem, setScrollDirection, setIsAtTop, setScrollThresholdReachedInDirection, scrollThreshold);\r\n        }\r\n        scrollDirectionDetector.attachScrollListener();\r\n        return () => {\r\n            scrollDirectionDetector.detachScrollListener();\r\n        };\r\n    }, [scrollRoot, scrollThreshold]);\r\n    // Causes the IntersectionObservers to disconnect and be recreated (useful when DOM changes)\r\n    const [observerIndex, setObserverIndex] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(0);\r\n    const resetScrollObservers = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(() => {\r\n        setObserverIndex(observerIndex + 1);\r\n    }, [observerIndex]);\r\n    const [visibleOutlineTargets, setVisibleOutlineNodes] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(() => {\r\n        const map = new Map();\r\n        Object.freeze(map);\r\n        return map;\r\n    });\r\n    const [visiblePageRatios, setVisiblePageRatios] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(() => EMPTY_NUMBER_TO_VISIBLE_ENTRY_DETAIL_MAP);\r\n    const isOutlineTargetVisible = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback((dest) => {\r\n        return visibleOutlineTargets.has(dest);\r\n    }, [visibleOutlineTargets]);\r\n    const scrollToOutlineTarget = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback((dest) => {\r\n        var _a;\r\n        setIsOutlineClicked(true);\r\n        (_a = document\r\n            .querySelector(`[data-outline-target-dest="${dest}"]`)) === null || _a === void 0 ? void 0 : _a.scrollIntoView({ behavior: \'smooth\' });\r\n    }, []);\r\n    const isPageVisible = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(({ pageNumber, pageIndex }) => {\r\n        if (typeof pageIndex === \'number\') {\r\n            pageNumber = pageIndex + 1;\r\n        }\r\n        if (typeof pageNumber !== \'number\') {\r\n            return false;\r\n        }\r\n        return visiblePageRatios.has(pageNumber);\r\n    }, [visiblePageRatios]);\r\n    const scrollToPage = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(({ pageNumber, pageIndex }) => {\r\n        var _a;\r\n        if (typeof pageNumber === \'number\') {\r\n            pageIndex = pageNumber - 1;\r\n        }\r\n        if (typeof pageIndex !== \'number\') {\r\n            return;\r\n        }\r\n        (_a = document\r\n            .getElementById(generatePageIdFromIndex(pageIndex))) === null || _a === void 0 ? void 0 : _a.scrollIntoView({ behavior: \'smooth\' });\r\n    }, []);\r\n    // Watch outline nodes\r\n    external_commonjs_react_commonjs2_react_amd_react_root_React_.useEffect(() => {\r\n        const root = scrollRoot || document.documentElement;\r\n        const detector = new VisibleEntriesDetector({\r\n            root: root,\r\n            setVisibleEntries: setVisibleOutlineNodes,\r\n            onVisibleEntriesChange: ({ visibleEntries, hiddenEntries, lastEntries }) => {\r\n                hiddenEntries.map(entry => lastEntries.delete(entry.target.getAttribute(OUTLINE_ATTRIBUTE)));\r\n                const newEntries = new Map(lastEntries);\r\n                visibleEntries.map(entry => newEntries.set(entry.target.getAttribute(OUTLINE_ATTRIBUTE), {\r\n                    ratio: entry.intersectionRatio,\r\n                    timestamp: entry.time,\r\n                }));\r\n                return newEntries;\r\n            },\r\n        });\r\n        detector.observeNodes(OUTLINE_SELECTOR);\r\n        return () => {\r\n            detector.destroy();\r\n        };\r\n    }, [scrollRoot, observerIndex]);\r\n    // Watch pages\r\n    external_commonjs_react_commonjs2_react_amd_react_root_React_.useEffect(() => {\r\n        const root = scrollRoot || document.documentElement;\r\n        const detector = new VisibleEntriesDetector({\r\n            root: root,\r\n            setVisibleEntries: setVisiblePageRatios,\r\n            onVisibleEntriesChange: ({ visibleEntries, hiddenEntries, lastEntries }) => {\r\n                if (hiddenEntries.length) {\r\n                    const maxTime = Math.max(...hiddenEntries.map(e => e.time));\r\n                    const hiddenPageNums = hiddenEntries.map(e => { var _a; return ((_a = e.target) === null || _a === void 0 ? void 0 : _a.getAttribute(PAGE_NUMBER_ATTRIBUTE)) || \'\'; });\r\n                    // due to upper limit on how fast the Intersection Observer API can sample and how fast browsers can render (happens when users scroll fast)\r\n                    // sometimes entries will not be signaled as hidden, meaning they should be removed from lastEntries but weren\'t\r\n                    // so if an entry has a timestamp thats older then an entry we are currently removing, we can assume its "stale" and delete\r\n                    // more details about this issue here: https://stackoverflow.com/questions/61951380/intersection-observer-fails-sometimes-when-i-scroll-fast\r\n                    for (const [key, value] of lastEntries.entries()) {\r\n                        if (value.timestamp <= maxTime || hiddenPageNums.includes(String(key))) {\r\n                            lastEntries.delete(key);\r\n                        }\r\n                    }\r\n                }\r\n                const newEntries = new Map(lastEntries);\r\n                visibleEntries.map(entry => {\r\n                    var _a;\r\n                    newEntries.set(parseInt(((_a = entry.target) === null || _a === void 0 ? void 0 : _a.getAttribute(PAGE_NUMBER_ATTRIBUTE)) || \'\', 10), {\r\n                        ratio: entry.intersectionRatio,\r\n                        timestamp: entry.time,\r\n                    });\r\n                });\r\n                return newEntries;\r\n            },\r\n        });\r\n        detector.observeNodes(PAGE_NUMBER_SELECTOR);\r\n        return () => {\r\n            detector.destroy();\r\n        };\r\n    }, [scrollRoot, observerIndex]);\r\n    // map of pages at the moment they are scrolled into view, useful for tracking analytics such as page impressions\r\n    // different than the visiblePageRatios in that it only saves the ~initial~ point of when a page comes into view\r\n    // it doesn\'t track the live change in ratios as the page remains in view when scrolled\r\n    external_commonjs_react_commonjs2_react_amd_react_root_React_.useEffect(() => {\r\n        const root = scrollRoot || document.documentElement;\r\n        const detector = new VisibleEntriesDetector({\r\n            root: root,\r\n            thresHold: pageScrolledIntoViewThreshold,\r\n            setVisibleEntries: setPagesScrolledIntoView,\r\n            onVisibleEntriesChange: ({ visibleEntries }) => {\r\n                const newEntries = new Map();\r\n                visibleEntries.map(entry => {\r\n                    var _a;\r\n                    newEntries.set(parseInt(((_a = entry.target) === null || _a === void 0 ? void 0 : _a.getAttribute(PAGE_NUMBER_ATTRIBUTE)) || \'\', 10), entry.intersectionRatio);\r\n                });\r\n                return newEntries;\r\n            },\r\n        });\r\n        detector.observeNodes(PAGE_NUMBER_SELECTOR);\r\n        return () => {\r\n            detector.destroy();\r\n        };\r\n    }, [scrollRoot, observerIndex]);\r\n    // calculates a new scroll position after zooming in/out so user doesnt lose their position\r\n    const updateScrollPosition = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback((zoomMultiplier) => {\r\n        const root = scrollRoot || document.documentElement;\r\n        if (!root) {\r\n            return;\r\n        }\r\n        const newScrollTop = Math.floor(root.scrollTop * zoomMultiplier);\r\n        setTimeout(() => {\r\n            root.scrollTop = newScrollTop;\r\n        }, 0);\r\n    }, [scrollRoot]);\r\n    return {\r\n        isOutlineTargetVisible,\r\n        isPageVisible,\r\n        scrollDirection,\r\n        visibleOutlineTargets,\r\n        visiblePageRatios,\r\n        resetScrollObservers,\r\n        scrollRoot,\r\n        setScrollRoot,\r\n        scrollToOutlineTarget,\r\n        setScrollThreshold,\r\n        scrollToPage,\r\n        updateScrollPosition,\r\n        setIsOutlineClicked,\r\n        scrollThresholdReachedInDirection,\r\n        isAtTop,\r\n        isOutlineClicked,\r\n        pagesScrolledIntoView,\r\n        setPageScrolledIntoViewThreshold,\r\n    };\r\n}\r\n\n;// CONCATENATED MODULE: ./src/context/UiContext.ts\n\r\n\r\nconst UiContext = external_commonjs_react_commonjs2_react_amd_react_root_React_.createContext({\r\n    errorMessage: null,\r\n    isLoading: false,\r\n    isShowingHighlightOverlay: false,\r\n    isShowingOutline: false,\r\n    isShowingTextHighlight: false,\r\n    isShowingThumbnail: false,\r\n    isShowingInteract: false,\r\n    setErrorMessage: errorMessage => {\r\n        logProviderWarning(`setErrorMessage(${errorMessage})`, \'UiContext\');\r\n    },\r\n    setIsShowingOutline: isShowingOutline => {\r\n        logProviderWarning(`setIsShowingOutline(${isShowingOutline})`, \'UiContext\');\r\n    },\r\n    setIsShowingInteract: isShowingInteract => {\r\n        logProviderWarning(`setIsShowingInteract(${isShowingInteract})`, \'UiContext\');\r\n    },\r\n    setIsLoading: isLoading => {\r\n        logProviderWarning(`setIsLoading(${isLoading})`, \'UiContext\');\r\n    },\r\n    setIsShowingHighlightOverlay: isShowingHighlightOverlay => {\r\n        logProviderWarning(`setIsShowingHighlightOverlay(${isShowingHighlightOverlay})`, \'UiContext\');\r\n    },\r\n    setIsShowingTextHighlight: isShowingTextHighlight => {\r\n        logProviderWarning(`setIsShowingTextHighlight(${isShowingTextHighlight})`, \'UiContext\');\r\n    },\r\n    setIsShowingThumbnail: isShowingThumbnail => {\r\n        logProviderWarning(`setIsShowingThumbnail(${isShowingThumbnail})`, \'UiContext\');\r\n    },\r\n});\r\nfunction useUiContextProps() {\r\n    const [errorMessage, setErrorMessage] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(null);\r\n    const [isLoading, setIsLoading] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(true);\r\n    const [isShowingHighlightOverlay, setIsShowingHighlightOverlay] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(false);\r\n    const [isShowingOutline, setIsShowingOutline] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(false);\r\n    const [isShowingTextHighlight, setIsShowingTextHighlight] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(false);\r\n    const [isShowingThumbnail, setIsShowingThumbnail] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(false);\r\n    const [isShowingInteract, setIsShowingInteract] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(false);\r\n    return {\r\n        errorMessage,\r\n        isLoading,\r\n        isShowingHighlightOverlay,\r\n        isShowingOutline,\r\n        isShowingTextHighlight,\r\n        isShowingThumbnail,\r\n        isShowingInteract,\r\n        setErrorMessage,\r\n        setIsLoading,\r\n        setIsShowingHighlightOverlay,\r\n        setIsShowingOutline,\r\n        setIsShowingTextHighlight,\r\n        setIsShowingThumbnail,\r\n        setIsShowingInteract,\r\n    };\r\n}\r\n\n;// CONCATENATED MODULE: ./src/utils/errorMessage.ts\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction getErrorMessage(error) {\r\n    if (!error) {\r\n        return \'Unknown error\';\r\n    }\r\n    if (typeof error === \'string\') {\r\n        return error;\r\n    }\r\n    if (error instanceof Error) {\r\n        return error.message;\r\n    }\r\n    if (typeof error.error === \'string\') {\r\n        return error.error;\r\n    }\r\n    return error.toString();\r\n}\r\n\n;// CONCATENATED MODULE: ./src/utils/pdfWorker.ts\n\r\n// Set PDFjs worker source or else PDF will not load when this library is imported as a package.\r\nfunction initPdfWorker() {\r\n    external_react_pdf_.pdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${external_react_pdf_.pdfjs.version}/pdf.worker.min.js`;\r\n}\r\n\n;// CONCATENATED MODULE: ./src/utils/reader-utils.ts\nconst RENDER_TYPE = {\r\n    MULTI_CANVAS: \'multi-canvas\',\r\n    SINGLE_CANVAS: \'single-canvas\',\r\n};\r\nfunction getRenderMode(renderType) {\r\n    switch (renderType) {\r\n        case RENDER_TYPE.SINGLE_CANVAS:\r\n            return \'none\';\r\n        default:\r\n            return \'canvas\';\r\n    }\r\n}\r\nfunction getClassNameSuffixFromRenderType(renderType) {\r\n    switch (renderType) {\r\n        case RENDER_TYPE.SINGLE_CANVAS:\r\n            return \'single-canvas\';\r\n        default:\r\n            return \'multi-canvas\';\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/utils/scale.ts\n// We assume 96 DPI for display\r\n// TODO: There are more accurate ways to do this, but this is what ScholarPhi does now\r\nconst DPI = 96;\r\n// PDF units are in 1/72nds of an inch\r\nconst USER_UNIT_DENOMINATOR = 72;\r\n/**\r\n * Given a PDFPageProxy, calculates the screen pixel size of the PDF page at 100% scale\r\n * @param page The PDFPageProxy to calculate size for\r\n * @returns Pixel size of a page at 100% scale assuming 96DPI display\r\n */\r\nfunction computePageDimensions(page) {\r\n    const [leftPx, topPx, rightPx, bottomPx] = page.view;\r\n    const PPI = (page.userUnit / USER_UNIT_DENOMINATOR) * DPI;\r\n    return {\r\n        height: (bottomPx - topPx) * PPI,\r\n        width: (rightPx - leftPx) * PPI,\r\n    };\r\n}\r\n\n;// CONCATENATED MODULE: ./src/components/types/destination.ts\n/**\r\n * This class is the definition of the first item when Destination is returned as an array.\r\n * It is created based on the same class in \'react-pdf\' library:\r\n * https://github.com/wojtekmaj/react-pdf/blob/ca4453f123af51e2faed39a8a62800901030459a/src/Ref.js\r\n */\r\nclass Ref {\r\n    constructor({ num, gen }) {\r\n        this.num = num;\r\n        this.gen = gen;\r\n    }\r\n    toString() {\r\n        return this.gen !== 0 ? `${this.num}R${this.gen}` : `${this.num}R`;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/components/DocumentWrapper.tsx\nvar DocumentWrapper_rest = (undefined && undefined.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === "function")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst DocumentWrapper = (_a) => {\r\n    var { children, renderType } = _a, extraProps = DocumentWrapper_rest(_a, ["children", "renderType"]);\r\n    initPdfWorker();\r\n    const { pdfDocProxy, setNumPages, setNumPagesLoaded, setPageDimensions, setPdfDocProxy } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(DocumentContext);\r\n    const { resetScrollObservers, updateScrollPosition } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(ScrollContext);\r\n    const { rotation, scale } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(TransformContext);\r\n    const { setErrorMessage, setIsLoading } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(UiContext);\r\n    const [lastScale, setLastScale] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(1); // assuming the scale defaults to 100%\r\n    function getFirstPage(pdfDoc) {\r\n        // getPage uses 1-indexed pageNumber, not 0-indexed pageIndex\r\n        return pdfDoc.getPage(1);\r\n    }\r\n    external_commonjs_react_commonjs2_react_amd_react_root_React_.useEffect(() => {\r\n        resetScrollObservers();\r\n    }, []);\r\n    // after scale changes, update scroll position so the user stays looking at the same position of the paper\r\n    external_commonjs_react_commonjs2_react_amd_react_root_React_.useEffect(() => {\r\n        if (scale === lastScale) {\r\n            return;\r\n        }\r\n        const zoomMultiplier = scale / lastScale;\r\n        updateScrollPosition(zoomMultiplier);\r\n        setLastScale(scale);\r\n    }, [scale, updateScrollPosition]);\r\n    const onPdfLoadSuccess = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback((pdfDoc) => {\r\n        setNumPagesLoaded(0);\r\n        setNumPages(pdfDoc.numPages);\r\n        getFirstPage(pdfDoc)\r\n            .then(page => {\r\n            setPageDimensions(computePageDimensions(page));\r\n            setErrorMessage(null);\r\n        })\r\n            .catch(error => {\r\n            setErrorMessage(getErrorMessage(error));\r\n        })\r\n            .finally(() => {\r\n            setIsLoading(false);\r\n        });\r\n        if (!pdfDocProxy) {\r\n            setPdfDocProxy(pdfDoc);\r\n        }\r\n    }, []);\r\n    const onSourceError = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback((error) => {\r\n        setErrorMessage(getErrorMessage(error));\r\n        setIsLoading(false);\r\n    }, []);\r\n    const onPdfLoadError = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback((error) => {\r\n        setErrorMessage(getErrorMessage(error));\r\n        setIsLoading(false);\r\n    }, []);\r\n    const onItemClicked = (param) => {\r\n        if (!pdfDocProxy) {\r\n            return;\r\n        }\r\n        // Scroll to the destination of the item\r\n        pdfDocProxy.getDestination(param.dest).then(destArray => {\r\n            if (!destArray) {\r\n                return;\r\n            }\r\n            const [ref, , , bottomPoints] = destArray;\r\n            pdfDocProxy.getPageIndex(new Ref(ref)).then(refInfo => {\r\n                scrollToPosition(parseInt(refInfo.toString()), 0, bottomPoints, rotation);\r\n            });\r\n        });\r\n    };\r\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement(external_react_pdf_.Document, Object.assign({ options: { cMapUrl: \'cmaps/\', cMapPacked: true }, onSourceError: onSourceError, onLoadError: onPdfLoadError, onLoadSuccess: onPdfLoadSuccess, externalLinkTarget: "_blank", renderMode: getRenderMode(renderType), \r\n        // @ts-ignore: the arguments should be { dest, pageIndex, pageNumber }\r\n        // @types/react-pdf hasn\'t updated the function signature\r\n        // https://github.com/DefinitelyTyped/DefinitelyTyped/blob/d73eb652e0ba8f89395a0ef2ba69cf1e640ce5be/types/react-pdf/dist/Document.d.ts#L72\r\n        onItemClick: onItemClicked }, extraProps), children));\r\n};\r\n\n;// CONCATENATED MODULE: ./src/components/DownloadButton.tsx\nvar DownloadButton_rest = (undefined && undefined.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === "function")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\n\r\n/**\r\n * HTML anchor tag allows you to download a file from the same origin.\r\n * This is a workaround to download a file served from a different origin\r\n */\r\nconst DownloadButton = (_a) => {\r\n    var { pdfUrl, children, className } = _a, extraProps = DownloadButton_rest(_a, ["pdfUrl", "children", "className"]);\r\n    const [fetching, setFetching] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(false);\r\n    const download = () => {\r\n        setFetching(true);\r\n        fetch(pdfUrl)\r\n            .then(response => response.blob())\r\n            .then(blob => {\r\n            setFetching(false);\r\n            const blobURL = URL.createObjectURL(blob);\r\n            const a = document.createElement(\'a\');\r\n            a.href = blobURL;\r\n            a.download = pdfUrl.split(\'/\').pop() || pdfUrl;\r\n            document.body.appendChild(a);\r\n            a.click();\r\n        });\r\n    };\r\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("button", Object.assign({ disabled: fetching, onClick: () => download(), "aria-label": "Download PDF", className: `pdf-reader__download-btn ${className}` }, extraProps), children ? children : \'Download\'));\r\n};\r\n\n;// CONCATENATED MODULE: ./src/components/HighlightOverlay.tsx\nvar HighlightOverlay_rest = (undefined && undefined.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === "function")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\n\r\n\r\n\r\n\r\nconst HighlightOverlay = (_a) => {\r\n    var { children, pageIndex, color } = _a, extraProps = HighlightOverlay_rest(_a, ["children", "pageIndex", "color"]);\r\n    const { pageDimensions } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(DocumentContext);\r\n    const { rotation, scale } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(TransformContext);\r\n    const maskId = `highlight-overlay-mask-${pageIndex}`;\r\n    const getPageStyle = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(() => {\r\n        return computePageStyle(pageDimensions, rotation, scale);\r\n    }, [pageDimensions, rotation, scale]);\r\n    const getUnmaskedArea = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback((boundingBoxes) => {\r\n        const boxes = Array.isArray(boundingBoxes) ? boundingBoxes : [boundingBoxes];\r\n        return boxes.map((box, i) => {\r\n            const boxStyle = computeBoundingBoxStyle(box.props, pageDimensions, rotation, scale);\r\n            return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("rect", { style: boxStyle, x: boxStyle.left, y: boxStyle.top, key: i, fill: color }));\r\n        });\r\n    }, [pageDimensions, rotation, scale]);\r\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", Object.assign({ className: "pdf-reader__page-highlight-overlay", style: getPageStyle() }, extraProps),\r\n        external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("svg", { className: "page-mask", style: getPageStyle() },\r\n            external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("mask", { id: maskId },\r\n                external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("rect", { style: getPageStyle(), fill: "white" }),\r\n                children && getUnmaskedArea(children)))));\r\n};\r\n\n;// CONCATENATED MODULE: ./src/components/marker/ArrowFlagBase.tsx\nvar ArrowFlagBase_rest = (undefined && undefined.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === "function")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst POSITION = {\r\n    LEFT: \'LEFT\',\r\n    RIGHT: \'RIGHT\',\r\n};\r\nconst DEFAULT_ORIGIN_TOP_PX = 0;\r\nconst DEFAULT_FLAG_WIDTH_PX = 62;\r\nconst DEFAULT_FLAG_HEIGHT_PX = 20;\r\nconst DEFAULT_TAIL_LENGTH_PX = 40;\r\nconst DEFAULT_TAIL_WIDTH_PX = 7;\r\nconst ArrowFlagBase = (_a) => {\r\n    var { className, label, flagWidth, originTop, position = POSITION.LEFT, tailLength, tailWidgth } = _a, extraProps = ArrowFlagBase_rest(_a, ["className", "label", "flagWidth", "originTop", "position", "tailLength", "tailWidgth"]);\r\n    const { pageDimensions } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(DocumentContext);\r\n    const { rotation, scale } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(TransformContext);\r\n    // function for scaling bounding boxes based on current document states\r\n    const computeSize = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback((box) => computeBoundingBoxStyle(box, pageDimensions, rotation, scale), [pageDimensions, rotation, scale, originTop]);\r\n    // bounding box of the flag\r\n    const flagSize = {\r\n        top: originTop || DEFAULT_ORIGIN_TOP_PX,\r\n        left: 0,\r\n        height: DEFAULT_FLAG_HEIGHT_PX,\r\n        width: flagWidth || DEFAULT_FLAG_WIDTH_PX,\r\n    };\r\n    // bounding box of the tail\r\n    const tailSize = {\r\n        top: originTop || DEFAULT_ORIGIN_TOP_PX,\r\n        left: 0,\r\n        height: tailLength || DEFAULT_TAIL_LENGTH_PX,\r\n        width: tailWidgth || DEFAULT_TAIL_WIDTH_PX,\r\n    };\r\n    const computedFlagSize = computeSize(flagSize);\r\n    const computedTailSize = computeSize(tailSize);\r\n    const tailPosition = {\r\n        top: computedTailSize.top,\r\n        left: position === POSITION.LEFT ? -computedTailSize.width : pageDimensions.width * scale,\r\n        height: computedTailSize.height,\r\n        width: computedTailSize.width,\r\n    };\r\n    const renderFlag = () => {\r\n        const { top, width, height } = computedFlagSize;\r\n        const flagPosition = {\r\n            top,\r\n            height,\r\n            width,\r\n            left: position === POSITION.LEFT\r\n                ? -computedTailSize.width\r\n                : tailPosition.left + tailPosition.width - width + 1,\r\n        };\r\n        const labelPosition = position === POSITION.LEFT ? \'47%\' : \'53%\';\r\n        return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", { className: "pdf-reader__arrow-flag-base__flag", style: flagPosition },\r\n            external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement(IconFlag, { className: "pdf-reader__arrow-flag-base__flag-icon", headerPosition: position },\r\n                external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("text", { x: labelPosition, y: "54%", dominantBaseline: "middle", textAnchor: "middle", className: "pdf-reader__arrow-flag-base__flag-label" }, label))));\r\n    };\r\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", Object.assign({ className: classnames_default()(\'pdf-reader__arrow-flag-base\', className) }, extraProps),\r\n        external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", { className: "pdf-reader__arrow-flag-base__tail", style: tailPosition }),\r\n        label && renderFlag()));\r\n};\r\n\n;// CONCATENATED MODULE: ./src/components/icon/IconFlag.tsx\n\r\n\r\nconst IconFlag = ({ children, className, headerPosition = POSITION.LEFT, }) => {\r\n    if (headerPosition == POSITION.LEFT) {\r\n        return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("svg", { viewBox: "0 0 62 22", className: className },\r\n            external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("path", { d: "M52.0108 20.8315L52.0105 20.8318C51.5525 21.2525 50.9527 21.491 50.3265 21.5H3.02828C2.35623 21.5 1.71264 21.2355 1.23885 20.7661C0.76522 20.2969 0.5 19.6615 0.5 19V3C0.5 2.33848 0.765221 1.70309 1.23885 1.23389C1.71264 0.764519 2.35623 0.5 3.02828 0.5H50.2457C50.8719 0.50902 51.4718 0.747466 51.9298 1.16821L51.93 1.16846L60.6515 9.16846L60.6514 9.16852L60.658 9.17439C60.9175 9.40408 61.126 9.68412 61.2707 9.99679C61.4154 10.3095 61.4933 10.6482 61.4996 10.9917C61.5059 11.3353 61.4405 11.6765 61.3074 11.9941C61.1749 12.3104 60.9779 12.5966 60.7286 12.8348L52.0108 20.8315Z" }),\r\n            children));\r\n    }\r\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("svg", { viewBox: "0 0 62 22", className: className },\r\n        external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("path", { d: "M9.98922 1.16846L9.9895 1.16821C10.4475 0.747472 11.0473 0.509029 11.6735 0.499999L58.9717 0.500004C59.6438 0.500004 60.2874 0.764522 60.7611 1.23389C61.2348 1.7031 61.5 2.33848 61.5 3L61.5 19C61.5 19.6615 61.2348 20.2969 60.7611 20.7661C60.2874 21.2355 59.6438 21.5 58.9717 21.5L11.7543 21.5C11.1281 21.491 10.5282 21.2525 10.0702 20.8318L10.07 20.8315L1.34854 12.8315L1.3486 12.8315L1.34196 12.8256C1.08248 12.5959 0.87399 12.3159 0.729283 12.0032C0.584584 11.6905 0.506719 11.3518 0.500417 11.0083C0.494111 10.6647 0.559495 10.3235 0.692605 10.0059C0.825143 9.68961 1.02206 9.40341 1.27136 9.16519L9.98922 1.16846Z" }),\r\n        children));\r\n};\r\n\n;// CONCATENATED MODULE: ./src/components/types/boundingBox.ts\n// Calculate a bounding box\'s pixel coordinates from the raw bounding box\'s coorditate ratios scaled to the page size\r\nfunction scaleRawBoundingBox(boundingBoxRaw, pageHeight, pageWidth) {\r\n    const boxScaled = {\r\n        page: boundingBoxRaw.page,\r\n        top: boundingBoxRaw.top * pageHeight,\r\n        left: boundingBoxRaw.left * pageWidth,\r\n        height: boundingBoxRaw.height * pageHeight,\r\n        width: boundingBoxRaw.width * pageWidth,\r\n    };\r\n    return boxScaled;\r\n}\r\n\n;// CONCATENATED MODULE: ./src/components/marker/ArrowFlag.tsx\nvar ArrowFlag_rest = (undefined && undefined.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === "function")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\n\r\n\r\n\r\n\r\n\r\nconst CENTER_LINE = 0.5;\r\nconst LINE_HEIGHT_MULTIPLIER = 1.5;\r\nconst ArrowFlag = (_a) => {\r\n    var { boundingBoxes, className, label } = _a, extraProps = ArrowFlag_rest(_a, ["boundingBoxes", "className", "label"]);\r\n    const { pageDimensions } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(DocumentContext);\r\n    const convertRatioToPx = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback((rawBoundingBox) => scaleRawBoundingBox(rawBoundingBox, pageDimensions.height, pageDimensions.width), [pageDimensions]);\r\n    if (boundingBoxes.length == 0)\r\n        return null;\r\n    // If any bounding boxes span over the center line, we know that either the paper is\r\n    // single-column or a mix of single-column and two-column. In such case, bounding\r\n    // boxes will not be divided so as to guarantee only 1 flag is rendered on the left side.\r\n    const hasWideBox = boundingBoxes.some(({ left, width }) => left < CENTER_LINE && left + width >= CENTER_LINE);\r\n    let leftBoundingBoxes = boundingBoxes, rightBoundingBoxes = [];\r\n    if (!hasWideBox) {\r\n        leftBoundingBoxes = boundingBoxes.filter(({ left }) => left < CENTER_LINE);\r\n        rightBoundingBoxes = boundingBoxes.filter(({ left }) => left >= CENTER_LINE);\r\n    }\r\n    // To handle a special case where the previous bounding box is on the right while\r\n    // the later is on the left. In such case, there are only 2 bounding boxes.\r\n    // The vertical distance between the two boxes is used to differentiate whether this case\r\n    // happens on a single-column paper or a two-column paper. If it\'s the previous, then\r\n    // the whole flag should appear on the left. Both bounding boxes will be categorized\r\n    // as leftBoundingBoxes. Otherwise, the tail wrapping still applies.\r\n    if (leftBoundingBoxes.length === 1 && rightBoundingBoxes.length === 1) {\r\n        // If the vertical difference between the two boxes is smaller then 1.5 times line height,\r\n        // the paper is categorized as single-column. Both bounding boxes are set to leftBoundingBoxes.\r\n        // ArrowFlag will appear on the left\r\n        if (Math.abs(rightBoundingBoxes[0].top - leftBoundingBoxes[0].top) <\r\n            LINE_HEIGHT_MULTIPLIER * rightBoundingBoxes[0].height) {\r\n            leftBoundingBoxes = boundingBoxes;\r\n            rightBoundingBoxes = [];\r\n        }\r\n    }\r\n    // Sort bounding boxes by their top positions\r\n    leftBoundingBoxes.sort((first, second) => first.top - second.top);\r\n    rightBoundingBoxes.sort((first, second) => first.top - second.top);\r\n    const renderArrowFlagBase = (boxes, position, showLabel) => {\r\n        if (boxes.length == 0)\r\n            return null;\r\n        const firstBox = convertRatioToPx(boxes[0]), lastBox = convertRatioToPx(boxes[boxes.length - 1]);\r\n        const props = {\r\n            label: showLabel ? label : undefined,\r\n            tailLength: lastBox.top + lastBox.height - firstBox.top,\r\n            originTop: firstBox.top,\r\n            position,\r\n        };\r\n        return external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement(ArrowFlagBase, Object.assign({}, props));\r\n    };\r\n    const hasLeftFlag = leftBoundingBoxes.length > 0;\r\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", Object.assign({ className: classnames_default()(\'pdf-reader__arrow-flag\', className) }, extraProps),\r\n        renderArrowFlagBase(leftBoundingBoxes, POSITION.LEFT, hasLeftFlag),\r\n        renderArrowFlagBase(rightBoundingBoxes, POSITION.RIGHT, !hasLeftFlag)));\r\n};\r\n\n;// CONCATENATED MODULE: ./src/components/outline/OutlineItem.tsx\n\r\n\r\n\r\nconst OutlineItem = ({ items, onClick }) => {\r\n    const { isOutlineTargetVisible } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(ScrollContext);\r\n    if (!items || !items.length) {\r\n        return null;\r\n    }\r\n    function renderItem(item) {\r\n        var _a;\r\n        const clickHandler = (event) => {\r\n            event.preventDefault();\r\n            if (onClick) {\r\n                onClick(item.dest);\r\n            }\r\n        };\r\n        // If an item has sub titles, render <OutlineItem />\r\n        return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("li", { key: ((_a = item.dest) === null || _a === void 0 ? void 0 : _a.toString()) || item.title, className: classnames_default()(\'reader__outline-item\', {\r\n                \'reader__outline-item--target-visible\': isOutlineTargetVisible(item.dest),\r\n            }) },\r\n            external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("a", { href: "#", onClick: clickHandler, "data-test-id": "reader-outline-item" }, item.title),\r\n            external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement(OutlineItem, { items: item.items, onClick: onClick })));\r\n    }\r\n    return external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("ul", { className: "reader__outline-items" }, items.map(item => renderItem(item)));\r\n};\r\n\n;// CONCATENATED MODULE: ./src/components/outline/Outline.tsx\nvar Outline_rest = (undefined && undefined.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === "function")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\n\r\n\r\n\r\n\r\nconst Outline = (_a) => {\r\n    var extraProps = Outline_rest(_a, []);\r\n    const { outline, pdfDocProxy, setOutline, setOutlinePositions } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(DocumentContext);\r\n    const { scrollToOutlineTarget, resetScrollObservers } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(ScrollContext);\r\n    external_commonjs_react_commonjs2_react_amd_react_root_React_.useEffect(() => {\r\n        if (outline) {\r\n            return;\r\n        }\r\n        if (!pdfDocProxy) {\r\n            return;\r\n        }\r\n        pdfDocProxy\r\n            .getOutline()\r\n            .then((outlineArray) => {\r\n            setOutline(outlineArray);\r\n            return buildOutlinePositions(pdfDocProxy, outlineArray);\r\n        })\r\n            .then(outlinePositions => {\r\n            setOutlinePositions(outlinePositions);\r\n        })\r\n            .then(() => {\r\n            resetScrollObservers();\r\n        });\r\n    }, [outline]);\r\n    const clickHandler = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback((dest) => {\r\n        if (!dest) {\r\n            return;\r\n        }\r\n        scrollToOutlineTarget(dest);\r\n        return;\r\n    }, []);\r\n    if (!pdfDocProxy) {\r\n        return null;\r\n    }\r\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", Object.assign({ className: "reader__outline" }, extraProps), !!outline && external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement(OutlineItem, { items: outline, onClick: clickHandler })));\r\n};\r\n\n;// CONCATENATED MODULE: ./src/components/Overlay.tsx\nvar Overlay_rest = (undefined && undefined.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === "function")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\n\r\n\r\n\r\n\r\nconst Overlay = (_a) => {\r\n    var { children } = _a, extraProps = Overlay_rest(_a, ["children"]);\r\n    const { pageDimensions } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(DocumentContext);\r\n    const { rotation, scale } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(TransformContext);\r\n    const getOverlayStyle = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(() => {\r\n        return computePageStyle(pageDimensions, rotation, scale);\r\n    }, [pageDimensions, rotation, scale]);\r\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", Object.assign({ className: "pdf-reader__overlay", style: getOverlayStyle() }, extraProps), children));\r\n};\r\n\n;// CONCATENATED MODULE: ./src/utils/MaxVisibleElement.ts\nfunction getMaxVisibleElement(visibleElements) {\r\n    let maxVisibleKey = null;\r\n    let maxRatio = 0;\r\n    for (const [visibleKey, { ratio }] of visibleElements) {\r\n        if (maxRatio < ratio) {\r\n            maxVisibleKey = visibleKey;\r\n            maxRatio = ratio;\r\n        }\r\n    }\r\n    return maxVisibleKey;\r\n}\r\n\n;// CONCATENATED MODULE: ./src/components/PageNumberControl.tsx\n\r\n\r\n\r\n\r\n\r\nconst DELAY_SCROLL_TIME_OUT_MS = 1000;\r\nconst PageNumberControl = ({ className }) => {\r\n    const delayTimerRef = external_commonjs_react_commonjs2_react_amd_react_root_React_.useRef();\r\n    const { numPages } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(DocumentContext);\r\n    const { scrollToPage, visiblePageRatios } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(ScrollContext);\r\n    const [minPage, setMinPage] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(0);\r\n    const [userInput, setUserInput] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(\'0\');\r\n    // Initialize page control element\r\n    external_commonjs_react_commonjs2_react_amd_react_root_React_.useEffect(() => {\r\n        if (numPages != 0) {\r\n            setMinPage(1);\r\n        }\r\n    }, [numPages]);\r\n    // Everytime we scroll through the page this useEffect\r\n    // will trigger and set current page based on our current\r\n    // scroll position\r\n    external_commonjs_react_commonjs2_react_amd_react_root_React_.useEffect(() => {\r\n        if (visiblePageRatios.size !== 0) {\r\n            const maxVisiblePageNumber = getMaxVisibleElement(visiblePageRatios);\r\n            if (maxVisiblePageNumber) {\r\n                setUserInput(maxVisiblePageNumber.toString());\r\n            }\r\n        }\r\n    }, [visiblePageRatios]);\r\n    const onPageNumberChange = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback((event) => {\r\n        const { value } = event.currentTarget;\r\n        // Decimal case\r\n        if (!Number.isInteger(value)) {\r\n            setUserInput(parseInt(value, 10).toString());\r\n        }\r\n        setUserInput(value);\r\n        if (delayTimerRef.current) {\r\n            clearTimeout(delayTimerRef.current);\r\n        }\r\n        // After user input the page that they want to scroll to\r\n        // our ref will start setting a delay around 1s before scroll\r\n        // to the position that user desire\r\n        const newPageNumber = parseInt(value, 10);\r\n        if (newPageNumber >= minPage && newPageNumber <= numPages) {\r\n            delayTimerRef.current = setTimeout(() => {\r\n                scrollToPage({ pageNumber: newPageNumber });\r\n            }, DELAY_SCROLL_TIME_OUT_MS);\r\n        }\r\n    }, [minPage, numPages, scrollToPage]);\r\n    const handleBlur = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(() => {\r\n        if (delayTimerRef.current) {\r\n            clearTimeout(delayTimerRef.current);\r\n        }\r\n        const pageNumber = parseInt(userInput, 10);\r\n        if (Number.isNaN(pageNumber)) {\r\n            return;\r\n        }\r\n        delayTimerRef.current = setTimeout(() => {\r\n            scrollToPage({ pageNumber: pageNumber });\r\n        }, DELAY_SCROLL_TIME_OUT_MS);\r\n    }, [userInput, scrollToPage]);\r\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", { className: classnames_default()(\'pdf-reader__page-number-control\', className) },\r\n        external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("input", { "aria-label": "Current Page", className: "pdf-reader__page-number-control__current-page", type: "number", name: "currentPage", value: userInput, onChange: onPageNumberChange, onBlur: handleBlur }),\r\n        external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("span", { className: "pdf-reader__page-number-control__separator " }, "/"),\r\n        external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("span", { "aria-label": "Total Pages", className: "pdf-reader__page-number-control__total-pages" }, numPages)));\r\n};\r\n\n;// CONCATENATED MODULE: ./src/context/PageRenderContext.ts\nvar PageRenderContext_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\nconst PageRenderContext = external_commonjs_react_commonjs2_react_amd_react_root_React_.createContext({\r\n    pageRenderStates: new Map(),\r\n    getObjectURLForPage: args => {\r\n        logProviderWarning(`getObjectURLForPage(${JSON.stringify(args)})`, \'PageRenderContext\');\r\n        return null;\r\n    },\r\n    isBuildingObjectURLForPage: args => {\r\n        logProviderWarning(`isBuildingObjectURLForPage(${JSON.stringify(args)})`, \'PageRenderContext\');\r\n        return false;\r\n    },\r\n    isFinishedBuildingAllPagesObjectURLs: () => {\r\n        logProviderWarning(`isFinishedBuildingAllPagesObjectURLs()`, \'PageRenderContext\');\r\n        return false;\r\n    },\r\n    buildObjectURLForPage: args => {\r\n        logProviderWarning(`buildObjectURLForPage(${JSON.stringify(args)})`, \'PageRenderContext\');\r\n        return Promise.resolve(\'\');\r\n    },\r\n});\r\nfunction usePageRenderContextProps({ pdfDocProxy, pixelRatio, scale, visiblePageRatios, }) {\r\n    const [pageRenderStates, _setPageRenderStates] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(() => {\r\n        const map = new Map();\r\n        Object.freeze(map);\r\n        return map;\r\n    });\r\n    // Because rendering a page is async, we will lose the current pageRenderStates\r\n    // This ref trick allows the latest to be accessible when the objectURL is ready\r\n    const pageRenderStatesRef = external_commonjs_react_commonjs2_react_amd_react_root_React_.useRef(pageRenderStates);\r\n    const setPageRenderStates = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback((pageRenderStates) => {\r\n        pageRenderStatesRef.current = pageRenderStates;\r\n        _setPageRenderStates(pageRenderStates);\r\n    }, [pageRenderStatesRef]);\r\n    const isBuildingObjectURLForPage = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(({ pageNumber, pageIndex }) => {\r\n        if (typeof pageIndex === \'number\') {\r\n            pageNumber = pageIndex + 1;\r\n        }\r\n        if (typeof pageNumber !== \'number\') {\r\n            return false;\r\n        }\r\n        const state = pageRenderStates.get(pageNumber);\r\n        if (!state) {\r\n            return false;\r\n        }\r\n        return !state.objectURL;\r\n    }, [pageRenderStates]);\r\n    const isFinishedBuildingAllPagesObjectURLs = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(() => {\r\n        var _a;\r\n        if (!pdfDocProxy)\r\n            return false;\r\n        for (let pageNumber = 1; pageNumber <= pdfDocProxy.numPages; pageNumber++) {\r\n            if (!((_a = pageRenderStates.get(pageNumber)) === null || _a === void 0 ? void 0 : _a.objectURL)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }, [pdfDocProxy, pageRenderStates]);\r\n    const getObjectURLForPage = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(({ pageNumber, pageIndex }) => {\r\n        var _a;\r\n        if (typeof pageIndex === \'number\') {\r\n            pageNumber = pageIndex + 1;\r\n        }\r\n        if (typeof pageNumber !== \'number\') {\r\n            return null;\r\n        }\r\n        return ((_a = pageRenderStates.get(pageNumber)) === null || _a === void 0 ? void 0 : _a.objectURL) || null;\r\n    }, [pageRenderStates]);\r\n    const buildObjectURLForPage = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(({ pageNumber, pageIndex }) => {\r\n        var _a;\r\n        if (typeof pageIndex === \'number\') {\r\n            pageNumber = pageIndex + 1;\r\n        }\r\n        if (typeof pageNumber !== \'number\') {\r\n            throw new Error(\'prop "pageNumber" is not a number\');\r\n        }\r\n        if (!pdfDocProxy) {\r\n            throw new Error(\'cannot build a page until a "pdfDocProxy" is set on DocumentContext\');\r\n        }\r\n        // Don\'t need to start another task if already rendered\r\n        const existingPromise = (_a = pageRenderStates.get(pageNumber)) === null || _a === void 0 ? void 0 : _a.promise;\r\n        if (existingPromise) {\r\n            return existingPromise;\r\n        }\r\n        const promise = buildPageObjectURL({\r\n            pageNumber,\r\n            pdfDocProxy,\r\n            pixelRatio,\r\n            scale,\r\n            promiseTimestamp: flushTimestamp,\r\n        });\r\n        const renderState = {\r\n            promise,\r\n            objectURL: null,\r\n        };\r\n        promise.then(objectURL => {\r\n            if (!objectURL)\r\n                return;\r\n            renderState.objectURL = objectURL;\r\n            const newPageRenderStates = new Map(pageRenderStatesRef.current);\r\n            Object.freeze(newPageRenderStates);\r\n            setPageRenderStates(newPageRenderStates);\r\n        });\r\n        const newPageRenderStates = new Map(pageRenderStatesRef.current);\r\n        newPageRenderStates.set(pageNumber, renderState);\r\n        Object.freeze(newPageRenderStates);\r\n        setPageRenderStates(newPageRenderStates);\r\n        return promise;\r\n    }, [pageRenderStates, pdfDocProxy, scale]);\r\n    external_commonjs_react_commonjs2_react_amd_react_root_React_.useEffect(() => {\r\n        const visiblePages = [...visiblePageRatios.keys()];\r\n        if (!pdfDocProxy || [...pageRenderStates.keys()].length === pdfDocProxy.numPages) {\r\n            return;\r\n        }\r\n        const priorityQueue = getPriorityQueue(visiblePages, pdfDocProxy.numPages);\r\n        for (const pageNumber of priorityQueue) {\r\n            buildObjectURLForPage({ pageNumber });\r\n        }\r\n    }, [pageRenderStates, pdfDocProxy, visiblePageRatios]);\r\n    // Flush page render states when scale changes\r\n    external_commonjs_react_commonjs2_react_amd_react_root_React_.useEffect(() => {\r\n        // Clean memory of old generated images\r\n        for (const [, renderState] of pageRenderStatesRef.current) {\r\n            if (renderState.objectURL) {\r\n                URL.revokeObjectURL(renderState.objectURL);\r\n            }\r\n        }\r\n        // if current async promises dont have this timestamp, then we flush them\r\n        flushTimestamp = new Date().getTime();\r\n        // Clear all page render states, so pages can rebuild images\r\n        const newPageRenderStates = new Map();\r\n        Object.freeze(newPageRenderStates);\r\n        setPageRenderStates(newPageRenderStates);\r\n    }, [scale, pixelRatio]);\r\n    return {\r\n        pageRenderStates,\r\n        getObjectURLForPage,\r\n        isBuildingObjectURLForPage,\r\n        isFinishedBuildingAllPagesObjectURLs,\r\n        buildObjectURLForPage,\r\n    };\r\n}\r\nfunction getNeighboringPages(pages, numTotalPages) {\r\n    return pages.length === 0\r\n        ? []\r\n        : [Math.max(1, pages[0] - 1), Math.min(numTotalPages, pages[pages.length - 1] + 1)];\r\n}\r\nfunction getPriorityQueue(visiblePages, numPages) {\r\n    const visiblePagesNeighbors = getNeighboringPages(visiblePages, numPages);\r\n    const allPages = Array.from({ length: numPages }, (_, i) => i + 1);\r\n    const priorityQueue = new Set([...visiblePages, ...visiblePagesNeighbors, ...allPages]); // put into set to remove duplicats\r\n    return Array.from(priorityQueue); // convert set to array\r\n}\r\n// This boost causes the rendered image to be scaled up by this amount\r\nconst SCALE_BOOST = 2;\r\n// Generate an object url for a given page, rendered in a shared canvas\r\nfunction buildPageObjectURL({ pageNumber, pdfDocProxy, pixelRatio = (typeof window !== \'undefined\' ? window.devicePixelRatio : null) || 0, scale = 1, imageType = \'image/png\', imageQuality = 1.0, promiseTimestamp, }) {\r\n    return PageRenderContext_awaiter(this, void 0, void 0, function* () {\r\n        const pageProxy = yield pdfDocProxy.getPage(pageNumber);\r\n        const blob = yield useRenderCanvas((canvas) => PageRenderContext_awaiter(this, void 0, void 0, function* () {\r\n            if (promiseTimestamp !== flushTimestamp) {\r\n                return promiseTimestamp; // flush stale promise\r\n            }\r\n            // Render page in a canvas\r\n            const viewport = pageProxy.getViewport({ scale: scale * pixelRatio * SCALE_BOOST });\r\n            canvas.height = viewport.height;\r\n            canvas.width = viewport.width;\r\n            const canvasContext = canvas.getContext(\'2d\');\r\n            if (!canvasContext) {\r\n                throw new Error(\'canvas was unable to get a context\');\r\n            }\r\n            const renderTask = pageProxy.render({\r\n                canvasContext,\r\n                viewport,\r\n                intent: \'print\', // immediately render pages on inactive pages\r\n            });\r\n            yield renderTask.promise;\r\n            yield new Promise(resolve => setTimeout(resolve, 16));\r\n            // Fetch a blob for an image of the canvas\r\n            return new Promise((resolve, reject) => {\r\n                try {\r\n                    canvas.toBlob(blob => resolve(blob), imageType, imageQuality);\r\n                }\r\n                catch (error) {\r\n                    reject(error);\r\n                }\r\n            });\r\n        }));\r\n        if (typeof blob === \'number\') {\r\n            return \'\';\r\n        }\r\n        // Convert blob image to object url\r\n        if (!blob) {\r\n            throw new Error(\'unable to create image from page\');\r\n        }\r\n        return URL.createObjectURL(blob);\r\n    });\r\n}\r\nlet renderCanvas = null;\r\n// Get or create a shared canvas for rendering pages in\r\nfunction getRenderCanvas() {\r\n    if (!renderCanvas) {\r\n        renderCanvas = document.createElement(\'canvas\');\r\n    }\r\n    return renderCanvas;\r\n}\r\nlet flushTimestamp = new Date().getTime();\r\nlet nextCanvasUse = Promise.resolve();\r\n// Use the shared canvas to render a page, using promises to create a queue\r\nfunction useRenderCanvas(callback) {\r\n    return PageRenderContext_awaiter(this, void 0, void 0, function* () {\r\n        // eslint-disable-next-line @typescript-eslint/no-empty-function\r\n        let resolve = (_value) => { };\r\n        // eslint-disable-next-line @typescript-eslint/no-empty-function\r\n        let reject = (_reason) => { };\r\n        const prom = new Promise((_resolve, _reject) => {\r\n            resolve = _resolve;\r\n            reject = _reject;\r\n        });\r\n        nextCanvasUse = nextCanvasUse.then(() => callback(getRenderCanvas()).then(resolve, reject));\r\n        const result = yield prom;\r\n        yield new Promise(res => setTimeout(res, 16)); // Give some time between renders\r\n        return result;\r\n    });\r\n}\r\n\n;// CONCATENATED MODULE: ./src/components/PageWrapper.tsx\nvar PageWrapper_rest = (undefined && undefined.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === "function")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst PageWrapper = (_a) => {\r\n    var { children, error, loading, loadingContentForBuildingImage, noData, pageIndex, renderType } = _a, extraProps = PageWrapper_rest(_a, ["children", "error", "loading", "loadingContentForBuildingImage", "noData", "pageIndex", "renderType"]);\r\n    const { rotation, scale } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(TransformContext);\r\n    const { pageDimensions, getOutlineTargets, setNumPagesLoaded } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(DocumentContext);\r\n    const { getObjectURLForPage, isBuildingObjectURLForPage } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(PageRenderContext);\r\n    const { isLoading } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(UiContext);\r\n    const objectURLForPage = getObjectURLForPage({ pageIndex });\r\n    const isBuildingPageImage = isBuildingObjectURLForPage({ pageIndex });\r\n    // Don\'t display until we have page size data\r\n    // TODO: Handle this nicer so we display either the loading or error treatment\r\n    if (!pageDimensions) {\r\n        return null;\r\n    }\r\n    const getPageStyle = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(() => {\r\n        const styles = computePageStyle(pageDimensions, rotation, scale);\r\n        if (objectURLForPage) {\r\n            styles.backgroundImage = `url(${objectURLForPage})`;\r\n        }\r\n        return styles;\r\n    }, [pageDimensions, rotation, scale, objectURLForPage]);\r\n    const getWidth = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(() => {\r\n        return getPageWidth(pageDimensions, rotation);\r\n    }, [pageDimensions, rotation]);\r\n    const outlineTargets = getOutlineTargets({\r\n        pageIndex,\r\n        scale,\r\n        rotation,\r\n        pageDimensions,\r\n    });\r\n    const markPageAsLoaded = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(() => {\r\n        setNumPagesLoaded(prevNumPagesLoaded => prevNumPagesLoaded + 1);\r\n    }, []);\r\n    // Width needs to be set to prevent the outermost Page div from extending to fit the parent,\r\n    // and mis-aligning the text layer.\r\n    // TODO: Can we CSS this to auto-shrink?\r\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", Object.assign({ id: generatePageIdFromIndex(pageIndex), className: classnames_default()(\'pdf-reader__page\', { \'pdf-reader__page--has-page-image\': objectURLForPage }, { \'pdf-reader__page--no-page-image\': !objectURLForPage }, `pdf-reader__page--render-type-${getClassNameSuffixFromRenderType(renderType)}`, { \'pdf-reader__is-building-page-image\': isBuildingPageImage }), "data-page-number": pageIndex + 1, style: getPageStyle() }, extraProps),\r\n        children,\r\n        isBuildingPageImage && !isLoading && (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", { className: classnames_default()(\'pdf-reader__page\', {\r\n                \'pdf-reader__page--is-loading-image\': isBuildingPageImage,\r\n            }) }, loadingContentForBuildingImage)),\r\n        external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement(external_react_pdf_.Page, { width: getWidth(), error: error, loading: loading, noData: noData, pageIndex: pageIndex, scale: scale, rotate: rotation, renderAnnotationLayer: true, onGetTextSuccess: markPageAsLoaded }),\r\n        external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", { className: "pdf-reader__page__outline-targets" }, outlineTargets.map(({ dest, leftPx, topPx }) => (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("span", { key: dest, className: "pdf-reader__page__outline-target", "data-outline-target-dest": dest, "data-test-id": "pdf-reader__page__outline-target", style: { left: leftPx + \'px\', top: topPx + \'px\' } }))))));\r\n};\r\n\n;// CONCATENATED MODULE: ./src/components/PrintButton.tsx\nvar PrintButton_rest = (undefined && undefined.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === "function")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\n\r\n/**\r\n * HTML anchor tag allows you to download a file from the same origin.\r\n * This is a workaround to download a file served from a different origin\r\n */\r\nconst PrintButton = (_a) => {\r\n    var { children, className } = _a, extraProps = PrintButton_rest(_a, ["children", "className"]);\r\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("button", Object.assign({ onClick: () => onClickPrint(), "aria-label": "Print PDF", className: `pdf-reader__print-btn ${className}` }, extraProps), children ? children : \'Print\'));\r\n};\r\nfunction onClickPrint() {\r\n    window.print();\r\n}\r\n\n;// CONCATENATED MODULE: ./src/utils/util.ts\n// This function returns min or max if value exceeds the range, otherwise\r\n// the original value is returned\r\nconst bandPassFilter = (value, min, max) => {\r\n    return Math.min(Math.max(value, min), max);\r\n};\r\n\n;// CONCATENATED MODULE: ./src/components/SidePanel.tsx\nvar SidePanel_rest = (undefined && undefined.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === "function")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\n\r\n\r\n\r\nconst DEFAULT_MIN_WIDTH_PX = 300;\r\nconst DEFAULT_MAX_WIDTH_PX = 700;\r\nconst SidePanel = (_a) => {\r\n    var { minWidthPx = DEFAULT_MIN_WIDTH_PX, maxWidthPx = DEFAULT_MAX_WIDTH_PX, className, children, header, content, footer, dragHandlePosition, closeButton, isVisible = true, onClose } = _a, extraProps = SidePanel_rest(_a, ["minWidthPx", "maxWidthPx", "className", "children", "header", "content", "footer", "dragHandlePosition", "closeButton", "isVisible", "onClose"]);\r\n    // The overlay is used to catch mouse up events over iframe contents\r\n    // so the mouseup events will not be missed if the click is released over\r\n    // the iframe and the event listeners will fail to be removed\r\n    const [isOverlayVisible, setIsOverlayVisible] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(false);\r\n    const [panelWidth, setPanelWidth] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(minWidthPx);\r\n    const sidePanelRef = external_commonjs_react_commonjs2_react_amd_react_root_React_.useRef(null);\r\n    const dragHandleRef = external_commonjs_react_commonjs2_react_amd_react_root_React_.useRef(null);\r\n    const renderCloseButton = () => {\r\n        if (typeof closeButton === \'boolean\') {\r\n            return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("button", { className: "pdf-reader__side-panel-close-button", onClick: onClose }, "x"));\r\n        }\r\n        return closeButton;\r\n    };\r\n    const renderDragHandle = () => {\r\n        const isDragHandleOnLeft = dragHandlePosition === \'left\';\r\n        const isDragHandleOnRight = dragHandlePosition === \'right\';\r\n        if (!isDragHandleOnLeft && !isDragHandleOnRight) {\r\n            return null;\r\n        }\r\n        const onMouseMove = (mouseMoveEvent) => {\r\n            if (!sidePanelRef || !sidePanelRef.current) {\r\n                return;\r\n            }\r\n            const newWidth = dragHandlePosition === \'left\'\r\n                ? sidePanelRef.current.getBoundingClientRect().right - mouseMoveEvent.pageX\r\n                : mouseMoveEvent.pageX - sidePanelRef.current.getBoundingClientRect().left;\r\n            setPanelWidth(bandPassFilter(newWidth, minWidthPx, maxWidthPx));\r\n        };\r\n        const onMouseUp = () => {\r\n            // drop opacity styling on drag handle\r\n            if (dragHandleRef && dragHandleRef.current) {\r\n                dragHandleRef.current.removeAttribute(\'style\');\r\n            }\r\n            setIsOverlayVisible(false);\r\n            document.body.removeEventListener(\'mousemove\', onMouseMove);\r\n        };\r\n        const onDraggingHandle = () => {\r\n            // prevent flashing when the mouse hovers outside the resize zone\r\n            if (dragHandleRef && dragHandleRef.current) {\r\n                dragHandleRef.current.style.opacity = \'1\';\r\n            }\r\n            setIsOverlayVisible(true);\r\n            document.body.addEventListener(\'mousemove\', onMouseMove);\r\n            document.body.addEventListener(\'mouseup\', onMouseUp, { once: true });\r\n        };\r\n        const onChangePanelWidth = (event) => {\r\n            const newWidth = parseInt(event.currentTarget.value);\r\n            setPanelWidth(bandPassFilter(newWidth, minWidthPx, maxWidthPx));\r\n        };\r\n        return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", { className: classnames_default()(\'pdf-reader__resize-zone\', {\r\n                \'pdf-reader__resize-zone--left\': isDragHandleOnLeft,\r\n                \'pdf-reader__resize-zone--right\': isDragHandleOnRight,\r\n            }) },\r\n            external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("input", { className: "pdf-reader__drag-handle__assistive-input", type: "range", min: minWidthPx, max: maxWidthPx, step: "5", value: panelWidth, onChange: onChangePanelWidth }),\r\n            external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", { ref: dragHandleRef, role: "slider", "aria-valuenow": panelWidth, tabIndex: -1, onMouseDown: onDraggingHandle, className: "pdf-reader__drag-handle" },\r\n                external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", { className: "pdf-reader__drag-handle__inner" }))));\r\n    };\r\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", Object.assign({ ref: sidePanelRef, style: { width: panelWidth }, className: classnames_default()(\'pdf-reader__side-panel\', { \'pdf-reader__side-panel--hidden\': !isVisible }, className) }, extraProps),\r\n        renderDragHandle(),\r\n        closeButton && renderCloseButton(),\r\n        header && external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("h2", { className: "pdf-reader__side-panel-title" }, header),\r\n        content && external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", { className: "pdf-reader__side-panel-content" }, content),\r\n        footer && external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", { className: "pdf-reader__side-panel-footer" }, footer),\r\n        children,\r\n        isOverlayVisible && external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", { className: "pdf-reader__side-panel-overlay" })));\r\n};\r\n\n;// CONCATENATED MODULE: ./src/components/thumbnails/Thumbnail.tsx\n\r\n\r\n\r\n\r\n\r\nconst Thumbnail = ({ pageNumber }) => {\r\n    const { getObjectURLForPage } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(PageRenderContext);\r\n    const { isPageVisible, scrollToPage, visiblePageRatios } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(ScrollContext);\r\n    const [maxVisiblePageNumber, setMaxVisiblePageNumber] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(null);\r\n    const objectURL = getObjectURLForPage({ pageNumber });\r\n    external_commonjs_react_commonjs2_react_amd_react_root_React_.useEffect(() => {\r\n        if (visiblePageRatios.size !== 0) {\r\n            const max = getMaxVisibleElement(visiblePageRatios);\r\n            if (max) {\r\n                setMaxVisiblePageNumber(max.toString());\r\n            }\r\n        }\r\n    }, [visiblePageRatios]);\r\n    const isThumbnailVisible = maxVisiblePageNumber &&\r\n        parseInt(maxVisiblePageNumber) === pageNumber &&\r\n        isPageVisible({ pageNumber });\r\n    const onClick = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(event => {\r\n        event.preventDefault();\r\n        scrollToPage({ pageNumber });\r\n    }, [pageNumber, scrollToPage]);\r\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("a", { "aria-label": `scroll to page ${pageNumber}`, href: `#${pageNumber}`, onClick: onClick, className: classnames_default()(\'pdf-reader__thumbnail\', { \'pdf-reader__thumbnail--no-image\': !objectURL }, { \'pdf-reader__thumbnail--is-visible\': isThumbnailVisible }), "data-page-number": pageNumber, "data-test-id": "thumbnail-link" }, !!objectURL && external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("img", { className: "pdf-reader__thumbnail-image", src: objectURL })));\r\n};\r\n\n;// CONCATENATED MODULE: ./src/components/thumbnails/ThumbnailList.tsx\n\r\n\r\n\r\nconst ThumbnailList = () => {\r\n    const { numPages } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(DocumentContext);\r\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", { className: "pdf-reader__thumbnail-list-wrapper" },\r\n        external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("ul", { className: "pdf-reader__thumbnail-list" }, Array.from({ length: numPages }).map((_, pageIndex) => (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("li", { key: pageIndex + 1, className: "pdf-reader__thumbnail-list__item" },\r\n            external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement(Thumbnail, { pageNumber: pageIndex + 1 })))))));\r\n};\r\n\n;// CONCATENATED MODULE: ./src/utils/format.ts\nconst PercentFormatter = new Intl.NumberFormat(\'en-US\', {\r\n    style: \'percent\',\r\n    maximumSignificantDigits: 3,\r\n});\r\n\n;// CONCATENATED MODULE: ./src/components/ZoomInButton.tsx\nvar ZoomInButton_rest = (undefined && undefined.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === "function")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\n\r\n\r\n\r\nconst MAX_ZOOM_IN_SCALE = 500;\r\nconst ZoomInButton = (_a) => {\r\n    var { className, children, onZoom } = _a, extraProps = ZoomInButton_rest(_a, ["className", "children", "onZoom"]);\r\n    const { scale, setScale, zoomIncrementValue } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(TransformContext);\r\n    const handleZoomIn = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback((event) => {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        const newScaleValue = scale + zoomIncrementValue;\r\n        const zoomScale = Number(PercentFormatter.format(newScaleValue).replace(\'%\', \'\'));\r\n        if (zoomScale <= MAX_ZOOM_IN_SCALE) {\r\n            if (onZoom) {\r\n                onZoom(newScaleValue);\r\n            }\r\n            setScale(newScaleValue);\r\n        }\r\n    }, [scale]);\r\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("button", Object.assign({ className: `reader__zoom-btn zoom-in ${className}`, onClick: handleZoomIn }, extraProps), children ? children : \'+\'));\r\n};\r\n\n;// CONCATENATED MODULE: ./src/components/ZoomOutButton.tsx\nvar ZoomOutButton_rest = (undefined && undefined.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === "function")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\n\r\n\r\n\r\nconst MIN_ZOOM_OUT_SCALE = 20;\r\nconst ZoomOutButton = (_a) => {\r\n    var { className, children, onZoom } = _a, extraProps = ZoomOutButton_rest(_a, ["className", "children", "onZoom"]);\r\n    const { scale, setScale, zoomIncrementValue } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(TransformContext);\r\n    const handleZoomOut = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback((event) => {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        const newScaleValue = scale - zoomIncrementValue;\r\n        const zoomScale = Number(PercentFormatter.format(newScaleValue).replace(\'%\', \'\'));\r\n        if (zoomScale >= MIN_ZOOM_OUT_SCALE) {\r\n            if (onZoom) {\r\n                onZoom(newScaleValue);\r\n            }\r\n            setScale(newScaleValue);\r\n        }\r\n    }, [scale]);\r\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("button", Object.assign({ className: `reader__zoom-btn zoom-out ${className}`, onClick: handleZoomOut }, extraProps), children ? children : \'-\'));\r\n};\r\n\n;// CONCATENATED MODULE: ./src/context/ContextProvider.tsx\n\r\n\r\n\r\n\r\n\r\n\r\nconst ContextProvider = ({ children }) => {\r\n    const documentProps = useDocumentContextProps();\r\n    const transformProps = useTransformContextProps();\r\n    const uiProps = useUiContextProps();\r\n    const scrollProps = useScrollContextProps();\r\n    const pageRenderProps = usePageRenderContextProps({\r\n        pdfDocProxy: documentProps.pdfDocProxy,\r\n        pixelRatio: transformProps.pixelRatio,\r\n        scale: transformProps.scale,\r\n        visiblePageRatios: scrollProps.visiblePageRatios,\r\n    });\r\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement(DocumentContext.Provider, { value: documentProps },\r\n        external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement(TransformContext.Provider, { value: transformProps },\r\n            external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement(UiContext.Provider, { value: uiProps },\r\n                external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement(ScrollContext.Provider, { value: scrollProps },\r\n                    external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement(PageRenderContext.Provider, { value: pageRenderProps }, children))))));\r\n};\r\n\n;// CONCATENATED MODULE: ./index.ts\n/*\r\n * PDF Component Library exports\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/* harmony default export */ const index = ({\r\n    BoundingBox: BoundingBox,\r\n    computeBoundingBoxStyle: computeBoundingBoxStyle,\r\n    computePageStyle: computePageStyle,\r\n    ContextProvider: ContextProvider,\r\n    DEFAULT_ZOOM_SCALE: DEFAULT_ZOOM_SCALE,\r\n    DocumentContext: DocumentContext,\r\n    DocumentWrapper: DocumentWrapper,\r\n    DownloadButton: DownloadButton,\r\n    ArrowFlag: ArrowFlag,\r\n    ArrowFlagBase: ArrowFlagBase,\r\n    PrintButton: PrintButton,\r\n    generatePageIdFromIndex: generatePageIdFromIndex,\r\n    getPageHeight: getPageHeight,\r\n    getPageWidth: getPageWidth,\r\n    HighlightOverlay: HighlightOverlay,\r\n    IconFlag: IconFlag,\r\n    isSideways: isSideways,\r\n    Outline: Outline,\r\n    OutlineItem: OutlineItem,\r\n    Overlay: Overlay,\r\n    PageNumberControl: PageNumberControl,\r\n    PageRenderContext: PageRenderContext,\r\n    PageRotation: PageRotation,\r\n    PageWrapper: PageWrapper,\r\n    POSITION: POSITION,\r\n    SidePanel: SidePanel,\r\n    PercentFormatter: PercentFormatter,\r\n    RENDER_TYPE: RENDER_TYPE,\r\n    rotateClockwise: rotateClockwise,\r\n    rotateCounterClockwise: rotateCounterClockwise,\r\n    scaleRawBoundingBox: scaleRawBoundingBox,\r\n    scrollToId: scrollToId,\r\n    scrollToPdfPageIndex: scrollToPdfPageIndex,\r\n    Thumbnail: Thumbnail,\r\n    ThumbnailList: ThumbnailList,\r\n    ScrollContext: ScrollContext,\r\n    TransformContext: TransformContext,\r\n    UiContext: UiContext,\r\n    ZoomInButton: ZoomInButton,\r\n    ZoomOutButton: ZoomOutButton,\r\n});\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AYWxsZW5haS9wZGYtY29tcG9uZW50cy8uL3NyYy91dGlscy9wcm92aWRlci50cz84NWFhIiwid2VicGFjazovL0BhbGxlbmFpL3BkZi1jb21wb25lbnRzLy4vc3JjL3V0aWxzL3JvdGF0ZS50cz9jZGJiIiwid2VicGFjazovL0BhbGxlbmFpL3BkZi1jb21wb25lbnRzLy4vc3JjL3V0aWxzL3Njcm9sbC50cz83YjA1Iiwid2VicGFjazovL0BhbGxlbmFpL3BkZi1jb21wb25lbnRzLy4vc3JjL2NvbnRleHQvRG9jdW1lbnRDb250ZXh0LnRzPzJmMDMiLCJ3ZWJwYWNrOi8vQGFsbGVuYWkvcGRmLWNvbXBvbmVudHMvLi9zcmMvY29udGV4dC9UcmFuc2Zvcm1Db250ZXh0LnRzP2JlNjQiLCJ3ZWJwYWNrOi8vQGFsbGVuYWkvcGRmLWNvbXBvbmVudHMvLi9zcmMvdXRpbHMvc3R5bGUudHM/ZTMxYiIsIndlYnBhY2s6Ly9AYWxsZW5haS9wZGYtY29tcG9uZW50cy8uL3NyYy9jb21wb25lbnRzL0JvdW5kaW5nQm94LnRzeD81NmNmIiwid2VicGFjazovL0BhbGxlbmFpL3BkZi1jb21wb25lbnRzLy4vc3JjL3V0aWxzL1Njcm9sbERpcmVjdGlvbkRldGVjdG9yLnRzP2FjZTYiLCJ3ZWJwYWNrOi8vQGFsbGVuYWkvcGRmLWNvbXBvbmVudHMvLi9zcmMvdXRpbHMvVmlzaWJsZUVudHJpZXNEZXRlY3Rvci50cz9mZjZiIiwid2VicGFjazovL0BhbGxlbmFpL3BkZi1jb21wb25lbnRzLy4vc3JjL2NvbnRleHQvU2Nyb2xsQ29udGV4dC50cz9jZjkxIiwid2VicGFjazovL0BhbGxlbmFpL3BkZi1jb21wb25lbnRzLy4vc3JjL2NvbnRleHQvVWlDb250ZXh0LnRzPzZiYjMiLCJ3ZWJwYWNrOi8vQGFsbGVuYWkvcGRmLWNvbXBvbmVudHMvLi9zcmMvdXRpbHMvZXJyb3JNZXNzYWdlLnRzPzMwYTUiLCJ3ZWJwYWNrOi8vQGFsbGVuYWkvcGRmLWNvbXBvbmVudHMvLi9zcmMvdXRpbHMvcGRmV29ya2VyLnRzP2E1ZGUiLCJ3ZWJwYWNrOi8vQGFsbGVuYWkvcGRmLWNvbXBvbmVudHMvLi9zcmMvdXRpbHMvcmVhZGVyLXV0aWxzLnRzPzBlNDkiLCJ3ZWJwYWNrOi8vQGFsbGVuYWkvcGRmLWNvbXBvbmVudHMvLi9zcmMvdXRpbHMvc2NhbGUudHM/YTAwNSIsIndlYnBhY2s6Ly9AYWxsZW5haS9wZGYtY29tcG9uZW50cy8uL3NyYy9jb21wb25lbnRzL3R5cGVzL2Rlc3RpbmF0aW9uLnRzP2IxYTMiLCJ3ZWJwYWNrOi8vQGFsbGVuYWkvcGRmLWNvbXBvbmVudHMvLi9zcmMvY29tcG9uZW50cy9Eb2N1bWVudFdyYXBwZXIudHN4PzUyMDQiLCJ3ZWJwYWNrOi8vQGFsbGVuYWkvcGRmLWNvbXBvbmVudHMvLi9zcmMvY29tcG9uZW50cy9Eb3dubG9hZEJ1dHRvbi50c3g/ZTIzNSIsIndlYnBhY2s6Ly9AYWxsZW5haS9wZGYtY29tcG9uZW50cy8uL3NyYy9jb21wb25lbnRzL0hpZ2hsaWdodE92ZXJsYXkudHN4PzIyMWEiLCJ3ZWJwYWNrOi8vQGFsbGVuYWkvcGRmLWNvbXBvbmVudHMvLi9zcmMvY29tcG9uZW50cy9tYXJrZXIvQXJyb3dGbGFnQmFzZS50c3g/NTlhYyIsIndlYnBhY2s6Ly9AYWxsZW5haS9wZGYtY29tcG9uZW50cy8uL3NyYy9jb21wb25lbnRzL2ljb24vSWNvbkZsYWcudHN4P2RiZGQiLCJ3ZWJwYWNrOi8vQGFsbGVuYWkvcGRmLWNvbXBvbmVudHMvLi9zcmMvY29tcG9uZW50cy90eXBlcy9ib3VuZGluZ0JveC50cz84NjEwIiwid2VicGFjazovL0BhbGxlbmFpL3BkZi1jb21wb25lbnRzLy4vc3JjL2NvbXBvbmVudHMvbWFya2VyL0Fycm93RmxhZy50c3g/YjZlYSIsIndlYnBhY2s6Ly9AYWxsZW5haS9wZGYtY29tcG9uZW50cy8uL3NyYy9jb21wb25lbnRzL291dGxpbmUvT3V0bGluZUl0ZW0udHN4PzZhNzMiLCJ3ZWJwYWNrOi8vQGFsbGVuYWkvcGRmLWNvbXBvbmVudHMvLi9zcmMvY29tcG9uZW50cy9vdXRsaW5lL091dGxpbmUudHN4PzMzY2EiLCJ3ZWJwYWNrOi8vQGFsbGVuYWkvcGRmLWNvbXBvbmVudHMvLi9zcmMvY29tcG9uZW50cy9PdmVybGF5LnRzeD9lOWYzIiwid2VicGFjazovL0BhbGxlbmFpL3BkZi1jb21wb25lbnRzLy4vc3JjL3V0aWxzL01heFZpc2libGVFbGVtZW50LnRzPzM5YzkiLCJ3ZWJwYWNrOi8vQGFsbGVuYWkvcGRmLWNvbXBvbmVudHMvLi9zcmMvY29tcG9uZW50cy9QYWdlTnVtYmVyQ29udHJvbC50c3g/NzkwYyIsIndlYnBhY2s6Ly9AYWxsZW5haS9wZGYtY29tcG9uZW50cy8uL3NyYy9jb250ZXh0L1BhZ2VSZW5kZXJDb250ZXh0LnRzP2YwN2MiLCJ3ZWJwYWNrOi8vQGFsbGVuYWkvcGRmLWNvbXBvbmVudHMvLi9zcmMvY29tcG9uZW50cy9QYWdlV3JhcHBlci50c3g/YzljNSIsIndlYnBhY2s6Ly9AYWxsZW5haS9wZGYtY29tcG9uZW50cy8uL3NyYy9jb21wb25lbnRzL1ByaW50QnV0dG9uLnRzeD8xNzM5Iiwid2VicGFjazovL0BhbGxlbmFpL3BkZi1jb21wb25lbnRzLy4vc3JjL3V0aWxzL3V0aWwudHM/NmRkYiIsIndlYnBhY2s6Ly9AYWxsZW5haS9wZGYtY29tcG9uZW50cy8uL3NyYy9jb21wb25lbnRzL1NpZGVQYW5lbC50c3g/YmU2OCIsIndlYnBhY2s6Ly9AYWxsZW5haS9wZGYtY29tcG9uZW50cy8uL3NyYy9jb21wb25lbnRzL3RodW1ibmFpbHMvVGh1bWJuYWlsLnRzeD85MjA3Iiwid2VicGFjazovL0BhbGxlbmFpL3BkZi1jb21wb25lbnRzLy4vc3JjL2NvbXBvbmVudHMvdGh1bWJuYWlscy9UaHVtYm5haWxMaXN0LnRzeD81Y2YwIiwid2VicGFjazovL0BhbGxlbmFpL3BkZi1jb21wb25lbnRzLy4vc3JjL3V0aWxzL2Zvcm1hdC50cz8yZDhjIiwid2VicGFjazovL0BhbGxlbmFpL3BkZi1jb21wb25lbnRzLy4vc3JjL2NvbXBvbmVudHMvWm9vbUluQnV0dG9uLnRzeD84NmI5Iiwid2VicGFjazovL0BhbGxlbmFpL3BkZi1jb21wb25lbnRzLy4vc3JjL2NvbXBvbmVudHMvWm9vbU91dEJ1dHRvbi50c3g/NmJmMyIsIndlYnBhY2s6Ly9AYWxsZW5haS9wZGYtY29tcG9uZW50cy8uL3NyYy9jb250ZXh0L0NvbnRleHRQcm92aWRlci50c3g/YmM4YiIsIndlYnBhY2s6Ly9AYWxsZW5haS9wZGYtY29tcG9uZW50cy8uL2luZGV4LnRzP2E5NTkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBTyxTQUFTLGtCQUFrQixDQUFDLFlBQW9CLEVBQUUsWUFBb0I7SUFDM0UsT0FBTyxDQUFDLElBQUksQ0FDVixrQkFBa0IsWUFBWSxTQUFTLFlBQVksd0NBQXdDLENBQzVGLENBQUM7QUFDSixDQUFDOzs7QUNKRCxJQUFZLFlBS1g7QUFMRCxXQUFZLFlBQVk7SUFDdEIscURBQVc7SUFDWCx3REFBYTtJQUNiLDJEQUFlO0lBQ2YsMkRBQWU7QUFDakIsQ0FBQyxFQUxXLFlBQVksS0FBWixZQUFZLFFBS3ZCO0FBRU0sU0FBUyxlQUFlLENBQUMsUUFBc0I7SUFDcEQsUUFBUSxRQUFRLEVBQUU7UUFDaEIsS0FBSyxZQUFZLENBQUMsT0FBTztZQUN2QixPQUFPLFlBQVksQ0FBQyxRQUFRLENBQUM7UUFDL0IsS0FBSyxZQUFZLENBQUMsUUFBUTtZQUN4QixPQUFPLFlBQVksQ0FBQyxTQUFTLENBQUM7UUFDaEMsS0FBSyxZQUFZLENBQUMsU0FBUztZQUN6QixPQUFPLFlBQVksQ0FBQyxTQUFTLENBQUM7UUFDaEM7WUFDRSxPQUFPLFlBQVksQ0FBQyxPQUFPLENBQUM7S0FDL0I7QUFDSCxDQUFDO0FBRU0sU0FBUyxzQkFBc0IsQ0FBQyxRQUFzQjtJQUMzRCxRQUFRLFFBQVEsRUFBRTtRQUNoQixLQUFLLFlBQVksQ0FBQyxPQUFPO1lBQ3ZCLE9BQU8sWUFBWSxDQUFDLFNBQVMsQ0FBQztRQUNoQyxLQUFL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VztJQUNYLGVBQWU7SUFDZixzQkFBc0I7SUFDdEIsbUJBQW1CO0lBQ25CLFVBQVU7SUFDVixvQkFBb0I7SUFDcEIsU0FBUztJQUNULGFBQWE7SUFDYixhQUFhO0lBQ2IsZ0JBQWdCO0lBQ2hCLFNBQVM7SUFDVCxZQUFZO0lBQ1osYUFBYTtDQUNkLEVBQUMiLCJmaWxlIjoiMjI0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGxvZ1Byb3ZpZGVyV2FybmluZyhmdW5jdGlvbk5hbWU6IHN0cmluZywgcHJvdmlkZXJOYW1lOiBzdHJpbmcpOiB2b2lkIHtcclxuICBjb25zb2xlLndhcm4oXHJcbiAgICBgVW5hYmxlIHRvIGNhbGwgJHtmdW5jdGlvbk5hbWV9LiBUaGUgJHtwcm92aWRlck5hbWV9IFByb3ZpZGVyIG1heSBub3QgYmUgc2V0IHVwIGNvcnJlY3RseS5gXHJcbiAgKTtcclxufVxyXG4iLCJleHBvcnQgZW51bSBQYWdlUm90YXRpb24ge1xyXG4gIFJvdGF0ZTAgPSAwLFxyXG4gIFJvdGF0ZTkwID0gOTAsXHJcbiAgUm90YXRlMTgwID0gMTgwLFxyXG4gIFJvdGF0ZTI3MCA9IDI3MCxcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZUNsb2Nrd2lzZShyb3RhdGlvbjogUGFnZVJvdGF0aW9uKTogUGFnZVJvdGF0aW9uIHtcclxuICBzd2l0Y2ggKHJvdGF0aW9uKSB7XHJcbiAgICBjYXNlIFBhZ2VSb3RhdGlvbi5Sb3RhdGUwOlxyXG4gICAgICByZXR1cm4gUGFnZVJvdGF0aW9uLlJvdGF0ZTkwO1xyXG4gICAgY2FzZSBQYWdlUm90YXRpb24uUm90YXRlOTA6XHJcbiAgICAgIHJldHVybiBQYWdlUm90YXRpb24uUm90YXRlMTgwO1xyXG4gICAgY2FzZSBQYWdlUm90YXRpb24uUm90YXRlMTgwOlxyXG4gICAgICByZXR1cm4gUGFnZVJvdGF0aW9uLlJvdGF0ZTI3MDtcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHJldHVybiBQYWdlUm90YXRpb24uUm90YXRlMDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVDb3VudGVyQ2xvY2t3aXNlKHJvdGF0aW9uOiBQYWdlUm90YXRpb24pOiBQYWdlUm90YXRpb24ge1xyXG4gIHN3aXRjaCAocm90YXRpb24pIHtcclxuICAgIGNhc2UgUGFnZVJvdGF0aW9uLlJvdGF0ZTA6XHJcbiAgICAgIHJldHVybiBQYWdlUm90YXRpb24uUm90YXRlMjcwO1xyXG4gICAgY2FzZSBQYWdlUm90YXRpb24uUm90YXRlOTA6XHJcbiAgICAgIHJldHVybiBQYWdlUm90YXRpb24uUm90YXRlMDtcclxuICAgIGNhc2UgUGFnZVJvdGF0aW9uLlJvdGF0ZTE4MDpcclxuICAgICAgcmV0dXJuIFBhZ2VSb3RhdGlvbi5Sb3RhdGU5MDtcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHJldHVybiBQYWdlUm90YXRpb24uUm90YXRlMTgwO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFRlc3RzIHdoZXRoZXIgdGhlIHBhZ2UgaXMgcm90YXRlZCA5MCBkZWdyZWVzIGNsb2Nrd2lzZSBvciBjb3VudGVyY2xvY2t3aXNlIGZyb20gemVybyxcclxuICogZS5nLiB3aGV0aGVyIHRoZSBwYWdlIFwiaXMgcm90YXRlZCBzaWRld2F5cy5cIlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzU2lkZXdheXMocm90YXRpb246IFBhZ2VSb3RhdGlvbik6IGJvb2xlYW4ge1xyXG4gIHJldHVybiByb3RhdGlvbiA9PT0gUGFnZVJvdGF0aW9uLlJvdGF0ZTkwIHx8IHJvdGF0aW9uID09PSBQYWdlUm90YXRpb24uUm90YXRlMjcwO1xyXG59XHJcbiIsImltcG9ydCB7IERpbWVuc2lvbnMgfSBmcm9tICcuLi9jb21wb25lbnRzL3R5cGVzL2JvdW5kaW5nQm94JztcclxuaW1wb3J0IHsgUGFnZVByb3BlcnRpZXMgfSBmcm9tICcuLi9jb21wb25lbnRzL3R5cGVzL3BhZ2UnO1xyXG5pbXBvcnQgeyBOdWxsYWJsZSB9IGZyb20gJy4uL2NvbXBvbmVudHMvdHlwZXMvdXRpbHMnO1xyXG5pbXBvcnQgeyBQYWdlUm90YXRpb24gfSBmcm9tICcuLi91dGlscy9yb3RhdGUnO1xyXG5cclxuLy8gRWFjaCBwYWdlIGRpdiBpcyBJRCdkIGFjY29yZGluZyB0byBwYWdlIGluZGV4XHJcbi8vIGUuZy4gcmVhZGVyX3BnXzAsIHJlYWRlcl9wZ18xLCBldGMuXHJcbmV4cG9ydCBjb25zdCBQQUdFX05BVl9UQVJHRVRfSURfUk9PVCA9ICdyZWFkZXJfcGdfJztcclxuXHJcbmNvbnN0IFBERl9IRUlHSFRfUE9JTlRTID0gNzkyO1xyXG5jb25zdCBQREZfV0lEVEhfUE9JTlRTID0gNjEyO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlUGFnZUlkRnJvbUluZGV4KHBhZ2VJbmRleDogbnVtYmVyIHwgc3RyaW5nKTogc3RyaW5nIHtcclxuICByZXR1cm4gYCR7UEFHRV9OQVZfVEFSR0VUX0lEX1JPT1R9JHtwYWdlSW5kZXh9YDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNjcm9sbFRvSWQoaWQ6IHN0cmluZyk6IHZvaWQge1xyXG4gIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XHJcbiAgaWYgKGVsZW1lbnQpIHtcclxuICAgIGVsZW1lbnQuc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcsIGJsb2NrOiAnc3RhcnQnLCBpbmxpbmU6ICdjZW50ZXInIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBjb25zb2xlLmVycm9yKGBDb3VsZCBub3QgZmluZCBzY3JvbGwgdGFyZ2V0IHdpdGggSUQgIyR7aWR9YCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2Nyb2xsVG9QZGZQYWdlSW5kZXgocGFnZUluZGV4OiBudW1iZXIgfCBzdHJpbmcpOiB2b2lkIHtcclxuICBzY3JvbGxUb0lkKGdlbmVyYXRlUGFnZUlkRnJvbUluZGV4KHBhZ2VJbmRleCkpO1xyXG59XHJcblxyXG4vKipcclxuICogU2Nyb2xsIFBERiBkb2N1bWVudCB0byBhIHNwZWNpZmljIHBvc2l0aW9uLlxyXG4gKiBAcGFyYW0gcGFnZUluZGV4IFRoZSBpbmRleCBvZiB0aGUgcGFnZSB3aGVyZSB0aGUgcG9zaXRpb24gbG9jYXRlcyBhdFxyXG4gKiBAcGFyYW0gbGVmdFBvaW50cyBUaGUgaG9yaXpvbnRhbCBkaXN0YW5jZSBiZXR3ZWVuIHRoZSBvcmlnaW4gYW5kIHRoZSBwb3NpdGlvbiAoaW4gUERGIGNvb3JkaW5hdGVzKVxyXG4gKiBAcGFyYW0gYm90dG9tUG9pbnRzIFRoZSB2ZXJ0aWNhbCBkaXN0YW5jZSBiZXR3ZWVuIHRoZSBvcmlnaW4gYW5kIHRoZSBwb3NpdGlvbiAoaW4gUERGIGNvb3JkaW5hdGVzKVxyXG4gKiBAcGFyYW0gcm90YXRpb24gVGhlIHJvdGF0aW9uIGRlZ3JlZSBvZiB0aGUgZG9jdW1lbnRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzY3JvbGxUb1Bvc2l0aW9uKFxyXG4gIHBhZ2VJbmRleDogbnVtYmVyLFxyXG4gIGxlZnRQb2ludHM6IG51bWJlcixcclxuICBib3R0b21Qb2ludHM6IG51bWJlcixcclxuICByb3RhdGlvbjogUGFnZVJvdGF0aW9uID0gUGFnZVJvdGF0aW9uLlJvdGF0ZTBcclxuKTogdm9pZCB7XHJcbiAgLypcclxuICAgIFZlcnRpY2FsIHNjcm9sbCBkaXN0YW5jZSBpcyBjYWxjdWxhdGVkIGFzXHJcbiAgICA9IHRvdGFsIG51bWJlciBvZiBwcmV2aW91cyBwYWdlcyAqIHBhZ2UgaGVpZ2h0IGluY2x1ZGluZyB0b3AvZG93biBtYXJnaW5zXHJcbiAgICArIHRoZSBtYXJnaW4gdG9wIG9mIGN1cnJlbnQgcGFnZVxyXG4gICAgKyB0aGUgZGlzdGFuY2UgZnJvbSB0aGUgcGFnZSB0b3AgdG8gdGhlIHNwZWNpZmllZCBwb3NpdGlvblxyXG5cclxuICAgIE5vdGljZSB0aGF0IHRoZSBzY3JvbGwgZGlzdGFuY2UgaXMgbWVhc3VyZWQgaW4gcGl4ZWxzLFxyXG4gICAgc28gbGVmdFBvaW50cy9ib3R0b21Qb2ludHMgaGFzIHRvIGJlIHRyYW5zZm9ybWVkIGZyb20gcG9pbnRzIHRvIHBpeGVscyBmaXJzdC5cclxuICAqL1xyXG5cclxuICBjb25zdCB7IHdpZHRoLCBoZWlnaHQsIG1hcmdpblRvcCwgbWFyZ2luQm90dG9tLCBtYXJnaW5MZWZ0LCBtYXJnaW5SaWdodCB9ID1cclxuICAgIGdldFBhZ2VQcm9wZXJ0aWVzSW5QaXhlbHMoKTtcclxuICBjb25zdCBoZWlnaHRXaXRoTWFyZ2lucyA9IGhlaWdodCArIG1hcmdpblRvcCArIG1hcmdpbkJvdHRvbTtcclxuXHJcbiAgLy8gV2hlbiBhIHBhcGVyIGlzIHJvdGF0ZWQsIGl0cyBoZWlnaHQgYW5kIHdpZHRoIHdvdWxkIGJlIHN3aXRjaGVkIGF1dG9tYXRpY2FsbHkuIEhvd2V2ZXIsIGxlZnRQb2ludHMgYW5kIGJvdHRvbVBvaW50cyByZW1haW4gdGhlIHNhbWUuXHJcbiAgbGV0IG1hcmdpblRvcFBpeGVscyA9IG1hcmdpblRvcDtcclxuICBsZXQgYm90dG9tUGl4ZWxzID0gKGhlaWdodCAqIGJvdHRvbVBvaW50cykgLyBQREZfSEVJR0hUX1BPSU5UUztcclxuICBsZXQgbGVmdFBpeGVscyA9ICh3aWR0aCAqIGxlZnRQb2ludHMpIC8gUERGX1dJRFRIX1BPSU5UUztcclxuXHJcbiAgaWYgKHJvdGF0aW9uID09IFBhZ2VSb3RhdGlvbi5Sb3RhdGU5MCkge1xyXG4gICAgbWFyZ2luVG9wUGl4ZWxzID0gbWFyZ2luTGVmdDtcclxuICAgIGJvdHRvbVBpeGVscyA9IChoZWlnaHQgKiAoUERGX1dJRFRIX1BPSU5UUyAtIGxlZnRQb2ludHMpKSAvIFBERl9XSURUSF9QT0lOVFM7XHJcbiAgICBsZWZ0UGl4ZWxzID0gKHdpZHRoICogYm90dG9tUG9pbnRzKSAvIFBERl9IRUlHSFRfUE9JTlRTO1xyXG4gIH0gZWxzZSBpZiAocm90YXRpb24gPT0gUGFnZVJvdGF0aW9uLlJvdGF0ZTE4MCkge1xyXG4gICAgbWFyZ2luVG9wUGl4ZWxzID0gbWFyZ2luQm90dG9tO1xyXG4gICAgYm90dG9tUGl4ZWxzID0gKGhlaWdodCAqIChQREZfSEVJR0hUX1BPSU5UUyAtIGJvdHRvbVBvaW50cykpIC8gUERGX0hFSUdIVF9QT0lOVFM7XHJcbiAgICBsZWZ0UGl4ZWxzID0gKHdpZHRoICogKFBERl9XSURUSF9QT0lOVFMgLSBsZWZ0UG9pbnRzKSkgLyBQREZfV0lEVEhfUE9JTlRTO1xyXG4gIH0gZWxzZSBpZiAocm90YXRpb24gPT0gUGFnZVJvdGF0aW9uLlJvdGF0ZTI3MCkge1xyXG4gICAgbWFyZ2luVG9wUGl4ZWxzID0gbWFyZ2luUmlnaHQ7XHJcbiAgICBib3R0b21QaXhlbHMgPSAoaGVpZ2h0ICogbGVmdFBvaW50cykgLyBQREZfV0lEVEhfUE9JTlRTO1xyXG4gICAgbGVmdFBpeGVscyA9ICh3aWR0aCAqIChQREZfSEVJR0hUX1BPSU5UUyAtIGJvdHRvbVBvaW50cykpIC8gUERGX0hFSUdIVF9QT0lOVFM7XHJcbiAgfVxyXG5cclxuICAvLyBGaW5kIHBhZ2UgZWxlbWVudFxyXG4gIGNvbnN0IHBhZ2VJZCA9IGdlbmVyYXRlUGFnZUlkRnJvbUluZGV4KHBhZ2VJbmRleCk7XHJcbiAgY29uc3QgcGFnZUlkRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHBhZ2VJZCk7XHJcbiAgaWYgKCFwYWdlSWRFbGVtZW50KSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvLyBGaW5kIGZpcnN0IHNjcm9sbGFibGUgcGFyZW50XHJcbiAgY29uc3QgcGFyZW50RWxlbWVudCA9IGdldFNjcm9sbFBhcmVudChwYWdlSWRFbGVtZW50KTtcclxuICBpZiAoIXBhcmVudEVsZW1lbnQpIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8vIEFwcGx5IHNjcm9sbFxyXG4gIHBhcmVudEVsZW1lbnQuc2Nyb2xsVG8oe1xyXG4gICAgdG9wOiBjYWxjdWxhdGVUb3BQeCh7XHJcbiAgICAgIGhlaWdodFdpdGhNYXJnaW5zSW5QeDogaGVpZ2h0V2l0aE1hcmdpbnMsXHJcbiAgICAgIHBhZ2VJbmRleDogcGFnZUluZGV4LFxyXG4gICAgICBtYXJnaW5Ub3BQeDogbWFyZ2luVG9wUGl4ZWxzLFxyXG4gICAgICBoZWlnaHRQeDogaGVpZ2h0LFxyXG4gICAgICBib3R0b21QeDogYm90dG9tUGl4ZWxzLFxyXG4gICAgfSksXHJcbiAgICBsZWZ0OiBNYXRoLmZsb29yKGxlZnRQaXhlbHMpLFxyXG4gICAgYmVoYXZpb3I6ICdzbW9vdGgnLFxyXG4gIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2Nyb2xsUGFyZW50KG5vZGU6IEhUTUxFbGVtZW50KTogTnVsbGFibGU8SFRNTEVsZW1lbnQ+IHtcclxuICBjb25zdCBtaW5TY3JvbGxhYmxlSGVpZ2h0ID0gNTA7IC8vIHVzZWQgdG8gY2hlY2sgZm9yIGEgYnVnIHdoZXJlIEZpcmVmb3ggZ2l2ZXMgaW5saW5lIGNvbnRhaW5lcnMgYSBzbWFsbCBzY3JvbGxIZWlnaHQgd2hlbiBpdCBzaG91bGRudFxyXG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbiAgaWYgKCFub2RlIHx8IG5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2JvZHknKSB7XHJcbiAgICByZXR1cm4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xyXG4gIH1cclxuICBpZiAobm9kZS5zY3JvbGxIZWlnaHQgLSBub2RlLmNsaWVudEhlaWdodCA+IG1pblNjcm9sbGFibGVIZWlnaHQgJiYgIWlzT3ZlcmZsb3dJc0hpZGRlbihub2RlKSkge1xyXG4gICAgcmV0dXJuIG5vZGU7XHJcbiAgfVxyXG4gIHJldHVybiBnZXRTY3JvbGxQYXJlbnQobm9kZS5wYXJlbnRFbGVtZW50IGFzIEhUTUxFbGVtZW50KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaXNPdmVyZmxvd0lzSGlkZGVuKG5vZGU6IEhUTUxFbGVtZW50KTogYm9vbGVhbiB7XHJcbiAgY29uc3Qgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKG5vZGUpO1xyXG4gIHJldHVybiAoXHJcbiAgICBzdHlsZS5vdmVyZmxvdy5pbmNsdWRlcygnaGlkZGVuJykgfHxcclxuICAgIHN0eWxlLm92ZXJmbG93WC5pbmNsdWRlcygnaGlkZGVuJykgfHxcclxuICAgIHN0eWxlLm92ZXJmbG93WS5pbmNsdWRlcygnaGlkZGVuJylcclxuICApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlVG9wUHgoe1xyXG4gIGhlaWdodFdpdGhNYXJnaW5zSW5QeCxcclxuICBwYWdlSW5kZXgsXHJcbiAgbWFyZ2luVG9wUHgsXHJcbiAgaGVpZ2h0UHgsXHJcbiAgYm90dG9tUHgsXHJcbn06IHtcclxuICBoZWlnaHRXaXRoTWFyZ2luc0luUHg6IG51bWJlcjtcclxuICBwYWdlSW5kZXg6IG51bWJlcjtcclxuICBtYXJnaW5Ub3BQeDogbnVtYmVyO1xyXG4gIGhlaWdodFB4OiBudW1iZXI7XHJcbiAgYm90dG9tUHg6IG51bWJlcjtcclxufSk6IG51bWJlciB7XHJcbiAgcmV0dXJuIE1hdGguZmxvb3IoaGVpZ2h0V2l0aE1hcmdpbnNJblB4ICogcGFnZUluZGV4ICsgbWFyZ2luVG9wUHggKyAoaGVpZ2h0UHggLSBib3R0b21QeCkpO1xyXG59XHJcblxyXG4vKipcclxuICogR2V0IGxlbmd0aHMsIHdpZHRocywgYW5kIG1hcmdpbnMgb2YgYSBwYWdlLlxyXG4gKiBAcmV0dXJucyBhIFBhZ2VQcm9wZXJ0aWVzIG9iamVjdFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFBhZ2VQcm9wZXJ0aWVzSW5QaXhlbHMoKTogUGFnZVByb3BlcnRpZXMge1xyXG4gIGNvbnN0IGZpcnN0UGFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGdlbmVyYXRlUGFnZUlkRnJvbUluZGV4KDApKTtcclxuICBpZiAoIWZpcnN0UGFnZSkge1xyXG4gICAgY29uc29sZS5lcnJvcihgQ2Fubm90IGdldCB0aGUgZmlyc3QgcGFnZSBvZiB0aGlzIGRvY3VtZW50LmApO1xyXG4gICAgY29uc3QgZW1wdHlQYWdlUHJvcGVydGllczogUGFnZVByb3BlcnRpZXMgPSB7XHJcbiAgICAgIHdpZHRoOiAwLFxyXG4gICAgICBoZWlnaHQ6IDAsXHJcbiAgICAgIG1hcmdpblRvcDogMCxcclxuICAgICAgbWFyZ2luQm90dG9tOiAwLFxyXG4gICAgICBtYXJnaW5MZWZ0OiAwLFxyXG4gICAgICBtYXJnaW5SaWdodDogMCxcclxuICAgIH07XHJcbiAgICByZXR1cm4gZW1wdHlQYWdlUHJvcGVydGllcztcclxuICB9XHJcblxyXG4gIGNvbnN0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShmaXJzdFBhZ2UgYXMgRWxlbWVudCk7XHJcbiAgY29uc3QgcGFnZVByb3BlcnRpZXM6IFBhZ2VQcm9wZXJ0aWVzID0ge1xyXG4gICAgd2lkdGg6IHBhcnNlSW50KHN0eWxlLndpZHRoKSxcclxuICAgIGhlaWdodDogcGFyc2VJbnQoc3R5bGUuaGVpZ2h0KSxcclxuICAgIG1hcmdpblRvcDogcGFyc2VJbnQoc3R5bGUubWFyZ2luVG9wKSxcclxuICAgIG1hcmdpbkJvdHRvbTogcGFyc2VJbnQoc3R5bGUubWFyZ2luQm90dG9tKSxcclxuICAgIG1hcmdpbkxlZnQ6IHBhcnNlSW50KHN0eWxlLm1hcmdpbkxlZnQpLFxyXG4gICAgbWFyZ2luUmlnaHQ6IHBhcnNlSW50KHN0eWxlLm1hcmdpblJpZ2h0KSxcclxuICB9O1xyXG5cclxuICByZXR1cm4gcGFnZVByb3BlcnRpZXM7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVUYXJnZXRQb3NpdGlvbih7XHJcbiAgc2NhbGUsXHJcbiAgbGVmdFBvaW50LFxyXG4gIGJvdHRvbVBvaW50LFxyXG4gIHBhZ2VEaW1lbnNpb25zLFxyXG4gIHJvdGF0aW9uID0gUGFnZVJvdGF0aW9uLlJvdGF0ZTAsXHJcbn06IHtcclxuICBzY2FsZTogbnVtYmVyO1xyXG4gIGxlZnRQb2ludDogbnVtYmVyO1xyXG4gIGJvdHRvbVBvaW50OiBudW1iZXI7XHJcbiAgcGFnZURpbWVuc2lvbnM6IERpbWVuc2lvbnM7XHJcbiAgcm90YXRpb246IFBhZ2VSb3RhdGlvbjtcclxufSk6IHsgbGVmdFB4OiBudW1iZXI7IHRvcFB4OiBudW1iZXIgfSB7XHJcbiAgc3dpdGNoIChyb3RhdGlvbikge1xyXG4gICAgZGVmYXVsdDpcclxuICAgIGNhc2UgUGFnZVJvdGF0aW9uLlJvdGF0ZTA6IHtcclxuICAgICAgY29uc3QgbGVmdFB4ID0gKGxlZnRQb2ludCAvIFBERl9XSURUSF9QT0lOVFMpICogcGFnZURpbWVuc2lvbnMud2lkdGggKiBzY2FsZTtcclxuICAgICAgY29uc3QgdG9wUHggPSAoMSAtIGJvdHRvbVBvaW50IC8gUERGX0hFSUdIVF9QT0lOVFMpICogcGFnZURpbWVuc2lvbnMuaGVpZ2h0ICogc2NhbGU7XHJcbiAgICAgIHJldHVybiB7IGxlZnRQeCwgdG9wUHggfTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBwZGZqcyB9IGZyb20gJ3JlYWN0LXBkZic7XHJcblxyXG5pbXBvcnQgeyBEaW1lbnNpb25zIH0gZnJvbSAnLi4vY29tcG9uZW50cy90eXBlcy9ib3VuZGluZ0JveCc7XHJcbmltcG9ydCB7XHJcbiAgT3V0bGluZU5vZGUsXHJcbiAgT3V0bGluZVBvc2l0aW9uLFxyXG4gIE91dGxpbmVQb3NpdGlvbnNCeVBhZ2VOdW1iZXJNYXAsXHJcbiAgT3V0bGluZVRhcmdldCxcclxuICBPdXRsaW5lVGFyZ2V0QXJncyxcclxufSBmcm9tICcuLi9jb21wb25lbnRzL3R5cGVzL291dGxpbmUnO1xyXG5pbXBvcnQgeyBOdWxsYWJsZSB9IGZyb20gJy4uL2NvbXBvbmVudHMvdHlwZXMvdXRpbHMnO1xyXG5pbXBvcnQgeyBsb2dQcm92aWRlcldhcm5pbmcgfSBmcm9tICcuLi91dGlscy9wcm92aWRlcic7XHJcbmltcG9ydCB7IGNhbGN1bGF0ZVRhcmdldFBvc2l0aW9uIH0gZnJvbSAnLi4vdXRpbHMvc2Nyb2xsJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSURvY3VtZW50Q29udGV4dCB7XHJcbiAgbnVtUGFnZXM6IG51bWJlcjtcclxuICBudW1QYWdlc0xvYWRlZDogbnVtYmVyO1xyXG4gIG91dGxpbmU6IE51bGxhYmxlPEFycmF5PE91dGxpbmVOb2RlPj47XHJcbiAgb3V0bGluZVBvc2l0aW9uczogTnVsbGFibGU8T3V0bGluZVBvc2l0aW9uc0J5UGFnZU51bWJlck1hcD47XHJcbiAgcGFnZURpbWVuc2lvbnM6IERpbWVuc2lvbnM7IC8vIFNjYWxlZCBhdCAxMDAlXHJcbiAgcGRmRG9jUHJveHk/OiBwZGZqcy5QREZEb2N1bWVudFByb3h5O1xyXG4gIGdldE91dGxpbmVUYXJnZXRzOiAob3B0czogT3V0bGluZVRhcmdldEFyZ3MpID0+IE91dGxpbmVUYXJnZXRbXTtcclxuICBzZXROdW1QYWdlczogKG51bVBhZ2VzOiBudW1iZXIpID0+IHZvaWQ7XHJcbiAgc2V0TnVtUGFnZXNMb2FkZWQ6IChudW1QYWdlc0xvYWRlZDogbnVtYmVyIHwgKChwcmV2TnVtUGFnZXNMb2FkZWQ6IG51bWJlcikgPT4gbnVtYmVyKSkgPT4gdm9pZDtcclxuICBzZXRPdXRsaW5lOiAob3V0bGluZTogTnVsbGFibGU8QXJyYXk8T3V0bGluZU5vZGU+PikgPT4gdm9pZDtcclxuICBzZXRPdXRsaW5lUG9zaXRpb25zOiAob3V0bGluZVBvc2l0aW9uczogTnVsbGFibGU8T3V0bGluZVBvc2l0aW9uc0J5UGFnZU51bWJlck1hcD4pID0+IHZvaWQ7XHJcbiAgc2V0UGFnZURpbWVuc2lvbnM6IChwYWdlRGltZW5zaW9uczogRGltZW5zaW9ucykgPT4gdm9pZDtcclxuICBzZXRQZGZEb2NQcm94eTogKHBkZkRvY1Byb3h5OiBwZGZqcy5QREZEb2N1bWVudFByb3h5KSA9PiB2b2lkO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgRG9jdW1lbnRDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dDxJRG9jdW1lbnRDb250ZXh0Pih7XHJcbiAgbnVtUGFnZXM6IDAsXHJcbiAgbnVtUGFnZXNMb2FkZWQ6IDAsXHJcbiAgb3V0bGluZTogW10sXHJcbiAgb3V0bGluZVBvc2l0aW9uczogbnVsbCxcclxuICBwYWdlRGltZW5zaW9uczogeyBoZWlnaHQ6IDAsIHdpZHRoOiAwIH0sXHJcbiAgcGRmRG9jUHJveHk6IHVuZGVmaW5lZCxcclxuICBnZXRPdXRsaW5lVGFyZ2V0czogb3B0cyA9PiB7XHJcbiAgICBsb2dQcm92aWRlcldhcm5pbmcoYGdldE91dGxpbmVUYXJnZXRzKCR7SlNPTi5zdHJpbmdpZnkob3B0cyl9KWAsICdEb2N1bWVudENvbnRleHQnKTtcclxuICAgIHJldHVybiBbXTtcclxuICB9LFxyXG4gIHNldE51bVBhZ2VzOiBudW1QYWdlcyA9PiB7XHJcbiAgICBsb2dQcm92aWRlcldhcm5pbmcoYHNldE51bVBhZ2VzKCR7bnVtUGFnZXN9KWAsICdEb2N1bWVudENvbnRleHQnKTtcclxuICB9LFxyXG4gIHNldE51bVBhZ2VzTG9hZGVkOiBudW1QYWdlcyA9PiB7XHJcbiAgICBsb2dQcm92aWRlcldhcm5pbmcoYHNldE51bVBhZ2VzTG9hZGVkKCR7bnVtUGFnZXN9KWAsICdEb2N1bWVudENvbnRleHQnKTtcclxuICB9LFxyXG4gIHNldE91dGxpbmU6IG91dGxpbmUgPT4ge1xyXG4gICAgbG9nUHJvdmlkZXJXYXJuaW5nKGBzZXRPdXRsaW5lKCR7b3V0bGluZX0pYCwgJ0RvY3VtZW50Q29udGV4dCcpO1xyXG4gIH0sXHJcbiAgc2V0T3V0bGluZVBvc2l0aW9uczogb3V0bGluZSA9PiB7XHJcbiAgICBsb2dQcm92aWRlcldhcm5pbmcoYHNldE91dGxpbmVQb3NpdGlvbnMoJHtvdXRsaW5lfSlgLCAnRG9jdW1lbnRDb250ZXh0Jyk7XHJcbiAgfSxcclxuICBzZXRQYWdlRGltZW5zaW9uczogcGFnZURpbWVuc2lvbnMgPT4ge1xyXG4gICAgbG9nUHJvdmlkZXJXYXJuaW5nKGBzZXRQYWdlRGltZW5zaW9ucygke3BhZ2VEaW1lbnNpb25zfSlgLCAnRG9jdW1lbnRDb250ZXh0Jyk7XHJcbiAgfSxcclxuICBzZXRQZGZEb2NQcm94eTogcGRmRG9jUHJveHkgPT4ge1xyXG4gICAgbG9nUHJvdmlkZXJXYXJuaW5nKGBzZXRQZGZEb2NQcm94eSgke3BkZkRvY1Byb3h5fSlgLCAnRG9jdW1lbnRDb250ZXh0Jyk7XHJcbiAgfSxcclxufSk7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdXNlRG9jdW1lbnRDb250ZXh0UHJvcHMoKTogSURvY3VtZW50Q29udGV4dCB7XHJcbiAgY29uc3QgW251bVBhZ2VzLCBzZXROdW1QYWdlc10gPSBSZWFjdC51c2VTdGF0ZTxudW1iZXI+KDApO1xyXG4gIGNvbnN0IFtudW1QYWdlc0xvYWRlZCwgc2V0TnVtUGFnZXNMb2FkZWRdID0gUmVhY3QudXNlU3RhdGU8bnVtYmVyPigwKTtcclxuICBjb25zdCBbb3V0bGluZSwgc2V0T3V0bGluZV0gPSBSZWFjdC51c2VTdGF0ZTxOdWxsYWJsZTxBcnJheTxPdXRsaW5lTm9kZT4+PihudWxsKTtcclxuICBjb25zdCBbb3V0bGluZVBvc2l0aW9ucywgc2V0T3V0bGluZVBvc2l0aW9uc10gPVxyXG4gICAgUmVhY3QudXNlU3RhdGU8TnVsbGFibGU8T3V0bGluZVBvc2l0aW9uc0J5UGFnZU51bWJlck1hcD4+KG51bGwpO1xyXG4gIGNvbnN0IFtwYWdlRGltZW5zaW9ucywgc2V0UGFnZURpbWVuc2lvbnNdID0gUmVhY3QudXNlU3RhdGU8RGltZW5zaW9ucz4oe1xyXG4gICAgaGVpZ2h0OiAwLFxyXG4gICAgd2lkdGg6IDAsXHJcbiAgfSk7XHJcbiAgY29uc3QgW3BkZkRvY1Byb3h5LCBzZXRQZGZEb2NQcm94eV0gPSBSZWFjdC51c2VTdGF0ZTxwZGZqcy5QREZEb2N1bWVudFByb3h5PigpO1xyXG5cclxuICAvLyBEcmF3IG91dGxpbmUgdGFyZ2V0IGludG8gdGhlIHBkZiBiYXNlZCBvbiB0aGUgYXJnc1xyXG4gIGNvbnN0IGdldE91dGxpbmVUYXJnZXRzID0gUmVhY3QudXNlQ2FsbGJhY2soXHJcbiAgICAoe1xyXG4gICAgICBwYWdlTnVtYmVyLFxyXG4gICAgICBwYWdlSW5kZXgsXHJcbiAgICAgIHNjYWxlLFxyXG4gICAgICByb3RhdGlvbixcclxuICAgICAgcGFnZURpbWVuc2lvbnMsXHJcbiAgICB9OiBPdXRsaW5lVGFyZ2V0QXJncyk6IE91dGxpbmVUYXJnZXRbXSA9PiB7XHJcbiAgICAgIGlmICh0eXBlb2YgcGFnZUluZGV4ID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgIHBhZ2VOdW1iZXIgPSBwYWdlSW5kZXggKyAxO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICh0eXBlb2YgcGFnZU51bWJlciAhPT0gJ251bWJlcicpIHtcclxuICAgICAgICByZXR1cm4gW107XHJcbiAgICAgIH1cclxuICAgICAgY29uc3QgcG9zaXRpb25zID0gb3V0bGluZVBvc2l0aW9ucz8uZ2V0KHBhZ2VOdW1iZXIpIHx8IFtdO1xyXG4gICAgICByZXR1cm4gcG9zaXRpb25zLm1hcCgoeyBkZXN0LCBsZWZ0UG9pbnQsIGJvdHRvbVBvaW50IH0pID0+IHtcclxuICAgICAgICBjb25zdCB7IGxlZnRQeCwgdG9wUHggfSA9IGNhbGN1bGF0ZVRhcmdldFBvc2l0aW9uKHtcclxuICAgICAgICAgIHNjYWxlLFxyXG4gICAgICAgICAgcm90YXRpb24sXHJcbiAgICAgICAgICBsZWZ0UG9pbnQsXHJcbiAgICAgICAgICBib3R0b21Qb2ludCxcclxuICAgICAgICAgIHBhZ2VEaW1lbnNpb25zLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBkZXN0LFxyXG4gICAgICAgICAgbGVmdFB4LFxyXG4gICAgICAgICAgdG9wUHgsXHJcbiAgICAgICAgfTtcclxuICAgICAgfSk7XHJcbiAgICB9LFxyXG4gICAgW291dGxpbmVQb3NpdGlvbnNdXHJcbiAgKTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIG51bVBhZ2VzLFxyXG4gICAgbnVtUGFnZXNMb2FkZWQsXHJcbiAgICBvdXRsaW5lLFxyXG4gICAgb3V0bGluZVBvc2l0aW9ucyxcclxuICAgIHBhZ2VEaW1lbnNpb25zLFxyXG4gICAgcGRmRG9jUHJveHksXHJcbiAgICBnZXRPdXRsaW5lVGFyZ2V0cyxcclxuICAgIHNldE51bVBhZ2VzLFxyXG4gICAgc2V0TnVtUGFnZXNMb2FkZWQsXHJcbiAgICBzZXRPdXRsaW5lLFxyXG4gICAgc2V0T3V0bGluZVBvc2l0aW9ucyxcclxuICAgIHNldFBhZ2VEaW1lbnNpb25zOiBzZXRQYWdlRGltZW5zaW9ucyxcclxuICAgIHNldFBkZkRvY1Byb3h5LFxyXG4gIH07XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBidWlsZE91dGxpbmVQb3NpdGlvbnMoXHJcbiAgcGRmRG9jUHJveHk6IHBkZmpzLlBERkRvY3VtZW50UHJveHksXHJcbiAgb3V0bGluZT86IE91dGxpbmVOb2RlW11cclxuKTogUHJvbWlzZTxPdXRsaW5lUG9zaXRpb25zQnlQYWdlTnVtYmVyTWFwPiB7XHJcbiAgaWYgKCFvdXRsaW5lKSB7XHJcbiAgICBvdXRsaW5lID0gYXdhaXQgcGRmRG9jUHJveHkuZ2V0T3V0bGluZSgpO1xyXG4gIH1cclxuXHJcbiAgLy8gRGVwdGggZmlyc3Qgc2VhcmNoIHRocm91Z2ggb3V0bGluZSBpdGVtc1xyXG4gIGNvbnN0IGl0ZW1RdWV1ZSA9IG91dGxpbmUuc2xpY2UoKTtcclxuICBjb25zdCBwcm9tczogUHJvbWlzZTxOdWxsYWJsZTxPdXRsaW5lUG9zaXRpb24+PltdID0gW107XHJcbiAgd2hpbGUgKGl0ZW1RdWV1ZS5sZW5ndGggPiAwKSB7XHJcbiAgICBjb25zdCBpdGVtID0gaXRlbVF1ZXVlLnBvcCgpO1xyXG4gICAgaWYgKCFpdGVtKSB7XHJcbiAgICAgIGNvbnRpbnVlOyAvLyBOb3QgYWJsZSB0byBwcm9jZXNzXHJcbiAgICB9XHJcbiAgICBjb25zdCB7IGRlc3QsIGl0ZW1zIH0gPSBpdGVtO1xyXG5cclxuICAgIC8vIEFkZCBjaGlsZCBpdGVtcyB0byBxdWV1ZVxyXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoaXRlbXMpKSB7XHJcbiAgICAgIGl0ZW1RdWV1ZS5wdXNoKC4uLml0ZW1zKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBGZXRjaCBkZXN0aW5hdGlvbnMgZm9yIGl0ZW1cclxuICAgIGlmIChBcnJheS5pc0FycmF5KGRlc3QpKSB7XHJcbiAgICAgIHByb21zLnB1c2goLi4uZGVzdC5tYXAoZGVzdCA9PiBnZXREZXN0aW5hdGlvbihwZGZEb2NQcm94eSwgZGVzdCkpKTtcclxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGRlc3QgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgIHByb21zLnB1c2goZ2V0RGVzdGluYXRpb24ocGRmRG9jUHJveHksIGRlc3QpKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIENvbGxlY3QgcmVzdWx0cyBhbGwgYXQgb25jZSwgc28gd2UgZG9uJ3QgaGF2ZSB0byBwYXkgZm9yIHRoZSBjb3N0IG9mXHJcbiAgLy8gcXVldWVpbmcgbWVzc2FnZXMgc2VudCB0byB0aGUgd29ya2VyXHJcbiAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsKHByb21zKTtcclxuXHJcbiAgLy8gU3BsaXQgcmVzdWx0cyBpbnRvIHBhZ2VzXHJcbiAgY29uc3QgbWFwID0gbmV3IE1hcDxudW1iZXIsIE91dGxpbmVQb3NpdGlvbltdPigpO1xyXG4gIGZvciAoY29uc3QgcmVzdWx0IG9mIHJlc3VsdHMpIHtcclxuICAgIGlmICghcmVzdWx0KSB7XHJcbiAgICAgIGNvbnRpbnVlOyAvLyBGaWx0ZXIgb3V0IG51bGxcclxuICAgIH1cclxuICAgIGNvbnN0IHsgcGFnZU51bWJlciB9ID0gcmVzdWx0O1xyXG4gICAgaWYgKCFtYXAuaGFzKHBhZ2VOdW1iZXIpKSB7XHJcbiAgICAgIG1hcC5zZXQocGFnZU51bWJlciwgW10pO1xyXG4gICAgfVxyXG4gICAgbWFwLmdldChwYWdlTnVtYmVyKT8ucHVzaChyZXN1bHQpO1xyXG4gIH1cclxuXHJcbiAgLy8gRnJlZXplIG9iamVjdHMgc28gY29uc3VtZXJzIGNhbm5vdCBtdXRhdGVcclxuICBmb3IgKGNvbnN0IHBhZ2VQb3Mgb2YgbWFwLnZhbHVlcygpKSB7XHJcbiAgICBmb3IgKGNvbnN0IHBvcyBvZiBwYWdlUG9zKSB7XHJcbiAgICAgIE9iamVjdC5mcmVlemUocG9zKTtcclxuICAgIH1cclxuICAgIE9iamVjdC5mcmVlemUocGFnZVBvcyk7XHJcbiAgfVxyXG4gIE9iamVjdC5mcmVlemUobWFwKTtcclxuXHJcbiAgcmV0dXJuIG1hcDtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZ2V0RGVzdGluYXRpb24oXHJcbiAgcGRmRG9jUHJveHk6IHBkZmpzLlBERkRvY3VtZW50UHJveHksXHJcbiAgZGVzdDogc3RyaW5nXHJcbik6IFByb21pc2U8TnVsbGFibGU8T3V0bGluZVBvc2l0aW9uPj4ge1xyXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBkZkRvY1Byb3h5LmdldERlc3RpbmF0aW9uKGRlc3QpO1xyXG4gIGlmICghcmVzdWx0KSB7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcblxyXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcclxuICBjb25zdCBbcmVmLCBfZm9ybWF0LCBsZWZ0UG9pbnQsIGJvdHRvbVBvaW50XSA9IHJlc3VsdDtcclxuICBjb25zdCBwYWdlSW5kZXggPSBhd2FpdCBwZGZEb2NQcm94eS5nZXRQYWdlSW5kZXgocmVmKTtcclxuICBjb25zdCBwYWdlTnVtYmVyID0gcGFnZUluZGV4ICsgMTtcclxuICByZXR1cm4geyBwYWdlTnVtYmVyLCBkZXN0LCBsZWZ0UG9pbnQsIGJvdHRvbVBvaW50IH07XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5cclxuaW1wb3J0IHsgbG9nUHJvdmlkZXJXYXJuaW5nIH0gZnJvbSAnLi4vdXRpbHMvcHJvdmlkZXInO1xyXG5pbXBvcnQgeyBQYWdlUm90YXRpb24gfSBmcm9tICcuLi91dGlscy9yb3RhdGUnO1xyXG5cclxuZXhwb3J0IGNvbnN0IERFRkFVTFRfWk9PTV9TQ0FMRSA9IDEuMDtcclxuZXhwb3J0IGludGVyZmFjZSBJVHJhbnNmb3JtQ29udGV4dCB7XHJcbiAgcGl4ZWxSYXRpbzogbnVtYmVyO1xyXG4gIHJvdGF0aW9uOiBQYWdlUm90YXRpb247XHJcbiAgc2NhbGU6IG51bWJlcjtcclxuICB6b29tSW5jcmVtZW50VmFsdWU6IG51bWJlcjtcclxuICBzZXRQaXhlbFJhdGlvOiAoZGV2aWNlUGl4ZWxSYXRpbzogbnVtYmVyKSA9PiB2b2lkO1xyXG4gIHNldFJvdGF0aW9uOiAocm90YXRpb246IFBhZ2VSb3RhdGlvbikgPT4gdm9pZDtcclxuICBzZXRTY2FsZTogKHNjYWxlOiBudW1iZXIpID0+IHZvaWQ7XHJcbiAgc2V0Wm9vbUluY3JlbWVudFZhbHVlOiAodmFsdWU6IG51bWJlcikgPT4gdm9pZDtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IFRyYW5zZm9ybUNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0PElUcmFuc2Zvcm1Db250ZXh0Pih7XHJcbiAgcGl4ZWxSYXRpbzogKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93LmRldmljZVBpeGVsUmF0aW8gOiBudWxsKSB8fCAxLFxyXG4gIHJvdGF0aW9uOiBQYWdlUm90YXRpb24uUm90YXRlMCxcclxuICBzY2FsZTogMSxcclxuICB6b29tSW5jcmVtZW50VmFsdWU6IDAuMixcclxuICBzZXRQaXhlbFJhdGlvOiBwaXhlbFJhdGlvID0+IHtcclxuICAgIGxvZ1Byb3ZpZGVyV2FybmluZyhgc2V0UGl4ZWxSYXRpbygke3BpeGVsUmF0aW99KWAsICdUcmFuc2Zvcm1Db250ZXh0Jyk7XHJcbiAgfSxcclxuICBzZXRSb3RhdGlvbjogcm90YXRpb24gPT4ge1xyXG4gICAgbG9nUHJvdmlkZXJXYXJuaW5nKGBzZXRSb3RhdGlvbigke3JvdGF0aW9ufSlgLCAnVHJhbnNmb3JtQ29udGV4dCcpO1xyXG4gIH0sXHJcbiAgc2V0U2NhbGU6IHNjYWxlID0+IHtcclxuICAgIGxvZ1Byb3ZpZGVyV2FybmluZyhgc2V0U2NhbGUoJHtzY2FsZX0pYCwgJ1RyYW5zZm9ybUNvbnRleHQnKTtcclxuICB9LFxyXG4gIHNldFpvb21JbmNyZW1lbnRWYWx1ZTogdmFsdWUgPT4ge1xyXG4gICAgbG9nUHJvdmlkZXJXYXJuaW5nKGBzZXRab29tSW5jcmVtZW50VmFsdWUoJHt2YWx1ZX0pYCwgJ1RyYW5zZm9ybUNvbnRleHQnKTtcclxuICB9LFxyXG59KTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB1c2VUcmFuc2Zvcm1Db250ZXh0UHJvcHMoKTogSVRyYW5zZm9ybUNvbnRleHQge1xyXG4gIGNvbnN0IFtwaXhlbFJhdGlvLCBzZXRQaXhlbFJhdGlvXSA9IFJlYWN0LnVzZVN0YXRlPG51bWJlcj4oXHJcbiAgICAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyA6IG51bGwpIHx8IDFcclxuICApO1xyXG4gIGNvbnN0IFtyb3RhdGlvbiwgc2V0Um90YXRpb25dID0gUmVhY3QudXNlU3RhdGU8UGFnZVJvdGF0aW9uPihQYWdlUm90YXRpb24uUm90YXRlMCk7XHJcbiAgY29uc3QgW3NjYWxlLCBzZXRTY2FsZV0gPSBSZWFjdC51c2VTdGF0ZTxudW1iZXI+KERFRkFVTFRfWk9PTV9TQ0FMRSk7XHJcbiAgY29uc3QgW3pvb21JbmNyZW1lbnRWYWx1ZSwgc2V0Wm9vbUluY3JlbWVudFZhbHVlXSA9IFJlYWN0LnVzZVN0YXRlPG51bWJlcj4oMC4yKTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIHBpeGVsUmF0aW8sXHJcbiAgICByb3RhdGlvbixcclxuICAgIHNjYWxlLFxyXG4gICAgc2V0UGl4ZWxSYXRpbyxcclxuICAgIHNldFJvdGF0aW9uLFxyXG4gICAgc2V0U2NhbGUsXHJcbiAgICB6b29tSW5jcmVtZW50VmFsdWUsXHJcbiAgICBzZXRab29tSW5jcmVtZW50VmFsdWUsXHJcbiAgfTtcclxufVxyXG4iLCJpbXBvcnQgeyBEaW1lbnNpb25zLCBTaXplIH0gZnJvbSAnLi4vY29tcG9uZW50cy90eXBlcy9ib3VuZGluZ0JveCc7XHJcbmltcG9ydCB7IGlzU2lkZXdheXMsIFBhZ2VSb3RhdGlvbiB9IGZyb20gJy4vcm90YXRlJztcclxuXHJcbi8vIENvbXB1dGVzIHRoZSBzdHlsZSBmb3IgYSBib3VuZGluZyBib3gsIGFjY291bnRpbmcgZm9yIHBhZ2Ugcm9hdGlvbiBhbmQgcGFnZSBzY2FsaW5nL3pvb21cclxuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVCb3VuZGluZ0JveFN0eWxlKFxyXG4gIGJvdW5kaW5nQm94U2l6ZTogU2l6ZSxcclxuICBwYWdlRGltZW5zaW9uczogRGltZW5zaW9ucyxcclxuICByb3RhdGlvbjogUGFnZVJvdGF0aW9uLFxyXG4gIHNjYWxlOiBudW1iZXJcclxuKTogU2l6ZSB7XHJcbiAgY29uc3QgeyB0b3AsIGxlZnQsIGhlaWdodCwgd2lkdGggfSA9IGJvdW5kaW5nQm94U2l6ZTtcclxuXHJcbiAgc3dpdGNoIChyb3RhdGlvbikge1xyXG4gICAgY2FzZSBQYWdlUm90YXRpb24uUm90YXRlOTA6XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgdG9wOiBsZWZ0ICogc2NhbGUsXHJcbiAgICAgICAgbGVmdDogKHBhZ2VEaW1lbnNpb25zLmhlaWdodCAtIGhlaWdodCAtIHRvcCkgKiBzY2FsZSxcclxuICAgICAgICBoZWlnaHQ6IHdpZHRoICogc2NhbGUsXHJcbiAgICAgICAgd2lkdGg6IGhlaWdodCAqIHNjYWxlLFxyXG4gICAgICB9O1xyXG4gICAgY2FzZSBQYWdlUm90YXRpb24uUm90YXRlMTgwOlxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHRvcDogKHBhZ2VEaW1lbnNpb25zLmhlaWdodCAtIGhlaWdodCAtIHRvcCkgKiBzY2FsZSxcclxuICAgICAgICBsZWZ0OiAocGFnZURpbWVuc2lvbnMud2lkdGggLSB3aWR0aCAtIGxlZnQpICogc2NhbGUsXHJcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHQgKiBzY2FsZSxcclxuICAgICAgICB3aWR0aDogd2lkdGggKiBzY2FsZSxcclxuICAgICAgfTtcclxuICAgIGNhc2UgUGFnZVJvdGF0aW9uLlJvdGF0ZTI3MDpcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICB0b3A6IChwYWdlRGltZW5zaW9ucy53aWR0aCAtIHdpZHRoIC0gbGVmdCkgKiBzY2FsZSxcclxuICAgICAgICBsZWZ0OiB0b3AgKiBzY2FsZSxcclxuICAgICAgICBoZWlnaHQ6IHdpZHRoICogc2NhbGUsXHJcbiAgICAgICAgd2lkdGg6IGhlaWdodCAqIHNjYWxlLFxyXG4gICAgICB9O1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICB0b3A6IHRvcCAqIHNjYWxlLFxyXG4gICAgICAgIGxlZnQ6IGxlZnQgKiBzY2FsZSxcclxuICAgICAgICBoZWlnaHQ6IGhlaWdodCAqIHNjYWxlLFxyXG4gICAgICAgIHdpZHRoOiB3aWR0aCAqIHNjYWxlLFxyXG4gICAgICB9O1xyXG4gIH1cclxufVxyXG5cclxuLy8gQ29tcHV0ZSB0aGUgc3R5bGUgZm9yIGEgcGFnZSwgYWNjb3VudGluZyBmb3IgcGFnZSByb3RhdGlvbiBhbmQgcGFnZSBzY2FsaW5nL3pvb21cclxuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVQYWdlU3R5bGUoXHJcbiAgcGFnZURpbWVuc2lvbnM6IERpbWVuc2lvbnMsXHJcbiAgcm90YXRpb246IFBhZ2VSb3RhdGlvbixcclxuICBzY2FsZTogbnVtYmVyXHJcbik6IFNpemUge1xyXG4gIHJldHVybiB7XHJcbiAgICBoZWlnaHQ6IGdldFBhZ2VIZWlnaHQocGFnZURpbWVuc2lvbnMsIHJvdGF0aW9uKSAqIHNjYWxlLFxyXG4gICAgd2lkdGg6IGdldFBhZ2VXaWR0aChwYWdlRGltZW5zaW9ucywgcm90YXRpb24pICogc2NhbGUsXHJcbiAgICBsZWZ0OiAwLFxyXG4gICAgdG9wOiAwLFxyXG4gIH07XHJcbn1cclxuXHJcbi8vIEdldCBwYWdlIGhlaWdodCBhY2NvdW50aW5nIGZvciBwYWdlIHJvdGF0aW9uLSBpZiB0aGUgcGFnZSBpcyByb3RhdGVkIG9uIGl0cyBzaWRlLCBpdHMgd2lkdGggYmVjb21lcyBpdHMgaGVpZ2h0XHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRQYWdlSGVpZ2h0KHBhZ2VEaW1lbnNpb25zOiBEaW1lbnNpb25zLCByb3RhdGlvbjogUGFnZVJvdGF0aW9uKTogbnVtYmVyIHtcclxuICByZXR1cm4gaXNTaWRld2F5cyhyb3RhdGlvbikgPyBwYWdlRGltZW5zaW9ucy53aWR0aCA6IHBhZ2VEaW1lbnNpb25zLmhlaWdodDtcclxufVxyXG5cclxuLy8gR2V0IHBhZ2Ugd2lkdGggYWNjb3VudGluZyBmb3IgcGFnZSByb3RhdGlvbi0gaWYgdGhlIHBhZ2UgaXMgcm90YXRlZCBvbiBpdHMgc2lkZSwgaXRzIGhlaWdodCBiZWNvbWVzIGl0cyB3aWR0aFxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGFnZVdpZHRoKHBhZ2VEaW1lbnNpb25zOiBEaW1lbnNpb25zLCByb3RhdGlvbjogUGFnZVJvdGF0aW9uKTogbnVtYmVyIHtcclxuICByZXR1cm4gaXNTaWRld2F5cyhyb3RhdGlvbikgPyBwYWdlRGltZW5zaW9ucy5oZWlnaHQgOiBwYWdlRGltZW5zaW9ucy53aWR0aDtcclxufVxyXG4iLCJpbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcclxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5cclxuaW1wb3J0IHsgRG9jdW1lbnRDb250ZXh0IH0gZnJvbSAnLi4vY29udGV4dC9Eb2N1bWVudENvbnRleHQnO1xyXG5pbXBvcnQgeyBUcmFuc2Zvcm1Db250ZXh0IH0gZnJvbSAnLi4vY29udGV4dC9UcmFuc2Zvcm1Db250ZXh0JztcclxuaW1wb3J0IHsgY29tcHV0ZUJvdW5kaW5nQm94U3R5bGUgfSBmcm9tICcuLi91dGlscy9zdHlsZSc7XHJcbmltcG9ydCB7IEJvdW5kaW5nQm94IGFzIEJvdW5kaW5nQm94VHlwZSB9IGZyb20gJy4vdHlwZXMvYm91bmRpbmdCb3gnO1xyXG5cclxuZXhwb3J0IHR5cGUgUHJvcHMgPSB7XHJcbiAgY2xhc3NOYW1lPzogc3RyaW5nO1xyXG4gIHVuZGVybGluZUNsYXNzTmFtZT86IHN0cmluZztcclxuICBpZD86IHN0cmluZztcclxuICBpc0hpZ2hsaWdodGVkPzogYm9vbGVhbjtcclxuICBvbkNsaWNrPzogKCkgPT4gdm9pZDtcclxuICB2b2ljZU92ZXJMYWJlbD86IHN0cmluZztcclxufSAmIEJvdW5kaW5nQm94VHlwZTtcclxuXHJcbmV4cG9ydCBjb25zdCBCb3VuZGluZ0JveDogUmVhY3QuRnVuY3Rpb25Db21wb25lbnQ8UHJvcHM+ID0gKHtcclxuICB0b3AsXHJcbiAgbGVmdCxcclxuICBoZWlnaHQsXHJcbiAgd2lkdGgsXHJcbiAgY2xhc3NOYW1lLFxyXG4gIHVuZGVybGluZUNsYXNzTmFtZSxcclxuICBpZCxcclxuICBpc0hpZ2hsaWdodGVkLFxyXG4gIG9uQ2xpY2ssXHJcbiAgdm9pY2VPdmVyTGFiZWwsXHJcbiAgLi4uZXh0cmFQcm9wc1xyXG59OiBQcm9wcykgPT4ge1xyXG4gIGNvbnN0IHsgcGFnZURpbWVuc2lvbnMgfSA9IFJlYWN0LnVzZUNvbnRleHQoRG9jdW1lbnRDb250ZXh0KTtcclxuICBjb25zdCB7IHJvdGF0aW9uLCBzY2FsZSB9ID0gUmVhY3QudXNlQ29udGV4dChUcmFuc2Zvcm1Db250ZXh0KTtcclxuICBjb25zdCBib3hTaXplID0geyB0b3AsIGxlZnQsIGhlaWdodCwgd2lkdGggfTtcclxuICBjb25zdCBjb21wb25lbnRDbGFzc05hbWUgPSBjbGFzc05hbWVzKFxyXG4gICAgJ3BkZi1yZWFkZXJfX292ZXJsYXktYm91bmRpbmctYm94JyxcclxuICAgIGlzSGlnaGxpZ2h0ZWQgPT09IHRydWUgPyAncGRmLXJlYWRlcl9fb3ZlcmxheS1ib3VuZGluZy1ib3gtaGlnaGxpZ2h0ZWQnIDogJycsXHJcbiAgICBjbGFzc05hbWVcclxuICApO1xyXG5cclxuICBjb25zdCBnZXRCb3VuZGluZ0JveFN0eWxlID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgcmV0dXJuIGNvbXB1dGVCb3VuZGluZ0JveFN0eWxlKGJveFNpemUsIHBhZ2VEaW1lbnNpb25zLCByb3RhdGlvbiwgc2NhbGUpO1xyXG4gIH0sIFtwYWdlRGltZW5zaW9ucywgcm90YXRpb24sIHNjYWxlXSk7XHJcblxyXG4gIGNvbnN0IHJvdGF0aW9uQ2xhc3NOYW1lID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgcmV0dXJuIGByb3RhdGUke3JvdGF0aW9ufWA7XHJcbiAgfSwgW3JvdGF0aW9uXSk7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8UmVhY3QuRnJhZ21lbnQ+XHJcbiAgICAgIDxkaXZcclxuICAgICAgICAvLyBjbGFzc05hbWU9e2BwZGYtcmVhZGVyX19vdmVybGF5LWJvdW5kaW5nLWJveC11bmRlcmxpbmUgJHtcclxuICAgICAgICAvLyAgIHVuZGVybGluZUNsYXNzTmFtZSB8fCByb3RhdGlvbkNsYXNzTmFtZSgpXHJcbiAgICAgICAgLy8gfWB9XHJcbiAgICAgICAgY2xhc3NOYW1lPSdwZGYtcmVhZGVyX19vdmVybGF5LWJvdW5kaW5nLWJveC1oaWdobGlnaHRlZCdcclxuICAgICAgICBzdHlsZT17Z2V0Qm91bmRpbmdCb3hTdHlsZSgpfVxyXG4gICAgICAvPlxyXG4gICAgICA8ZGl2XHJcbiAgICAgICAgaWQ9e2lkfVxyXG4gICAgICAgIGNsYXNzTmFtZT17YCR7Y29tcG9uZW50Q2xhc3NOYW1lfSAke3JvdGF0aW9uQ2xhc3NOYW1lKCl9YH1cclxuICAgICAgICBzdHlsZT17Z2V0Qm91bmRpbmdCb3hTdHlsZSgpfVxyXG4gICAgICAgIG9uQ2xpY2s9e29uQ2xpY2t9XHJcbiAgICAgICAgcm9sZT1cImJ1dHRvblwiXHJcbiAgICAgICAgdGFiSW5kZXg9ezB9XHJcbiAgICAgICAgYXJpYS1sYWJlbD17dm9pY2VPdmVyTGFiZWx9XHJcbiAgICAgICAgey4uLmV4dHJhUHJvcHN9XHJcbiAgICAgIC8+XHJcbiAgICA8L1JlYWN0LkZyYWdtZW50PlxyXG4gICk7XHJcbn07XHJcbiIsImltcG9ydCB7IE51bGxhYmxlIH0gZnJvbSAnLi4vY29tcG9uZW50cy90eXBlcy91dGlscyc7XHJcblxyXG5leHBvcnQgZW51bSBTY3JvbGxEaXJlY3Rpb24ge1xyXG4gIFVQID0gJ1VQJyxcclxuICBET1dOID0gJ0RPV04nLFxyXG59XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNjcm9sbERldGVjdG9yIHtcclxuICBfbGFzdFNjcm9sbFRvcDogbnVtYmVyO1xyXG4gIF9sYXN0U2Nyb2xsRGlyZWN0aW9uOiBOdWxsYWJsZTxTY3JvbGxEaXJlY3Rpb24+O1xyXG4gIF9lbDogRWxlbWVudDtcclxuICBfc2V0U2Nyb2xsRGlyZWN0aW9uOiAoc2Nyb2xsRGlyZWN0aW9uOiBTY3JvbGxEaXJlY3Rpb24pID0+IGFueTtcclxuICBfbGFzdFNjcm9sbFRvcEJlZm9yZURpcmVjdGlvbkNoYW5nZTogbnVtYmVyO1xyXG4gIF9zY3JvbGxUaHJlc2hvbGQ/OiBudW1iZXI7XHJcbiAgX2lzU2Nyb2xsVGhyZXNob2xkUmVhY2hlZEluRGlyZWN0aW9uOiBOdWxsYWJsZTxTY3JvbGxEaXJlY3Rpb24+O1xyXG4gIF9zZXRTY3JvbGxUaHJlc2hvbGRSZWFjaGVkSW5EaXJlY3Rpb24/OiAoc2Nyb2xsRGlyZWN0aW9uOiBOdWxsYWJsZTxTY3JvbGxEaXJlY3Rpb24+KSA9PiBhbnk7XHJcbiAgX2lzQXRUb3A6IE51bGxhYmxlPGJvb2xlYW4+O1xyXG4gIF9zZXRJc0F0VG9wOiAoaXNBdFRvcDogYm9vbGVhbikgPT4gYW55O1xyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIGVsOiBFbGVtZW50LFxyXG4gICAgc2V0U2Nyb2xsRGlyZWN0aW9uOiAoc2Nyb2xsRGlyZWN0aW9uOiBTY3JvbGxEaXJlY3Rpb24pID0+IGFueSxcclxuICAgIHNldElzQXRUb3A6IChpc0F0VG9wOiBib29sZWFuKSA9PiBhbnksXHJcbiAgICBzZXRTY3JvbGxUaHJlc2hvbGRSZWFjaGVkSW5EaXJlY3Rpb24/OiAoc2Nyb2xsRGlyZWN0aW9uOiBOdWxsYWJsZTxTY3JvbGxEaXJlY3Rpb24+KSA9PiBhbnksXHJcbiAgICBzY3JvbGxUaHJlc2hvbGQ/OiBudW1iZXJcclxuICApIHtcclxuICAgIHRoaXMuX2VsID0gZWw7XHJcbiAgICB0aGlzLl9sYXN0U2Nyb2xsVG9wID0gdGhpcy5fZWwuc2Nyb2xsVG9wO1xyXG4gICAgdGhpcy5fbGFzdFNjcm9sbERpcmVjdGlvbiA9IG51bGw7XHJcbiAgICB0aGlzLl9zZXRTY3JvbGxEaXJlY3Rpb24gPSBzZXRTY3JvbGxEaXJlY3Rpb247XHJcbiAgICB0aGlzLl9pc0F0VG9wID0gbnVsbDtcclxuICAgIHRoaXMuX3NldElzQXRUb3AgPSBzZXRJc0F0VG9wO1xyXG4gICAgdGhpcy5fbGFzdFNjcm9sbFRvcEJlZm9yZURpcmVjdGlvbkNoYW5nZSA9IHRoaXMuX2VsLnNjcm9sbFRvcDtcclxuICAgIHRoaXMuX3Njcm9sbFRocmVzaG9sZCA9IHNjcm9sbFRocmVzaG9sZDtcclxuXHJcbiAgICB0aGlzLl9pc1Njcm9sbFRocmVzaG9sZFJlYWNoZWRJbkRpcmVjdGlvbiA9IG51bGw7XHJcbiAgICB0aGlzLl9zZXRTY3JvbGxUaHJlc2hvbGRSZWFjaGVkSW5EaXJlY3Rpb24gPSBzZXRTY3JvbGxUaHJlc2hvbGRSZWFjaGVkSW5EaXJlY3Rpb247XHJcbiAgfVxyXG5cclxuICBhdHRhY2hTY3JvbGxMaXN0ZW5lcigpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLl9lbD8udGFnTmFtZT8udG9Mb3dlckNhc2UoKSA9PT0gJ2h0bWwnKSB7XHJcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLl9vblNjcm9sbCwgZmFsc2UpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB0aGlzLl9lbC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLl9vblNjcm9sbCwgZmFsc2UpO1xyXG4gIH1cclxuXHJcbiAgZGV0YWNoU2Nyb2xsTGlzdGVuZXIoKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5fZWw/LnRhZ05hbWU/LnRvTG93ZXJDYXNlKCkgPT09ICdodG1sJykge1xyXG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5fb25TY3JvbGwsIGZhbHNlKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdGhpcy5fZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5fb25TY3JvbGwsIGZhbHNlKTtcclxuICB9XHJcblxyXG4gIF9vblNjcm9sbCA9ICgpOiB2b2lkID0+IHtcclxuICAgIGNvbnN0IGN1cnJTY3JvbGxUb3AgPSB0aGlzLl9lbC5zY3JvbGxUb3A7XHJcbiAgICBpZiAodGhpcy5faXNBdFRvcCAhPT0gKGN1cnJTY3JvbGxUb3AgPT09IDApKSB7XHJcbiAgICAgIHRoaXMuX2lzQXRUb3AgPSBjdXJyU2Nyb2xsVG9wID09PSAwO1xyXG4gICAgICB0aGlzLl9zZXRJc0F0VG9wKGN1cnJTY3JvbGxUb3AgPT09IDApO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuX2xhc3RTY3JvbGxUb3AgPT09IGN1cnJTY3JvbGxUb3ApIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIERldGVybWluZSBkaXJlY3Rpb25cclxuICAgIGNvbnN0IGN1cnJTY3JvbGxEaXJlY3Rpb24gPSAoKCkgPT4ge1xyXG4gICAgICBpZiAoY3VyclNjcm9sbFRvcCA8PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIFNjcm9sbERpcmVjdGlvbi5ET1dOO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0aGlzLl9sYXN0U2Nyb2xsVG9wIDwgY3VyclNjcm9sbFRvcCA/IFNjcm9sbERpcmVjdGlvbi5ET1dOIDogU2Nyb2xsRGlyZWN0aW9uLlVQO1xyXG4gICAgfSkoKTtcclxuXHJcbiAgICAvLyBVcGRhdGUgc3RhdGUsIGlmIGNoYW5nZWRcclxuICAgIHRoaXMuX2xhc3RTY3JvbGxUb3AgPSBjdXJyU2Nyb2xsVG9wO1xyXG4gICAgaWYgKHRoaXMuX2xhc3RTY3JvbGxEaXJlY3Rpb24gIT09IGN1cnJTY3JvbGxEaXJlY3Rpb24pIHtcclxuICAgICAgdGhpcy5fbGFzdFNjcm9sbERpcmVjdGlvbiA9IGN1cnJTY3JvbGxEaXJlY3Rpb247XHJcbiAgICAgIHRoaXMuX3NldFNjcm9sbERpcmVjdGlvbihjdXJyU2Nyb2xsRGlyZWN0aW9uKTtcclxuXHJcbiAgICAgIHRoaXMuX2xhc3RTY3JvbGxUb3BCZWZvcmVEaXJlY3Rpb25DaGFuZ2UgPSBjdXJyU2Nyb2xsVG9wO1xyXG4gICAgICB0aGlzLl9pc1Njcm9sbFRocmVzaG9sZFJlYWNoZWRJbkRpcmVjdGlvbiA9IG51bGw7XHJcbiAgICAgIGlmICh0aGlzLl9zZXRTY3JvbGxUaHJlc2hvbGRSZWFjaGVkSW5EaXJlY3Rpb24gJiYgIXRoaXMuX2lzQXRUb3ApIHtcclxuICAgICAgICB0aGlzLl9zZXRTY3JvbGxUaHJlc2hvbGRSZWFjaGVkSW5EaXJlY3Rpb24obnVsbCk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICh0aGlzLl9zY3JvbGxUaHJlc2hvbGQgJiYgdGhpcy5fc2V0U2Nyb2xsVGhyZXNob2xkUmVhY2hlZEluRGlyZWN0aW9uKSB7XHJcbiAgICAgICAgY29uc3Qgc2Nyb2xsZWRBbW91bnQgPSBNYXRoLmFicyh0aGlzLl9sYXN0U2Nyb2xsVG9wQmVmb3JlRGlyZWN0aW9uQ2hhbmdlIC0gY3VyclNjcm9sbFRvcCk7XHJcbiAgICAgICAgaWYgKHNjcm9sbGVkQW1vdW50ID49IHRoaXMuX3Njcm9sbFRocmVzaG9sZCkge1xyXG4gICAgICAgICAgdGhpcy5faXNTY3JvbGxUaHJlc2hvbGRSZWFjaGVkSW5EaXJlY3Rpb24gPSB0aGlzLl9sYXN0U2Nyb2xsRGlyZWN0aW9uO1xyXG4gICAgICAgICAgdGhpcy5fc2V0U2Nyb2xsVGhyZXNob2xkUmVhY2hlZEluRGlyZWN0aW9uKHRoaXMuX2xhc3RTY3JvbGxEaXJlY3Rpb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH07XHJcbn1cclxuIiwiY29uc3QgREVGQVVMVF9ST09UX01BUkdJTiA9ICc1MHB4JztcclxuY29uc3QgREVGQVVMVF9USFJFU0hPTEQgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiAxMDEgfSkubWFwKChfLCBpKSA9PiBpIC8gMTAwKTtcclxuXHJcbmV4cG9ydCB0eXBlIFNldFZpc2libGVFbnRyaWVzQ2FsbGJhY2s8VEVudHJ5PiA9IChcclxuICB2aXNpYmxlOiBNYXA8VEVudHJ5LCBWaXNpYmxlRW50cnlEZXRhaWxUeXBlPlxyXG4pID0+IHZvaWQ7XHJcbmV4cG9ydCB0eXBlIG9uVmlzaWJsZUVudHJpZXNDaGFuZ2VDYWxsYmFjazxURW50cnk+ID0gKGFyZ3M6IHtcclxuICB2aXNpYmxlRW50cmllczogSW50ZXJzZWN0aW9uT2JzZXJ2ZXJFbnRyeVtdO1xyXG4gIGhpZGRlbkVudHJpZXM6IEludGVyc2VjdGlvbk9ic2VydmVyRW50cnlbXTtcclxuICBsYXN0RW50cmllczogTWFwPFRFbnRyeSwgVmlzaWJsZUVudHJ5RGV0YWlsVHlwZT47XHJcbn0pID0+IE1hcDxURW50cnksIFZpc2libGVFbnRyeURldGFpbFR5cGU+O1xyXG5cclxuZXhwb3J0IHR5cGUgVmlzaWJsZUVudHJ5RGV0YWlsVHlwZSA9IHtcclxuICByYXRpbzogbnVtYmVyO1xyXG4gIHRpbWVzdGFtcDogbnVtYmVyO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmlzaWJsZUVudHJpZXNEZXRlY3RvcjxURW50cnk+IHtcclxuICBfcm9vdDogRWxlbWVudDtcclxuICBfb2JzZXJ2ZXI6IEludGVyc2VjdGlvbk9ic2VydmVyO1xyXG4gIF9sYXN0VmlzaWJsZUVudHJpZXM6IE1hcDxURW50cnksIFZpc2libGVFbnRyeURldGFpbFR5cGU+O1xyXG4gIF9zZXRWaXNpYmxlRW50cmllczogU2V0VmlzaWJsZUVudHJpZXNDYWxsYmFjazxURW50cnk+O1xyXG4gIF9vblZpc2libGVFbnRyaWVzQ2hhbmdlOiBvblZpc2libGVFbnRyaWVzQ2hhbmdlQ2FsbGJhY2s8VEVudHJ5PjtcclxuXHJcbiAgY29uc3RydWN0b3Ioe1xyXG4gICAgcm9vdCxcclxuICAgIHRocmVzSG9sZCxcclxuICAgIHNldFZpc2libGVFbnRyaWVzLFxyXG4gICAgb25WaXNpYmxlRW50cmllc0NoYW5nZSxcclxuICB9OiB7XHJcbiAgICByb290OiBFbGVtZW50O1xyXG4gICAgdGhyZXNIb2xkPzogbnVtYmVyIHwgQXJyYXk8bnVtYmVyPjtcclxuICAgIHNldFZpc2libGVFbnRyaWVzOiBTZXRWaXNpYmxlRW50cmllc0NhbGxiYWNrPFRFbnRyeT47XHJcbiAgICBvblZpc2libGVFbnRyaWVzQ2hhbmdlOiBvblZpc2libGVFbnRyaWVzQ2hhbmdlQ2FsbGJhY2s8VEVudHJ5PjtcclxuICB9KSB7XHJcbiAgICB0aGlzLl9yb290ID0gcm9vdDtcclxuICAgIHRoaXMuX2xhc3RWaXNpYmxlRW50cmllcyA9IG5ldyBNYXAoKTtcclxuICAgIHRoaXMuX3NldFZpc2libGVFbnRyaWVzID0gc2V0VmlzaWJsZUVudHJpZXM7XHJcbiAgICB0aGlzLl9vblZpc2libGVFbnRyaWVzQ2hhbmdlID0gb25WaXNpYmxlRW50cmllc0NoYW5nZTtcclxuICAgIHRoaXMuX29ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKFxyXG4gICAgICBlbnRyaWVzID0+IHtcclxuICAgICAgICAvLyBDb2xsZWN0IHZpc2libGUgYW5kIGhpZGRlbiBlbGVtZW50c1xyXG4gICAgICAgIGNvbnN0IHZpc2libGVFbnRyaWVzID0gZW50cmllcy5maWx0ZXIoZW50cnkgPT4gZW50cnkuaXNJbnRlcnNlY3RpbmcpO1xyXG4gICAgICAgIGNvbnN0IGhpZGRlbkVudHJpZXMgPSBlbnRyaWVzLmZpbHRlcihlbnRyeSA9PiAhZW50cnkuaXNJbnRlcnNlY3RpbmcpO1xyXG5cclxuICAgICAgICAvLyBEZXRlcm1pbmUgd2hhdCBuZWVkcyBzYXZlZFxyXG4gICAgICAgIGNvbnN0IG5ld1Zpc2libGVFbnRyaWVzID0gdGhpcy5fb25WaXNpYmxlRW50cmllc0NoYW5nZSh7XHJcbiAgICAgICAgICB2aXNpYmxlRW50cmllcyxcclxuICAgICAgICAgIGhpZGRlbkVudHJpZXMsXHJcbiAgICAgICAgICBsYXN0RW50cmllczogdGhpcy5fbGFzdFZpc2libGVFbnRyaWVzLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBmcm96ZW5FbnRyaWVzID0gbmV3IE1hcChuZXdWaXNpYmxlRW50cmllcyk7XHJcbiAgICAgICAgT2JqZWN0LmZyZWV6ZShmcm96ZW5FbnRyaWVzKTtcclxuICAgICAgICB0aGlzLl9sYXN0VmlzaWJsZUVudHJpZXMgPSBmcm96ZW5FbnRyaWVzO1xyXG4gICAgICAgIHRoaXMuX3NldFZpc2libGVFbnRyaWVzKGZyb3plbkVudHJpZXMpO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLy8gRGVmYXVsdCBzZXR0aW5nIGZvciBpbnRlcnNlY3Rpb24gb2JzZXJ2ZXJcclxuICAgICAge1xyXG4gICAgICAgIHJvb3Q6IHRoaXMuX3Jvb3QudGFnTmFtZT8udG9Mb3dlckNhc2UoKSA9PT0gJ2h0bWwnID8gbnVsbCA6IHRoaXMuX3Jvb3QsXHJcbiAgICAgICAgcm9vdE1hcmdpbjogREVGQVVMVF9ST09UX01BUkdJTixcclxuICAgICAgICB0aHJlc2hvbGQ6IHRocmVzSG9sZCA/IHRocmVzSG9sZCA6IERFRkFVTFRfVEhSRVNIT0xELFxyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgb2JzZXJ2ZU5vZGVzKHNlbGVjdG9yOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgIGZvciAoY29uc3Qgbm9kZSBvZiB0aGlzLl9yb290LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpKSB7XHJcbiAgICAgIHRoaXMuX29ic2VydmVyLm9ic2VydmUobm9kZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBkZXN0cm95KCk6IHZvaWQge1xyXG4gICAgdGhpcy5fb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XHJcblxyXG5pbXBvcnQgeyBOb2RlRGVzdGluYXRpb24gfSBmcm9tICcuLi9jb21wb25lbnRzL3R5cGVzL291dGxpbmUnO1xyXG5pbXBvcnQgeyBQYWdlTnVtYmVyIH0gZnJvbSAnLi4vY29tcG9uZW50cy90eXBlcy9wYWdlJztcclxuaW1wb3J0IHsgTnVsbGFibGUgfSBmcm9tICcuLi9jb21wb25lbnRzL3R5cGVzL3V0aWxzJztcclxuaW1wb3J0IHsgbG9nUHJvdmlkZXJXYXJuaW5nIH0gZnJvbSAnLi4vdXRpbHMvcHJvdmlkZXInO1xyXG5pbXBvcnQgeyBnZW5lcmF0ZVBhZ2VJZEZyb21JbmRleCB9IGZyb20gJy4uL3V0aWxzL3Njcm9sbCc7XHJcbmltcG9ydCBTY3JvbGxEZXRlY3RvciwgeyBTY3JvbGxEaXJlY3Rpb24gfSBmcm9tICcuLi91dGlscy9TY3JvbGxEaXJlY3Rpb25EZXRlY3Rvcic7XHJcbmltcG9ydCBWaXNpYmxlRW50cmllc0RldGVjdG9yLCB7IFZpc2libGVFbnRyeURldGFpbFR5cGUgfSBmcm9tICcuLi91dGlscy9WaXNpYmxlRW50cmllc0RldGVjdG9yJztcclxuXHJcbmNvbnN0IE9VVExJTkVfQVRUUklCVVRFID0gJ2RhdGEtb3V0bGluZS10YXJnZXQtZGVzdCc7XHJcblxyXG5jb25zdCBPVVRMSU5FX1NFTEVDVE9SID0gJy5wZGYtcmVhZGVyX19wYWdlX19vdXRsaW5lLXRhcmdldCc7XHJcblxyXG5jb25zdCBQQUdFX05VTUJFUl9BVFRSSUJVVEUgPSAnZGF0YS1wYWdlLW51bWJlcic7XHJcblxyXG5jb25zdCBQQUdFX05VTUJFUl9TRUxFQ1RPUiA9IGAucGRmLXJlYWRlcl9fcGFnZVske1BBR0VfTlVNQkVSX0FUVFJJQlVURX1dYDtcclxuXHJcbmNvbnN0IERFRkFVTFRfUEFHRV9TQ1JPTExFRF9JTlRPX1ZJRVdfVEhSRVNIT0xEID0gMC4xO1xyXG5cclxuY29uc3QgRU1QVFlfTlVNQkVSX1RPX1ZJU0lCTEVfRU5UUllfREVUQUlMX01BUCA9IE9iamVjdC5mcmVlemUoXHJcbiAgbmV3IE1hcDxudW1iZXIsIFZpc2libGVFbnRyeURldGFpbFR5cGU+KClcclxuKTtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSVNjcm9sbENvbnRleHQge1xyXG4gIGlzT3V0bGluZVRhcmdldFZpc2libGU6IChkZXN0OiBOb2RlRGVzdGluYXRpb24pID0+IGJvb2xlYW47XHJcbiAgaXNQYWdlVmlzaWJsZTogKHBhZ2VOdW1iZXI6IFBhZ2VOdW1iZXIpID0+IGJvb2xlYW47XHJcbiAgc2Nyb2xsRGlyZWN0aW9uOiBOdWxsYWJsZTxTY3JvbGxEaXJlY3Rpb24+O1xyXG4gIHZpc2libGVPdXRsaW5lVGFyZ2V0czogTWFwPE5vZGVEZXN0aW5hdGlvbiwgVmlzaWJsZUVudHJ5RGV0YWlsVHlwZT47IC8vIG1hcHBpbmcgbm9kZSBkZXN0aW5hdGlvbiB3aXRoIHRoZWlyIGludGVyc2VjdGlvbiByYXRpb1xyXG4gIHZpc2libGVQYWdlUmF0aW9zOiBNYXA8bnVtYmVyLCBWaXNpYmxlRW50cnlEZXRhaWxUeXBlPjsgLy8gbWFwcGluZyBwYWdlIG51bWJlciB3aXRoIHRoZWlyIGludGVyc2VjdGlvbiByYXRpb1xyXG4gIHJlc2V0U2Nyb2xsT2JzZXJ2ZXJzOiAoKSA9PiB2b2lkO1xyXG4gIHNjcm9sbFJvb3Q6IE51bGxhYmxlPEhUTUxFbGVtZW50PjtcclxuICBzZXRTY3JvbGxSb290OiAocm9vdDogTnVsbGFibGU8SFRNTEVsZW1lbnQ+KSA9PiB2b2lkO1xyXG4gIHNjcm9sbFRvT3V0bGluZVRhcmdldDogKGRlc3Q6IE5vZGVEZXN0aW5hdGlvbikgPT4gdm9pZDtcclxuICBzZXRTY3JvbGxUaHJlc2hvbGQ6IChzY3JvbGxUaHJlc2hvbGQ6IE51bGxhYmxlPG51bWJlcj4pID0+IHZvaWQ7XHJcbiAgc2Nyb2xsVG9QYWdlOiAocGFnZU51bWJlcjogUGFnZU51bWJlcikgPT4gdm9pZDtcclxuICB1cGRhdGVTY3JvbGxQb3NpdGlvbjogKHpvb21NdWx0aXBsaWVyOiBudW1iZXIpID0+IHZvaWQ7XHJcbiAgc2V0SXNPdXRsaW5lQ2xpY2tlZDogKGlzT3V0bGluZUdldENsaWNrZWQ6IGJvb2xlYW4pID0+IHZvaWQ7XHJcbiAgc2Nyb2xsVGhyZXNob2xkUmVhY2hlZEluRGlyZWN0aW9uOiBOdWxsYWJsZTxTY3JvbGxEaXJlY3Rpb24+O1xyXG4gIGlzQXRUb3A6IE51bGxhYmxlPGJvb2xlYW4+O1xyXG4gIGlzT3V0bGluZUNsaWNrZWQ6IE51bGxhYmxlPGJvb2xlYW4+O1xyXG4gIHBhZ2VzU2Nyb2xsZWRJbnRvVmlldzogTWFwPG51bWJlciwgVmlzaWJsZUVudHJ5RGV0YWlsVHlwZT47IC8vIG1hcHBpbmcgcGFnZSBudW1iZXIgd2l0aCB0aGVpciBpbnRlcnNlY3Rpb24gcmF0aW9cclxuICBzZXRQYWdlU2Nyb2xsZWRJbnRvVmlld1RocmVzaG9sZDogKHRocmVzaG9sZDogbnVtYmVyKSA9PiB2b2lkO1xyXG59XHJcblxyXG5jb25zdCBERUZBVUxUX0NPTlRFWFQ6IElTY3JvbGxDb250ZXh0ID0ge1xyXG4gIHNjcm9sbERpcmVjdGlvbjogbnVsbCxcclxuICB2aXNpYmxlT3V0bGluZVRhcmdldHM6IG5ldyBNYXAoKSxcclxuICB2aXNpYmxlUGFnZVJhdGlvczogbmV3IE1hcCgpLFxyXG4gIGlzT3V0bGluZVRhcmdldFZpc2libGU6IG9wdHMgPT4ge1xyXG4gICAgbG9nUHJvdmlkZXJXYXJuaW5nKGBpc091dGxpbmVUYXJnZXRWaXNpYmxlKCR7SlNPTi5zdHJpbmdpZnkob3B0cyl9KWAsICdTY3JvbGxDb250ZXh0Jyk7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfSxcclxuICBpc1BhZ2VWaXNpYmxlOiBvcHRzID0+IHtcclxuICAgIGxvZ1Byb3ZpZGVyV2FybmluZyhgaXNQYWdlVmlzaWJsZSgke0pTT04uc3RyaW5naWZ5KG9wdHMpfSlgLCAnU2Nyb2xsQ29udGV4dCcpO1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH0sXHJcbiAgcmVzZXRTY3JvbGxPYnNlcnZlcnM6ICgpID0+IHtcclxuICAgIGxvZ1Byb3ZpZGVyV2FybmluZyhgcmVzZXRTY3JvbGxPYnNlcnZlcnMoKWAsICdTY3JvbGxDb250ZXh0Jyk7XHJcbiAgfSxcclxuICBzY3JvbGxSb290OiA8SFRNTEVsZW1lbnQ+e30sXHJcbiAgc2V0U2Nyb2xsUm9vdDogKF9lbDogTnVsbGFibGU8SFRNTEVsZW1lbnQ+KSA9PiB7XHJcbiAgICBsb2dQcm92aWRlcldhcm5pbmcoYHNldFNjcm9sbFJvb3QoLi4uKWAsICdTY3JvbGxDb250ZXh0Jyk7XHJcbiAgfSxcclxuICBzY3JvbGxUb091dGxpbmVUYXJnZXQ6IGRlc3QgPT4ge1xyXG4gICAgbG9nUHJvdmlkZXJXYXJuaW5nKGBzY3JvbGxUb091dGxpbmVUYXJnZXQoJHtkZXN0fSlgLCAnU2Nyb2xsQ29udGV4dCcpO1xyXG4gIH0sXHJcbiAgc2V0U2Nyb2xsVGhyZXNob2xkOiAoc2Nyb2xsVGhyZXNob2xkOiBOdWxsYWJsZTxudW1iZXI+KSA9PiB7XHJcbiAgICBsb2dQcm92aWRlcldhcm5pbmcoYHNldFNjcm9sbFRocmVzaG9sZCgke3Njcm9sbFRocmVzaG9sZH0pYCwgJ1Njcm9sbENvbnRleHQnKTtcclxuICB9LFxyXG4gIHNjcm9sbFRvUGFnZTogb3B0cyA9PiB7XHJcbiAgICBsb2dQcm92aWRlcldhcm5pbmcoYHNjcm9sbFRvUGFnZSgke0pTT04uc3RyaW5naWZ5KG9wdHMpfSlgLCAnU2Nyb2xsQ29udGV4dCcpO1xyXG4gIH0sXHJcbiAgdXBkYXRlU2Nyb2xsUG9zaXRpb246IHpvb21NdWx0aXBsaWVyID0+IHtcclxuICAgIGxvZ1Byb3ZpZGVyV2FybmluZyhgdXBkYXRlU2Nyb2xsUG9zaXRpb24oJHtKU09OLnN0cmluZ2lmeSh6b29tTXVsdGlwbGllcil9KWAsICdTY3JvbGxDb250ZXh0Jyk7XHJcbiAgfSxcclxuICBzZXRJc091dGxpbmVDbGlja2VkOiBvcHRzID0+IHtcclxuICAgIGxvZ1Byb3ZpZGVyV2FybmluZyhgc2V0SXNPdXRsaW5lR2V0Q2xpY2tlZCgke0pTT04uc3RyaW5naWZ5KG9wdHMpfSlgLCAnU2Nyb2xsQ29udGV4dCcpO1xyXG4gIH0sXHJcbiAgc2Nyb2xsVGhyZXNob2xkUmVhY2hlZEluRGlyZWN0aW9uOiBudWxsLFxyXG4gIGlzQXRUb3A6IG51bGwsXHJcbiAgaXNPdXRsaW5lQ2xpY2tlZDogbnVsbCxcclxuICBwYWdlc1Njcm9sbGVkSW50b1ZpZXc6IG5ldyBNYXAoKSxcclxuICBzZXRQYWdlU2Nyb2xsZWRJbnRvVmlld1RocmVzaG9sZDogKHRocmVzaG9sZDogbnVtYmVyKSA9PiB7XHJcbiAgICBsb2dQcm92aWRlcldhcm5pbmcoYHBhZ2VzU2Nyb2xsZWRJbnRvVmlldygke3RocmVzaG9sZH0pYCwgJ1Njcm9sbENvbnRleHQnKTtcclxuICB9LFxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IFNjcm9sbENvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0PElTY3JvbGxDb250ZXh0PihERUZBVUxUX0NPTlRFWFQpO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHVzZVNjcm9sbENvbnRleHRQcm9wcygpOiBJU2Nyb2xsQ29udGV4dCB7XHJcbiAgLy8gTm9kZSB1c2VkIGZvciBvYnNlcnZpbmcgdGhlIHNjcm9sbCBwb3NpdGlvblxyXG4gIGNvbnN0IFtzY3JvbGxSb290LCBzZXRTY3JvbGxSb290XSA9IFJlYWN0LnVzZVN0YXRlPE51bGxhYmxlPEhUTUxFbGVtZW50Pj4obnVsbCk7XHJcblxyXG4gIC8vIERldGVybWluZSBzY3JvbGwgZGlyZWN0aW9uXHJcbiAgY29uc3QgW3Njcm9sbERpcmVjdGlvbiwgc2V0U2Nyb2xsRGlyZWN0aW9uXSA9IFJlYWN0LnVzZVN0YXRlPE51bGxhYmxlPFNjcm9sbERpcmVjdGlvbj4+KG51bGwpO1xyXG4gIGNvbnN0IFtzY3JvbGxUaHJlc2hvbGQsIHNldFNjcm9sbFRocmVzaG9sZF0gPSBSZWFjdC51c2VTdGF0ZTxOdWxsYWJsZTxudW1iZXI+PihudWxsKTtcclxuICBjb25zdCBbc2Nyb2xsVGhyZXNob2xkUmVhY2hlZEluRGlyZWN0aW9uLCBzZXRTY3JvbGxUaHJlc2hvbGRSZWFjaGVkSW5EaXJlY3Rpb25dID1cclxuICAgIFJlYWN0LnVzZVN0YXRlPE51bGxhYmxlPFNjcm9sbERpcmVjdGlvbj4+KG51bGwpO1xyXG4gIGNvbnN0IFtpc0F0VG9wLCBzZXRJc0F0VG9wXSA9IFJlYWN0LnVzZVN0YXRlPE51bGxhYmxlPGJvb2xlYW4+PihudWxsKTtcclxuICBjb25zdCBbaXNPdXRsaW5lQ2xpY2tlZCwgc2V0SXNPdXRsaW5lQ2xpY2tlZF0gPSBSZWFjdC51c2VTdGF0ZTxOdWxsYWJsZTxib29sZWFuPj4obnVsbCk7XHJcblxyXG4gIGNvbnN0IFtwYWdlU2Nyb2xsZWRJbnRvVmlld1RocmVzaG9sZCwgc2V0UGFnZVNjcm9sbGVkSW50b1ZpZXdUaHJlc2hvbGRdID0gUmVhY3QudXNlU3RhdGUoXHJcbiAgICBERUZBVUxUX1BBR0VfU0NST0xMRURfSU5UT19WSUVXX1RIUkVTSE9MRFxyXG4gICk7XHJcblxyXG4gIGNvbnN0IFtwYWdlc1Njcm9sbGVkSW50b1ZpZXcsIHNldFBhZ2VzU2Nyb2xsZWRJbnRvVmlld10gPSBSZWFjdC51c2VTdGF0ZTxcclxuICAgIE1hcDxudW1iZXIsIFZpc2libGVFbnRyeURldGFpbFR5cGU+XHJcbiAgPigoKSA9PiBFTVBUWV9OVU1CRVJfVE9fVklTSUJMRV9FTlRSWV9ERVRBSUxfTUFQKTtcclxuXHJcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IHNjcm9sbEVsZW0gPSBzY3JvbGxSb290IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcclxuICAgIGlmICghc2Nyb2xsRWxlbSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHNjcm9sbERpcmVjdGlvbkRldGVjdG9yOiBTY3JvbGxEZXRlY3RvcjtcclxuICAgIGlmICghc2Nyb2xsVGhyZXNob2xkKSB7XHJcbiAgICAgIC8vIHNjcm9sbCB0aHJlc2hvbGQgaXMgb3B0aW9uYWxcclxuICAgICAgc2Nyb2xsRGlyZWN0aW9uRGV0ZWN0b3IgPSBuZXcgU2Nyb2xsRGV0ZWN0b3Ioc2Nyb2xsRWxlbSwgc2V0U2Nyb2xsRGlyZWN0aW9uLCBzZXRJc0F0VG9wKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHNjcm9sbERpcmVjdGlvbkRldGVjdG9yID0gbmV3IFNjcm9sbERldGVjdG9yKFxyXG4gICAgICAgIHNjcm9sbEVsZW0sXHJcbiAgICAgICAgc2V0U2Nyb2xsRGlyZWN0aW9uLFxyXG4gICAgICAgIHNldElzQXRUb3AsXHJcbiAgICAgICAgc2V0U2Nyb2xsVGhyZXNob2xkUmVhY2hlZEluRGlyZWN0aW9uLFxyXG4gICAgICAgIHNjcm9sbFRocmVzaG9sZFxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHNjcm9sbERpcmVjdGlvbkRldGVjdG9yLmF0dGFjaFNjcm9sbExpc3RlbmVyKCk7XHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICBzY3JvbGxEaXJlY3Rpb25EZXRlY3Rvci5kZXRhY2hTY3JvbGxMaXN0ZW5lcigpO1xyXG4gICAgfTtcclxuICB9LCBbc2Nyb2xsUm9vdCwgc2Nyb2xsVGhyZXNob2xkXSk7XHJcblxyXG4gIC8vIENhdXNlcyB0aGUgSW50ZXJzZWN0aW9uT2JzZXJ2ZXJzIHRvIGRpc2Nvbm5lY3QgYW5kIGJlIHJlY3JlYXRlZCAodXNlZnVsIHdoZW4gRE9NIGNoYW5nZXMpXHJcbiAgY29uc3QgW29ic2VydmVySW5kZXgsIHNldE9ic2VydmVySW5kZXhdID0gUmVhY3QudXNlU3RhdGUoMCk7XHJcbiAgY29uc3QgcmVzZXRTY3JvbGxPYnNlcnZlcnMgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBzZXRPYnNlcnZlckluZGV4KG9ic2VydmVySW5kZXggKyAxKTtcclxuICB9LCBbb2JzZXJ2ZXJJbmRleF0pO1xyXG5cclxuICBjb25zdCBbdmlzaWJsZU91dGxpbmVUYXJnZXRzLCBzZXRWaXNpYmxlT3V0bGluZU5vZGVzXSA9IFJlYWN0LnVzZVN0YXRlPFxyXG4gICAgTWFwPE5vZGVEZXN0aW5hdGlvbiwgVmlzaWJsZUVudHJ5RGV0YWlsVHlwZT5cclxuICA+KCgpID0+IHtcclxuICAgIGNvbnN0IG1hcCA9IG5ldyBNYXA8Tm9kZURlc3RpbmF0aW9uLCBWaXNpYmxlRW50cnlEZXRhaWxUeXBlPigpO1xyXG4gICAgT2JqZWN0LmZyZWV6ZShtYXApO1xyXG4gICAgcmV0dXJuIG1hcDtcclxuICB9KTtcclxuXHJcbiAgY29uc3QgW3Zpc2libGVQYWdlUmF0aW9zLCBzZXRWaXNpYmxlUGFnZVJhdGlvc10gPSBSZWFjdC51c2VTdGF0ZTxcclxuICAgIE1hcDxudW1iZXIsIFZpc2libGVFbnRyeURldGFpbFR5cGU+XHJcbiAgPigoKSA9PiBFTVBUWV9OVU1CRVJfVE9fVklTSUJMRV9FTlRSWV9ERVRBSUxfTUFQKTtcclxuXHJcbiAgY29uc3QgaXNPdXRsaW5lVGFyZ2V0VmlzaWJsZSA9IFJlYWN0LnVzZUNhbGxiYWNrKFxyXG4gICAgKGRlc3Q6IE5vZGVEZXN0aW5hdGlvbik6IGJvb2xlYW4gPT4ge1xyXG4gICAgICByZXR1cm4gdmlzaWJsZU91dGxpbmVUYXJnZXRzLmhhcyhkZXN0KTtcclxuICAgIH0sXHJcbiAgICBbdmlzaWJsZU91dGxpbmVUYXJnZXRzXVxyXG4gICk7XHJcblxyXG4gIGNvbnN0IHNjcm9sbFRvT3V0bGluZVRhcmdldCA9IFJlYWN0LnVzZUNhbGxiYWNrKChkZXN0OiBOb2RlRGVzdGluYXRpb24pOiB2b2lkID0+IHtcclxuICAgIHNldElzT3V0bGluZUNsaWNrZWQodHJ1ZSk7XHJcbiAgICBkb2N1bWVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihgW2RhdGEtb3V0bGluZS10YXJnZXQtZGVzdD1cIiR7ZGVzdH1cIl1gKVxyXG4gICAgICA/LnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnIH0pO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgY29uc3QgaXNQYWdlVmlzaWJsZSA9IFJlYWN0LnVzZUNhbGxiYWNrKFxyXG4gICAgKHsgcGFnZU51bWJlciwgcGFnZUluZGV4IH06IFBhZ2VOdW1iZXIpOiBib29sZWFuID0+IHtcclxuICAgICAgaWYgKHR5cGVvZiBwYWdlSW5kZXggPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgcGFnZU51bWJlciA9IHBhZ2VJbmRleCArIDE7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHR5cGVvZiBwYWdlTnVtYmVyICE9PSAnbnVtYmVyJykge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdmlzaWJsZVBhZ2VSYXRpb3MuaGFzKHBhZ2VOdW1iZXIpO1xyXG4gICAgfSxcclxuICAgIFt2aXNpYmxlUGFnZVJhdGlvc11cclxuICApO1xyXG5cclxuICBjb25zdCBzY3JvbGxUb1BhZ2UgPSBSZWFjdC51c2VDYWxsYmFjaygoeyBwYWdlTnVtYmVyLCBwYWdlSW5kZXggfTogUGFnZU51bWJlcik6IHZvaWQgPT4ge1xyXG4gICAgaWYgKHR5cGVvZiBwYWdlTnVtYmVyID09PSAnbnVtYmVyJykge1xyXG4gICAgICBwYWdlSW5kZXggPSBwYWdlTnVtYmVyIC0gMTtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2YgcGFnZUluZGV4ICE9PSAnbnVtYmVyJykge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBkb2N1bWVudFxyXG4gICAgICAuZ2V0RWxlbWVudEJ5SWQoZ2VuZXJhdGVQYWdlSWRGcm9tSW5kZXgocGFnZUluZGV4KSlcclxuICAgICAgPy5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcclxuICB9LCBbXSk7XHJcblxyXG4gIC8vIFdhdGNoIG91dGxpbmUgbm9kZXNcclxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3Qgcm9vdCA9IHNjcm9sbFJvb3QgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xyXG4gICAgY29uc3QgZGV0ZWN0b3IgPSBuZXcgVmlzaWJsZUVudHJpZXNEZXRlY3RvcjxOb2RlRGVzdGluYXRpb24+KHtcclxuICAgICAgcm9vdDogcm9vdCxcclxuICAgICAgc2V0VmlzaWJsZUVudHJpZXM6IHNldFZpc2libGVPdXRsaW5lTm9kZXMsXHJcbiAgICAgIG9uVmlzaWJsZUVudHJpZXNDaGFuZ2U6ICh7IHZpc2libGVFbnRyaWVzLCBoaWRkZW5FbnRyaWVzLCBsYXN0RW50cmllcyB9KSA9PiB7XHJcbiAgICAgICAgaGlkZGVuRW50cmllcy5tYXAoZW50cnkgPT5cclxuICAgICAgICAgIGxhc3RFbnRyaWVzLmRlbGV0ZShlbnRyeS50YXJnZXQuZ2V0QXR0cmlidXRlKE9VVExJTkVfQVRUUklCVVRFKSlcclxuICAgICAgICApO1xyXG4gICAgICAgIGNvbnN0IG5ld0VudHJpZXMgPSBuZXcgTWFwKGxhc3RFbnRyaWVzKTtcclxuICAgICAgICB2aXNpYmxlRW50cmllcy5tYXAoZW50cnkgPT5cclxuICAgICAgICAgIG5ld0VudHJpZXMuc2V0KGVudHJ5LnRhcmdldC5nZXRBdHRyaWJ1dGUoT1VUTElORV9BVFRSSUJVVEUpLCB7XHJcbiAgICAgICAgICAgIHJhdGlvOiBlbnRyeS5pbnRlcnNlY3Rpb25SYXRpbyxcclxuICAgICAgICAgICAgdGltZXN0YW1wOiBlbnRyeS50aW1lLFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBuZXdFbnRyaWVzO1xyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcbiAgICBkZXRlY3Rvci5vYnNlcnZlTm9kZXMoT1VUTElORV9TRUxFQ1RPUik7XHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICBkZXRlY3Rvci5kZXN0cm95KCk7XHJcbiAgICB9O1xyXG4gIH0sIFtzY3JvbGxSb290LCBvYnNlcnZlckluZGV4XSk7XHJcblxyXG4gIC8vIFdhdGNoIHBhZ2VzXHJcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IHJvb3QgPSBzY3JvbGxSb290IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcclxuICAgIGNvbnN0IGRldGVjdG9yID0gbmV3IFZpc2libGVFbnRyaWVzRGV0ZWN0b3I8bnVtYmVyPih7XHJcbiAgICAgIHJvb3Q6IHJvb3QsXHJcbiAgICAgIHNldFZpc2libGVFbnRyaWVzOiBzZXRWaXNpYmxlUGFnZVJhdGlvcyxcclxuICAgICAgb25WaXNpYmxlRW50cmllc0NoYW5nZTogKHsgdmlzaWJsZUVudHJpZXMsIGhpZGRlbkVudHJpZXMsIGxhc3RFbnRyaWVzIH0pID0+IHtcclxuICAgICAgICBpZiAoaGlkZGVuRW50cmllcy5sZW5ndGgpIHtcclxuICAgICAgICAgIGNvbnN0IG1heFRpbWUgPSBNYXRoLm1heCguLi5oaWRkZW5FbnRyaWVzLm1hcChlID0+IGUudGltZSkpO1xyXG4gICAgICAgICAgY29uc3QgaGlkZGVuUGFnZU51bXMgPSBoaWRkZW5FbnRyaWVzLm1hcChcclxuICAgICAgICAgICAgZSA9PiBlLnRhcmdldD8uZ2V0QXR0cmlidXRlKFBBR0VfTlVNQkVSX0FUVFJJQlVURSkgfHwgJydcclxuICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgLy8gZHVlIHRvIHVwcGVyIGxpbWl0IG9uIGhvdyBmYXN0IHRoZSBJbnRlcnNlY3Rpb24gT2JzZXJ2ZXIgQVBJIGNhbiBzYW1wbGUgYW5kIGhvdyBmYXN0IGJyb3dzZXJzIGNhbiByZW5kZXIgKGhhcHBlbnMgd2hlbiB1c2VycyBzY3JvbGwgZmFzdClcclxuICAgICAgICAgIC8vIHNvbWV0aW1lcyBlbnRyaWVzIHdpbGwgbm90IGJlIHNpZ25hbGVkIGFzIGhpZGRlbiwgbWVhbmluZyB0aGV5IHNob3VsZCBiZSByZW1vdmVkIGZyb20gbGFzdEVudHJpZXMgYnV0IHdlcmVuJ3RcclxuICAgICAgICAgIC8vIHNvIGlmIGFuIGVudHJ5IGhhcyBhIHRpbWVzdGFtcCB0aGF0cyBvbGRlciB0aGVuIGFuIGVudHJ5IHdlIGFyZSBjdXJyZW50bHkgcmVtb3ZpbmcsIHdlIGNhbiBhc3N1bWUgaXRzIFwic3RhbGVcIiBhbmQgZGVsZXRlXHJcbiAgICAgICAgICAvLyBtb3JlIGRldGFpbHMgYWJvdXQgdGhpcyBpc3N1ZSBoZXJlOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy82MTk1MTM4MC9pbnRlcnNlY3Rpb24tb2JzZXJ2ZXItZmFpbHMtc29tZXRpbWVzLXdoZW4taS1zY3JvbGwtZmFzdFxyXG5cclxuICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIGxhc3RFbnRyaWVzLmVudHJpZXMoKSkge1xyXG4gICAgICAgICAgICBpZiAodmFsdWUudGltZXN0YW1wIDw9IG1heFRpbWUgfHwgaGlkZGVuUGFnZU51bXMuaW5jbHVkZXMoU3RyaW5nKGtleSkpKSB7XHJcbiAgICAgICAgICAgICAgbGFzdEVudHJpZXMuZGVsZXRlKGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgbmV3RW50cmllcyA9IG5ldyBNYXAobGFzdEVudHJpZXMpO1xyXG4gICAgICAgIHZpc2libGVFbnRyaWVzLm1hcChlbnRyeSA9PiB7XHJcbiAgICAgICAgICBuZXdFbnRyaWVzLnNldChwYXJzZUludChlbnRyeS50YXJnZXQ/LmdldEF0dHJpYnV0ZShQQUdFX05VTUJFUl9BVFRSSUJVVEUpIHx8ICcnLCAxMCksIHtcclxuICAgICAgICAgICAgcmF0aW86IGVudHJ5LmludGVyc2VjdGlvblJhdGlvLFxyXG4gICAgICAgICAgICB0aW1lc3RhbXA6IGVudHJ5LnRpbWUsXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gbmV3RW50cmllcztcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG4gICAgZGV0ZWN0b3Iub2JzZXJ2ZU5vZGVzKFBBR0VfTlVNQkVSX1NFTEVDVE9SKTtcclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIGRldGVjdG9yLmRlc3Ryb3koKTtcclxuICAgIH07XHJcbiAgfSwgW3Njcm9sbFJvb3QsIG9ic2VydmVySW5kZXhdKTtcclxuXHJcbiAgLy8gbWFwIG9mIHBhZ2VzIGF0IHRoZSBtb21lbnQgdGhleSBhcmUgc2Nyb2xsZWQgaW50byB2aWV3LCB1c2VmdWwgZm9yIHRyYWNraW5nIGFuYWx5dGljcyBzdWNoIGFzIHBhZ2UgaW1wcmVzc2lvbnNcclxuICAvLyBkaWZmZXJlbnQgdGhhbiB0aGUgdmlzaWJsZVBhZ2VSYXRpb3MgaW4gdGhhdCBpdCBvbmx5IHNhdmVzIHRoZSB+aW5pdGlhbH4gcG9pbnQgb2Ygd2hlbiBhIHBhZ2UgY29tZXMgaW50byB2aWV3XHJcbiAgLy8gaXQgZG9lc24ndCB0cmFjayB0aGUgbGl2ZSBjaGFuZ2UgaW4gcmF0aW9zIGFzIHRoZSBwYWdlIHJlbWFpbnMgaW4gdmlldyB3aGVuIHNjcm9sbGVkXHJcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IHJvb3QgPSBzY3JvbGxSb290IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcclxuICAgIGNvbnN0IGRldGVjdG9yID0gbmV3IFZpc2libGVFbnRyaWVzRGV0ZWN0b3I8bnVtYmVyPih7XHJcbiAgICAgIHJvb3Q6IHJvb3QsXHJcbiAgICAgIHRocmVzSG9sZDogcGFnZVNjcm9sbGVkSW50b1ZpZXdUaHJlc2hvbGQsXHJcbiAgICAgIHNldFZpc2libGVFbnRyaWVzOiBzZXRQYWdlc1Njcm9sbGVkSW50b1ZpZXcsXHJcbiAgICAgIG9uVmlzaWJsZUVudHJpZXNDaGFuZ2U6ICh7IHZpc2libGVFbnRyaWVzIH0pID0+IHtcclxuICAgICAgICBjb25zdCBuZXdFbnRyaWVzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHZpc2libGVFbnRyaWVzLm1hcChlbnRyeSA9PiB7XHJcbiAgICAgICAgICBuZXdFbnRyaWVzLnNldChcclxuICAgICAgICAgICAgcGFyc2VJbnQoZW50cnkudGFyZ2V0Py5nZXRBdHRyaWJ1dGUoUEFHRV9OVU1CRVJfQVRUUklCVVRFKSB8fCAnJywgMTApLFxyXG4gICAgICAgICAgICBlbnRyeS5pbnRlcnNlY3Rpb25SYXRpb1xyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gbmV3RW50cmllcztcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG4gICAgZGV0ZWN0b3Iub2JzZXJ2ZU5vZGVzKFBBR0VfTlVNQkVSX1NFTEVDVE9SKTtcclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIGRldGVjdG9yLmRlc3Ryb3koKTtcclxuICAgIH07XHJcbiAgfSwgW3Njcm9sbFJvb3QsIG9ic2VydmVySW5kZXhdKTtcclxuXHJcbiAgLy8gY2FsY3VsYXRlcyBhIG5ldyBzY3JvbGwgcG9zaXRpb24gYWZ0ZXIgem9vbWluZyBpbi9vdXQgc28gdXNlciBkb2VzbnQgbG9zZSB0aGVpciBwb3NpdGlvblxyXG4gIGNvbnN0IHVwZGF0ZVNjcm9sbFBvc2l0aW9uID0gUmVhY3QudXNlQ2FsbGJhY2soXHJcbiAgICAoem9vbU11bHRpcGxpZXI6IG51bWJlcik6IHZvaWQgPT4ge1xyXG4gICAgICBjb25zdCByb290ID0gc2Nyb2xsUm9vdCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XHJcbiAgICAgIGlmICghcm9vdCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBjb25zdCBuZXdTY3JvbGxUb3AgPSBNYXRoLmZsb29yKHJvb3Quc2Nyb2xsVG9wICogem9vbU11bHRpcGxpZXIpO1xyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICByb290LnNjcm9sbFRvcCA9IG5ld1Njcm9sbFRvcDtcclxuICAgICAgfSwgMCk7XHJcbiAgICB9LFxyXG4gICAgW3Njcm9sbFJvb3RdXHJcbiAgKTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGlzT3V0bGluZVRhcmdldFZpc2libGUsXHJcbiAgICBpc1BhZ2VWaXNpYmxlLFxyXG4gICAgc2Nyb2xsRGlyZWN0aW9uLFxyXG4gICAgdmlzaWJsZU91dGxpbmVUYXJnZXRzLFxyXG4gICAgdmlzaWJsZVBhZ2VSYXRpb3MsXHJcbiAgICByZXNldFNjcm9sbE9ic2VydmVycyxcclxuICAgIHNjcm9sbFJvb3QsXHJcbiAgICBzZXRTY3JvbGxSb290LFxyXG4gICAgc2Nyb2xsVG9PdXRsaW5lVGFyZ2V0LFxyXG4gICAgc2V0U2Nyb2xsVGhyZXNob2xkLFxyXG4gICAgc2Nyb2xsVG9QYWdlLFxyXG4gICAgdXBkYXRlU2Nyb2xsUG9zaXRpb24sXHJcbiAgICBzZXRJc091dGxpbmVDbGlja2VkLFxyXG4gICAgc2Nyb2xsVGhyZXNob2xkUmVhY2hlZEluRGlyZWN0aW9uLFxyXG4gICAgaXNBdFRvcCxcclxuICAgIGlzT3V0bGluZUNsaWNrZWQsXHJcbiAgICBwYWdlc1Njcm9sbGVkSW50b1ZpZXcsXHJcbiAgICBzZXRQYWdlU2Nyb2xsZWRJbnRvVmlld1RocmVzaG9sZCxcclxuICB9O1xyXG59XHJcbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcclxuXHJcbmltcG9ydCB7IE51bGxhYmxlIH0gZnJvbSAnLi4vY29tcG9uZW50cy90eXBlcy91dGlscyc7XHJcbmltcG9ydCB7IGxvZ1Byb3ZpZGVyV2FybmluZyB9IGZyb20gJy4uL3V0aWxzL3Byb3ZpZGVyJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSVVpQ29udGV4dCB7XHJcbiAgZXJyb3JNZXNzYWdlOiBOdWxsYWJsZTxzdHJpbmc+O1xyXG4gIGlzTG9hZGluZzogYm9vbGVhbjtcclxuICBpc1Nob3dpbmdIaWdobGlnaHRPdmVybGF5OiBib29sZWFuO1xyXG4gIGlzU2hvd2luZ091dGxpbmU6IGJvb2xlYW47XHJcbiAgaXNTaG93aW5nVGV4dEhpZ2hsaWdodDogYm9vbGVhbjtcclxuICBpc1Nob3dpbmdUaHVtYm5haWw6IGJvb2xlYW47XHJcbiAgaXNTaG93aW5nSW50ZXJhY3Q6IGJvb2xlYW47XHJcbiAgc2V0RXJyb3JNZXNzYWdlOiAoZXJyb3JNZXNzYWdlOiBOdWxsYWJsZTxzdHJpbmc+KSA9PiB2b2lkO1xyXG4gIHNldElzTG9hZGluZzogKGlzTG9hZGluZzogYm9vbGVhbikgPT4gdm9pZDtcclxuICBzZXRJc1Nob3dpbmdIaWdobGlnaHRPdmVybGF5OiAoaXNTaG93aW5nSGlnaGxpZ2h0T3ZlcmxheTogYm9vbGVhbikgPT4gdm9pZDtcclxuICBzZXRJc1Nob3dpbmdPdXRsaW5lOiAoaXNTaG93aW5nT3V0bGluZTogYm9vbGVhbikgPT4gdm9pZDtcclxuICBzZXRJc1Nob3dpbmdUZXh0SGlnaGxpZ2h0OiAoaXNTaG93aW5nVGV4dEhpZ2hsaWdodDogYm9vbGVhbikgPT4gdm9pZDtcclxuICBzZXRJc1Nob3dpbmdUaHVtYm5haWw6IChpc1Nob3dpbmdUaHVtYm5haWw6IGJvb2xlYW4pID0+IHZvaWQ7XHJcbiAgc2V0SXNTaG93aW5nSW50ZXJhY3Q6IChpc1Nob3dpbmdJbnRlcmFjdDogYm9vbGVhbikgPT4gdm9pZDtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IFVpQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQ8SVVpQ29udGV4dD4oe1xyXG4gIGVycm9yTWVzc2FnZTogbnVsbCxcclxuICBpc0xvYWRpbmc6IGZhbHNlLFxyXG4gIGlzU2hvd2luZ0hpZ2hsaWdodE92ZXJsYXk6IGZhbHNlLFxyXG4gIGlzU2hvd2luZ091dGxpbmU6IGZhbHNlLFxyXG4gIGlzU2hvd2luZ1RleHRIaWdobGlnaHQ6IGZhbHNlLFxyXG4gIGlzU2hvd2luZ1RodW1ibmFpbDogZmFsc2UsXHJcbiAgaXNTaG93aW5nSW50ZXJhY3Q6IGZhbHNlLFxyXG4gIHNldEVycm9yTWVzc2FnZTogZXJyb3JNZXNzYWdlID0+IHtcclxuICAgIGxvZ1Byb3ZpZGVyV2FybmluZyhgc2V0RXJyb3JNZXNzYWdlKCR7ZXJyb3JNZXNzYWdlfSlgLCAnVWlDb250ZXh0Jyk7XHJcbiAgfSxcclxuICBzZXRJc1Nob3dpbmdPdXRsaW5lOiBpc1Nob3dpbmdPdXRsaW5lID0+IHtcclxuICAgIGxvZ1Byb3ZpZGVyV2FybmluZyhgc2V0SXNTaG93aW5nT3V0bGluZSgke2lzU2hvd2luZ091dGxpbmV9KWAsICdVaUNvbnRleHQnKTtcclxuICB9LFxyXG4gIHNldElzU2hvd2luZ0ludGVyYWN0OiBpc1Nob3dpbmdJbnRlcmFjdCA9PiB7XHJcbiAgICBsb2dQcm92aWRlcldhcm5pbmcoYHNldElzU2hvd2luZ0ludGVyYWN0KCR7aXNTaG93aW5nSW50ZXJhY3R9KWAsICdVaUNvbnRleHQnKTtcclxuICB9LFxyXG4gIHNldElzTG9hZGluZzogaXNMb2FkaW5nID0+IHtcclxuICAgIGxvZ1Byb3ZpZGVyV2FybmluZyhgc2V0SXNMb2FkaW5nKCR7aXNMb2FkaW5nfSlgLCAnVWlDb250ZXh0Jyk7XHJcbiAgfSxcclxuICBzZXRJc1Nob3dpbmdIaWdobGlnaHRPdmVybGF5OiBpc1Nob3dpbmdIaWdobGlnaHRPdmVybGF5ID0+IHtcclxuICAgIGxvZ1Byb3ZpZGVyV2FybmluZyhgc2V0SXNTaG93aW5nSGlnaGxpZ2h0T3ZlcmxheSgke2lzU2hvd2luZ0hpZ2hsaWdodE92ZXJsYXl9KWAsICdVaUNvbnRleHQnKTtcclxuICB9LFxyXG4gIHNldElzU2hvd2luZ1RleHRIaWdobGlnaHQ6IGlzU2hvd2luZ1RleHRIaWdobGlnaHQgPT4ge1xyXG4gICAgbG9nUHJvdmlkZXJXYXJuaW5nKGBzZXRJc1Nob3dpbmdUZXh0SGlnaGxpZ2h0KCR7aXNTaG93aW5nVGV4dEhpZ2hsaWdodH0pYCwgJ1VpQ29udGV4dCcpO1xyXG4gIH0sXHJcbiAgc2V0SXNTaG93aW5nVGh1bWJuYWlsOiBpc1Nob3dpbmdUaHVtYm5haWwgPT4ge1xyXG4gICAgbG9nUHJvdmlkZXJXYXJuaW5nKGBzZXRJc1Nob3dpbmdUaHVtYm5haWwoJHtpc1Nob3dpbmdUaHVtYm5haWx9KWAsICdVaUNvbnRleHQnKTtcclxuICB9LFxyXG59KTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB1c2VVaUNvbnRleHRQcm9wcygpOiBJVWlDb250ZXh0IHtcclxuICBjb25zdCBbZXJyb3JNZXNzYWdlLCBzZXRFcnJvck1lc3NhZ2VdID0gUmVhY3QudXNlU3RhdGU8TnVsbGFibGU8c3RyaW5nPj4obnVsbCk7XHJcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IFJlYWN0LnVzZVN0YXRlPGJvb2xlYW4+KHRydWUpO1xyXG4gIGNvbnN0IFtpc1Nob3dpbmdIaWdobGlnaHRPdmVybGF5LCBzZXRJc1Nob3dpbmdIaWdobGlnaHRPdmVybGF5XSA9IFJlYWN0LnVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcclxuICBjb25zdCBbaXNTaG93aW5nT3V0bGluZSwgc2V0SXNTaG93aW5nT3V0bGluZV0gPSBSZWFjdC51c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XHJcbiAgY29uc3QgW2lzU2hvd2luZ1RleHRIaWdobGlnaHQsIHNldElzU2hvd2luZ1RleHRIaWdobGlnaHRdID0gUmVhY3QudXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xyXG4gIGNvbnN0IFtpc1Nob3dpbmdUaHVtYm5haWwsIHNldElzU2hvd2luZ1RodW1ibmFpbF0gPSBSZWFjdC51c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XHJcbiAgY29uc3QgW2lzU2hvd2luZ0ludGVyYWN0LCBzZXRJc1Nob3dpbmdJbnRlcmFjdF0gPSBSZWFjdC51c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBlcnJvck1lc3NhZ2UsXHJcbiAgICBpc0xvYWRpbmcsXHJcbiAgICBpc1Nob3dpbmdIaWdobGlnaHRPdmVybGF5LFxyXG4gICAgaXNTaG93aW5nT3V0bGluZSxcclxuICAgIGlzU2hvd2luZ1RleHRIaWdobGlnaHQsXHJcbiAgICBpc1Nob3dpbmdUaHVtYm5haWwsXHJcbiAgICBpc1Nob3dpbmdJbnRlcmFjdCxcclxuICAgIHNldEVycm9yTWVzc2FnZSxcclxuICAgIHNldElzTG9hZGluZyxcclxuICAgIHNldElzU2hvd2luZ0hpZ2hsaWdodE92ZXJsYXksXHJcbiAgICBzZXRJc1Nob3dpbmdPdXRsaW5lLFxyXG4gICAgc2V0SXNTaG93aW5nVGV4dEhpZ2hsaWdodCxcclxuICAgIHNldElzU2hvd2luZ1RodW1ibmFpbCxcclxuICAgIHNldElzU2hvd2luZ0ludGVyYWN0LFxyXG4gIH07XHJcbn1cclxuIiwiLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuZXhwb3J0IGZ1bmN0aW9uIGdldEVycm9yTWVzc2FnZShlcnJvcjogYW55KTogc3RyaW5nIHtcclxuICBpZiAoIWVycm9yKSB7XHJcbiAgICByZXR1cm4gJ1Vua25vd24gZXJyb3InO1xyXG4gIH1cclxuICBpZiAodHlwZW9mIGVycm9yID09PSAnc3RyaW5nJykge1xyXG4gICAgcmV0dXJuIGVycm9yO1xyXG4gIH1cclxuICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgcmV0dXJuIGVycm9yLm1lc3NhZ2U7XHJcbiAgfVxyXG4gIGlmICh0eXBlb2YgZXJyb3IuZXJyb3IgPT09ICdzdHJpbmcnKSB7XHJcbiAgICByZXR1cm4gZXJyb3IuZXJyb3I7XHJcbiAgfVxyXG4gIHJldHVybiBlcnJvci50b1N0cmluZygpO1xyXG59XHJcbiIsImltcG9ydCB7IHBkZmpzIH0gZnJvbSAncmVhY3QtcGRmJztcclxuXHJcbi8vIFNldCBQREZqcyB3b3JrZXIgc291cmNlIG9yIGVsc2UgUERGIHdpbGwgbm90IGxvYWQgd2hlbiB0aGlzIGxpYnJhcnkgaXMgaW1wb3J0ZWQgYXMgYSBwYWNrYWdlLlxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdFBkZldvcmtlcigpOiB2b2lkIHtcclxuICBwZGZqcy5HbG9iYWxXb3JrZXJPcHRpb25zLndvcmtlclNyYyA9IGAvL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9wZGYuanMvJHtwZGZqcy52ZXJzaW9ufS9wZGYud29ya2VyLm1pbi5qc2A7XHJcbn1cclxuIiwiZXhwb3J0IGNvbnN0IFJFTkRFUl9UWVBFID0ge1xyXG4gIE1VTFRJX0NBTlZBUzogJ211bHRpLWNhbnZhcycsXHJcbiAgU0lOR0xFX0NBTlZBUzogJ3NpbmdsZS1jYW52YXMnLFxyXG59IGFzIGNvbnN0O1xyXG5cclxuZXhwb3J0IHR5cGUgUmVuZGVyVHlwZSA9IHR5cGVvZiBSRU5ERVJfVFlQRVtrZXlvZiB0eXBlb2YgUkVOREVSX1RZUEVdO1xyXG5cclxuZXhwb3J0IHR5cGUgUmVuZGVyTW9kZSA9ICdjYW52YXMnIHwgJ25vbmUnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFJlbmRlck1vZGUocmVuZGVyVHlwZTogUmVuZGVyVHlwZSk6IFJlbmRlck1vZGUge1xyXG4gIHN3aXRjaCAocmVuZGVyVHlwZSkge1xyXG4gICAgY2FzZSBSRU5ERVJfVFlQRS5TSU5HTEVfQ0FOVkFTOlxyXG4gICAgICByZXR1cm4gJ25vbmUnO1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgcmV0dXJuICdjYW52YXMnO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldENsYXNzTmFtZVN1ZmZpeEZyb21SZW5kZXJUeXBlKHJlbmRlclR5cGU6IFJlbmRlclR5cGUpOiBzdHJpbmcge1xyXG4gIHN3aXRjaCAocmVuZGVyVHlwZSkge1xyXG4gICAgY2FzZSBSRU5ERVJfVFlQRS5TSU5HTEVfQ0FOVkFTOlxyXG4gICAgICByZXR1cm4gJ3NpbmdsZS1jYW52YXMnO1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgcmV0dXJuICdtdWx0aS1jYW52YXMnO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBEaW1lbnNpb25zIH0gZnJvbSAnLi4vY29tcG9uZW50cy90eXBlcy9ib3VuZGluZ0JveCc7XHJcblxyXG4vLyBEYXRhIGZyb20gcmVhY3QtcGRmL3BkZmpzIHRoYXQgd2UgbmVlZCB0byBjb21wdXRlIHRoZSBwaXhlbCBzaXplIG9mIHRoZSBQREYncyBwYWdlKHMpLlxyXG5leHBvcnQgaW50ZXJmYWNlIElQREZQYWdlUHJveHkge1xyXG4gIHVzZXJVbml0OiBudW1iZXI7IC8vIHRoZSBkZWZhdWx0IHNpemUgb2YgdW5pdHMgaW4gMS83Mm5kcyBvZiBhbiBpbmNoXHJcbiAgdmlldzogQXJyYXk8bnVtYmVyPjsgLy8gZm9ybWF0OiBbIHRvcCBsZWZ0IHggY29vcmRpbmF0ZSwgdG9wIGxlZnQgeSBjb29yZGluYXRlLCBib3R0b20gcmlnaHQgeCwgYm90dG9tIHJpZ2h0IHldXHJcbn1cclxuXHJcbi8vIFdlIGFzc3VtZSA5NiBEUEkgZm9yIGRpc3BsYXlcclxuLy8gVE9ETzogVGhlcmUgYXJlIG1vcmUgYWNjdXJhdGUgd2F5cyB0byBkbyB0aGlzLCBidXQgdGhpcyBpcyB3aGF0IFNjaG9sYXJQaGkgZG9lcyBub3dcclxuY29uc3QgRFBJID0gOTY7XHJcblxyXG4vLyBQREYgdW5pdHMgYXJlIGluIDEvNzJuZHMgb2YgYW4gaW5jaFxyXG5jb25zdCBVU0VSX1VOSVRfREVOT01JTkFUT1IgPSA3MjtcclxuXHJcbi8qKlxyXG4gKiBHaXZlbiBhIFBERlBhZ2VQcm94eSwgY2FsY3VsYXRlcyB0aGUgc2NyZWVuIHBpeGVsIHNpemUgb2YgdGhlIFBERiBwYWdlIGF0IDEwMCUgc2NhbGVcclxuICogQHBhcmFtIHBhZ2UgVGhlIFBERlBhZ2VQcm94eSB0byBjYWxjdWxhdGUgc2l6ZSBmb3JcclxuICogQHJldHVybnMgUGl4ZWwgc2l6ZSBvZiBhIHBhZ2UgYXQgMTAwJSBzY2FsZSBhc3N1bWluZyA5NkRQSSBkaXNwbGF5XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZVBhZ2VEaW1lbnNpb25zKHBhZ2U6IElQREZQYWdlUHJveHkpOiBEaW1lbnNpb25zIHtcclxuICBjb25zdCBbbGVmdFB4LCB0b3BQeCwgcmlnaHRQeCwgYm90dG9tUHhdID0gcGFnZS52aWV3O1xyXG4gIGNvbnN0IFBQSSA9IChwYWdlLnVzZXJVbml0IC8gVVNFUl9VTklUX0RFTk9NSU5BVE9SKSAqIERQSTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGhlaWdodDogKGJvdHRvbVB4IC0gdG9wUHgpICogUFBJLFxyXG4gICAgd2lkdGg6IChyaWdodFB4IC0gbGVmdFB4KSAqIFBQSSxcclxuICB9O1xyXG59XHJcbiIsImltcG9ydCB7IFBhZ2VSZWZlcmVuY2UgfSBmcm9tICcuL3BhZ2UnO1xyXG5cclxuZXhwb3J0IHR5cGUgRGVzdGluYXRpb24gPSB7XHJcbiAgZGVzdDogc3RyaW5nO1xyXG4gIHBhZ2VJbmRleDogbnVtYmVyO1xyXG4gIHBhZ2VOdW1iZXI6IG51bWJlcjtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBUaGlzIGNsYXNzIGlzIHRoZSBkZWZpbml0aW9uIG9mIHRoZSBmaXJzdCBpdGVtIHdoZW4gRGVzdGluYXRpb24gaXMgcmV0dXJuZWQgYXMgYW4gYXJyYXkuXHJcbiAqIEl0IGlzIGNyZWF0ZWQgYmFzZWQgb24gdGhlIHNhbWUgY2xhc3MgaW4gJ3JlYWN0LXBkZicgbGlicmFyeTpcclxuICogaHR0cHM6Ly9naXRodWIuY29tL3dvanRla21hai9yZWFjdC1wZGYvYmxvYi9jYTQ0NTNmMTIzYWY1MWUyZmFlZDM5YThhNjI4MDA5MDEwMzA0NTlhL3NyYy9SZWYuanNcclxuICovXHJcbmV4cG9ydCBjbGFzcyBSZWYgaW1wbGVtZW50cyBQYWdlUmVmZXJlbmNlIHtcclxuICBudW06IG51bWJlcjtcclxuICBnZW46IG51bWJlcjtcclxuXHJcbiAgY29uc3RydWN0b3IoeyBudW0sIGdlbiB9OiBQYWdlUmVmZXJlbmNlKSB7XHJcbiAgICB0aGlzLm51bSA9IG51bTtcclxuICAgIHRoaXMuZ2VuID0gZ2VuO1xyXG4gIH1cclxuXHJcbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiB0aGlzLmdlbiAhPT0gMCA/IGAke3RoaXMubnVtfVIke3RoaXMuZ2VufWAgOiBgJHt0aGlzLm51bX1SYDtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBEb2N1bWVudCwgRG9jdW1lbnRQcm9wcywgcGRmanMgfSBmcm9tICdyZWFjdC1wZGYnO1xyXG5cclxuaW1wb3J0IHsgRG9jdW1lbnRDb250ZXh0IH0gZnJvbSAnLi4vY29udGV4dC9Eb2N1bWVudENvbnRleHQnO1xyXG5pbXBvcnQgeyBTY3JvbGxDb250ZXh0IH0gZnJvbSAnLi4vY29udGV4dC9TY3JvbGxDb250ZXh0JztcclxuaW1wb3J0IHsgVHJhbnNmb3JtQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQvVHJhbnNmb3JtQ29udGV4dCc7XHJcbmltcG9ydCB7IFVpQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQvVWlDb250ZXh0JztcclxuaW1wb3J0IHsgZ2V0RXJyb3JNZXNzYWdlIH0gZnJvbSAnLi4vdXRpbHMvZXJyb3JNZXNzYWdlJztcclxuaW1wb3J0IHsgaW5pdFBkZldvcmtlciB9IGZyb20gJy4uL3V0aWxzL3BkZldvcmtlcic7XHJcbmltcG9ydCB7IGdldFJlbmRlck1vZGUsIFJlbmRlclR5cGUgfSBmcm9tICcuLi91dGlscy9yZWFkZXItdXRpbHMnO1xyXG5pbXBvcnQgeyBjb21wdXRlUGFnZURpbWVuc2lvbnMsIElQREZQYWdlUHJveHkgfSBmcm9tICcuLi91dGlscy9zY2FsZSc7XHJcbmltcG9ydCB7IHNjcm9sbFRvUG9zaXRpb24gfSBmcm9tICcuLi91dGlscy9zY3JvbGwnO1xyXG5pbXBvcnQgeyBEZXN0aW5hdGlvbiwgUmVmIH0gZnJvbSAnLi90eXBlcy9kZXN0aW5hdGlvbic7XHJcblxyXG5leHBvcnQgdHlwZSBQcm9wcyA9IHtcclxuICBjaGlsZHJlbj86IFJlYWN0LlJlYWN0Tm9kZTtcclxuICByZW5kZXJUeXBlOiBSZW5kZXJUeXBlO1xyXG59ICYgRG9jdW1lbnRQcm9wcztcclxuXHJcbmV4cG9ydCBjb25zdCBEb2N1bWVudFdyYXBwZXI6IFJlYWN0LkZ1bmN0aW9uQ29tcG9uZW50PFByb3BzPiA9ICh7XHJcbiAgY2hpbGRyZW4sXHJcbiAgcmVuZGVyVHlwZSxcclxuICAuLi5leHRyYVByb3BzXHJcbn06IFByb3BzKSA9PiB7XHJcbiAgaW5pdFBkZldvcmtlcigpO1xyXG5cclxuICBjb25zdCB7IHBkZkRvY1Byb3h5LCBzZXROdW1QYWdlcywgc2V0TnVtUGFnZXNMb2FkZWQsIHNldFBhZ2VEaW1lbnNpb25zLCBzZXRQZGZEb2NQcm94eSB9ID1cclxuICAgIFJlYWN0LnVzZUNvbnRleHQoRG9jdW1lbnRDb250ZXh0KTtcclxuICBjb25zdCB7IHJlc2V0U2Nyb2xsT2JzZXJ2ZXJzLCB1cGRhdGVTY3JvbGxQb3NpdGlvbiB9ID0gUmVhY3QudXNlQ29udGV4dChTY3JvbGxDb250ZXh0KTtcclxuICBjb25zdCB7IHJvdGF0aW9uLCBzY2FsZSB9ID0gUmVhY3QudXNlQ29udGV4dChUcmFuc2Zvcm1Db250ZXh0KTtcclxuICBjb25zdCB7IHNldEVycm9yTWVzc2FnZSwgc2V0SXNMb2FkaW5nIH0gPSBSZWFjdC51c2VDb250ZXh0KFVpQ29udGV4dCk7XHJcbiAgY29uc3QgW2xhc3RTY2FsZSwgc2V0TGFzdFNjYWxlXSA9IFJlYWN0LnVzZVN0YXRlKDEpOyAvLyBhc3N1bWluZyB0aGUgc2NhbGUgZGVmYXVsdHMgdG8gMTAwJVxyXG5cclxuICBmdW5jdGlvbiBnZXRGaXJzdFBhZ2UocGRmRG9jOiBwZGZqcy5QREZEb2N1bWVudFByb3h5KTogUHJvbWlzZTxJUERGUGFnZVByb3h5PiB7XHJcbiAgICAvLyBnZXRQYWdlIHVzZXMgMS1pbmRleGVkIHBhZ2VOdW1iZXIsIG5vdCAwLWluZGV4ZWQgcGFnZUluZGV4XHJcbiAgICByZXR1cm4gcGRmRG9jLmdldFBhZ2UoMSk7XHJcbiAgfVxyXG5cclxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgcmVzZXRTY3JvbGxPYnNlcnZlcnMoKTtcclxuICB9LCBbXSk7XHJcblxyXG4gIC8vIGFmdGVyIHNjYWxlIGNoYW5nZXMsIHVwZGF0ZSBzY3JvbGwgcG9zaXRpb24gc28gdGhlIHVzZXIgc3RheXMgbG9va2luZyBhdCB0aGUgc2FtZSBwb3NpdGlvbiBvZiB0aGUgcGFwZXJcclxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKHNjYWxlID09PSBsYXN0U2NhbGUpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3Qgem9vbU11bHRpcGxpZXIgPSBzY2FsZSAvIGxhc3RTY2FsZTtcclxuICAgIHVwZGF0ZVNjcm9sbFBvc2l0aW9uKHpvb21NdWx0aXBsaWVyKTtcclxuICAgIHNldExhc3RTY2FsZShzY2FsZSk7XHJcbiAgfSwgW3NjYWxlLCB1cGRhdGVTY3JvbGxQb3NpdGlvbl0pO1xyXG5cclxuICBjb25zdCBvblBkZkxvYWRTdWNjZXNzID0gUmVhY3QudXNlQ2FsbGJhY2soKHBkZkRvYzogcGRmanMuUERGRG9jdW1lbnRQcm94eSk6IHZvaWQgPT4ge1xyXG4gICAgc2V0TnVtUGFnZXNMb2FkZWQoMCk7XHJcbiAgICBzZXROdW1QYWdlcyhwZGZEb2MubnVtUGFnZXMpO1xyXG4gICAgZ2V0Rmlyc3RQYWdlKHBkZkRvYylcclxuICAgICAgLnRoZW4ocGFnZSA9PiB7XHJcbiAgICAgICAgc2V0UGFnZURpbWVuc2lvbnMoY29tcHV0ZVBhZ2VEaW1lbnNpb25zKHBhZ2UpKTtcclxuICAgICAgICBzZXRFcnJvck1lc3NhZ2UobnVsbCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaChlcnJvciA9PiB7XHJcbiAgICAgICAgc2V0RXJyb3JNZXNzYWdlKGdldEVycm9yTWVzc2FnZShlcnJvcikpO1xyXG4gICAgICB9KVxyXG4gICAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgaWYgKCFwZGZEb2NQcm94eSkge1xyXG4gICAgICBzZXRQZGZEb2NQcm94eShwZGZEb2MpO1xyXG4gICAgfVxyXG4gIH0sIFtdKTtcclxuXHJcbiAgY29uc3Qgb25Tb3VyY2VFcnJvciA9IFJlYWN0LnVzZUNhbGxiYWNrKChlcnJvcjogdW5rbm93bik6IHZvaWQgPT4ge1xyXG4gICAgc2V0RXJyb3JNZXNzYWdlKGdldEVycm9yTWVzc2FnZShlcnJvcikpO1xyXG4gICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcclxuICB9LCBbXSk7XHJcblxyXG4gIGNvbnN0IG9uUGRmTG9hZEVycm9yID0gUmVhY3QudXNlQ2FsbGJhY2soKGVycm9yOiB1bmtub3duKTogdm9pZCA9PiB7XHJcbiAgICBzZXRFcnJvck1lc3NhZ2UoZ2V0RXJyb3JNZXNzYWdlKGVycm9yKSk7XHJcbiAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgY29uc3Qgb25JdGVtQ2xpY2tlZCA9IChwYXJhbTogRGVzdGluYXRpb24pOiB2b2lkID0+IHtcclxuICAgIGlmICghcGRmRG9jUHJveHkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNjcm9sbCB0byB0aGUgZGVzdGluYXRpb24gb2YgdGhlIGl0ZW1cclxuICAgIHBkZkRvY1Byb3h5LmdldERlc3RpbmF0aW9uKHBhcmFtLmRlc3QpLnRoZW4oZGVzdEFycmF5ID0+IHtcclxuICAgICAgaWYgKCFkZXN0QXJyYXkpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IFtyZWYsICwgLCBib3R0b21Qb2ludHNdID0gZGVzdEFycmF5O1xyXG4gICAgICBwZGZEb2NQcm94eS5nZXRQYWdlSW5kZXgobmV3IFJlZihyZWYpKS50aGVuKHJlZkluZm8gPT4ge1xyXG4gICAgICAgIHNjcm9sbFRvUG9zaXRpb24ocGFyc2VJbnQocmVmSW5mby50b1N0cmluZygpKSwgMCwgYm90dG9tUG9pbnRzLCByb3RhdGlvbik7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxEb2N1bWVudFxyXG4gICAgICBvcHRpb25zPXt7IGNNYXBVcmw6ICdjbWFwcy8nLCBjTWFwUGFja2VkOiB0cnVlIH19XHJcbiAgICAgIG9uU291cmNlRXJyb3I9e29uU291cmNlRXJyb3J9XHJcbiAgICAgIG9uTG9hZEVycm9yPXtvblBkZkxvYWRFcnJvcn1cclxuICAgICAgb25Mb2FkU3VjY2Vzcz17b25QZGZMb2FkU3VjY2Vzc31cclxuICAgICAgZXh0ZXJuYWxMaW5rVGFyZ2V0PVwiX2JsYW5rXCJcclxuICAgICAgcmVuZGVyTW9kZT17Z2V0UmVuZGVyTW9kZShyZW5kZXJUeXBlKX1cclxuICAgICAgLy8gQHRzLWlnbm9yZTogdGhlIGFyZ3VtZW50cyBzaG91bGQgYmUgeyBkZXN0LCBwYWdlSW5kZXgsIHBhZ2VOdW1iZXIgfVxyXG4gICAgICAvLyBAdHlwZXMvcmVhY3QtcGRmIGhhc24ndCB1cGRhdGVkIHRoZSBmdW5jdGlvbiBzaWduYXR1cmVcclxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL0RlZmluaXRlbHlUeXBlZC9EZWZpbml0ZWx5VHlwZWQvYmxvYi9kNzNlYjY1MmUwYmE4Zjg5Mzk1YTBlZjJiYTY5Y2YxZTY0MGNlNWJlL3R5cGVzL3JlYWN0LXBkZi9kaXN0L0RvY3VtZW50LmQudHMjTDcyXHJcbiAgICAgIG9uSXRlbUNsaWNrPXtvbkl0ZW1DbGlja2VkfVxyXG4gICAgICB7Li4uZXh0cmFQcm9wc30+XHJcbiAgICAgIHtjaGlsZHJlbn1cclxuICAgIDwvRG9jdW1lbnQ+XHJcbiAgKTtcclxufTtcclxuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5cclxuZXhwb3J0IHR5cGUgUHJvcHMgPSB7XHJcbiAgY2xhc3NOYW1lPzogc3RyaW5nO1xyXG4gIGNoaWxkcmVuPzogUmVhY3QuUmVhY3ROb2RlO1xyXG4gIHBkZlVybDogc3RyaW5nO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEhUTUwgYW5jaG9yIHRhZyBhbGxvd3MgeW91IHRvIGRvd25sb2FkIGEgZmlsZSBmcm9tIHRoZSBzYW1lIG9yaWdpbi5cclxuICogVGhpcyBpcyBhIHdvcmthcm91bmQgdG8gZG93bmxvYWQgYSBmaWxlIHNlcnZlZCBmcm9tIGEgZGlmZmVyZW50IG9yaWdpblxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IERvd25sb2FkQnV0dG9uOiBSZWFjdC5GdW5jdGlvbkNvbXBvbmVudDxQcm9wcz4gPSAoe1xyXG4gIHBkZlVybCxcclxuICBjaGlsZHJlbixcclxuICBjbGFzc05hbWUsXHJcbiAgLi4uZXh0cmFQcm9wc1xyXG59OiBQcm9wcykgPT4ge1xyXG4gIGNvbnN0IFtmZXRjaGluZywgc2V0RmV0Y2hpbmddID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xyXG5cclxuICBjb25zdCBkb3dubG9hZCA9ICgpID0+IHtcclxuICAgIHNldEZldGNoaW5nKHRydWUpO1xyXG5cclxuICAgIGZldGNoKHBkZlVybClcclxuICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuYmxvYigpKVxyXG4gICAgICAudGhlbihibG9iID0+IHtcclxuICAgICAgICBzZXRGZXRjaGluZyhmYWxzZSk7XHJcbiAgICAgICAgY29uc3QgYmxvYlVSTCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XHJcbiAgICAgICAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuICAgICAgICBhLmhyZWYgPSBibG9iVVJMO1xyXG4gICAgICAgIGEuZG93bmxvYWQgPSBwZGZVcmwuc3BsaXQoJy8nKS5wb3AoKSB8fCBwZGZVcmw7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTtcclxuICAgICAgICBhLmNsaWNrKCk7XHJcbiAgICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8YnV0dG9uXHJcbiAgICAgIGRpc2FibGVkPXtmZXRjaGluZ31cclxuICAgICAgb25DbGljaz17KCkgPT4gZG93bmxvYWQoKX1cclxuICAgICAgYXJpYS1sYWJlbD1cIkRvd25sb2FkIFBERlwiXHJcbiAgICAgIGNsYXNzTmFtZT17YHBkZi1yZWFkZXJfX2Rvd25sb2FkLWJ0biAke2NsYXNzTmFtZX1gfVxyXG4gICAgICB7Li4uZXh0cmFQcm9wc30+XHJcbiAgICAgIHtjaGlsZHJlbiA/IGNoaWxkcmVuIDogJ0Rvd25sb2FkJ31cclxuICAgIDwvYnV0dG9uPlxyXG4gICk7XHJcbn07XHJcbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcclxuXHJcbmltcG9ydCB7IERvY3VtZW50Q29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQvRG9jdW1lbnRDb250ZXh0JztcclxuaW1wb3J0IHsgVHJhbnNmb3JtQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQvVHJhbnNmb3JtQ29udGV4dCc7XHJcbmltcG9ydCB7IGNvbXB1dGVCb3VuZGluZ0JveFN0eWxlLCBjb21wdXRlUGFnZVN0eWxlIH0gZnJvbSAnLi4vdXRpbHMvc3R5bGUnO1xyXG5pbXBvcnQgeyBQcm9wcyBhcyBCb3VuZGluZ0JveFByb3BzIH0gZnJvbSAnLi9Cb3VuZGluZ0JveCc7XHJcblxyXG5leHBvcnQgdHlwZSBQcm9wcyA9IHtcclxuICBjaGlsZHJlbj86IFJlYWN0LlJlYWN0RWxlbWVudDxCb3VuZGluZ0JveFByb3BzPiB8IEFycmF5PFJlYWN0LlJlYWN0RWxlbWVudDxCb3VuZGluZ0JveFByb3BzPj47XHJcbiAgcGFnZUluZGV4OiBudW1iZXI7XHJcbiAgY29sb3I6IHN0cmluZztcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBIaWdobGlnaHRPdmVybGF5OiBSZWFjdC5GdW5jdGlvbkNvbXBvbmVudDxQcm9wcz4gPSAoe1xyXG4gIGNoaWxkcmVuLFxyXG4gIHBhZ2VJbmRleCxcclxuICBjb2xvcixcclxuICAuLi5leHRyYVByb3BzXHJcbn06IFByb3BzKSA9PiB7XHJcbiAgY29uc3QgeyBwYWdlRGltZW5zaW9ucyB9ID0gUmVhY3QudXNlQ29udGV4dChEb2N1bWVudENvbnRleHQpO1xyXG4gIGNvbnN0IHsgcm90YXRpb24sIHNjYWxlIH0gPSBSZWFjdC51c2VDb250ZXh0KFRyYW5zZm9ybUNvbnRleHQpO1xyXG4gIGNvbnN0IG1hc2tJZCA9IGBoaWdobGlnaHQtb3ZlcmxheS1tYXNrLSR7cGFnZUluZGV4fWA7XHJcblxyXG4gIGNvbnN0IGdldFBhZ2VTdHlsZSA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIHJldHVybiBjb21wdXRlUGFnZVN0eWxlKHBhZ2VEaW1lbnNpb25zLCByb3RhdGlvbiwgc2NhbGUpO1xyXG4gIH0sIFtwYWdlRGltZW5zaW9ucywgcm90YXRpb24sIHNjYWxlXSk7XHJcblxyXG4gIGNvbnN0IGdldFVubWFza2VkQXJlYSA9IFJlYWN0LnVzZUNhbGxiYWNrKFxyXG4gICAgKFxyXG4gICAgICBib3VuZGluZ0JveGVzOlxyXG4gICAgICAgIHwgUmVhY3QuUmVhY3RFbGVtZW50PEJvdW5kaW5nQm94UHJvcHM+XHJcbiAgICAgICAgfCBBcnJheTxSZWFjdC5SZWFjdEVsZW1lbnQ8Qm91bmRpbmdCb3hQcm9wcz4+XHJcbiAgICApID0+IHtcclxuICAgICAgY29uc3QgYm94ZXMgPSBBcnJheS5pc0FycmF5KGJvdW5kaW5nQm94ZXMpID8gYm91bmRpbmdCb3hlcyA6IFtib3VuZGluZ0JveGVzXTtcclxuICAgICAgcmV0dXJuIGJveGVzLm1hcCgoYm94LCBpKSA9PiB7XHJcbiAgICAgICAgY29uc3QgYm94U3R5bGUgPSBjb21wdXRlQm91bmRpbmdCb3hTdHlsZShib3gucHJvcHMsIHBhZ2VEaW1lbnNpb25zLCByb3RhdGlvbiwgc2NhbGUpO1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICA8cmVjdCBzdHlsZT17Ym94U3R5bGV9IHg9e2JveFN0eWxlLmxlZnR9IHk9e2JveFN0eWxlLnRvcH0ga2V5PXtpfSBmaWxsPXtjb2xvcn0gPjwvcmVjdD5cclxuICAgICAgICApO1xyXG4gICAgICB9KTtcclxuICAgIH0sXHJcbiAgICBbcGFnZURpbWVuc2lvbnMsIHJvdGF0aW9uLCBzY2FsZV1cclxuICApO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwZGYtcmVhZGVyX19wYWdlLWhpZ2hsaWdodC1vdmVybGF5XCIgc3R5bGU9e2dldFBhZ2VTdHlsZSgpfSB7Li4uZXh0cmFQcm9wc30+XHJcbiAgICAgIDxzdmcgY2xhc3NOYW1lPVwicGFnZS1tYXNrXCIgc3R5bGU9e2dldFBhZ2VTdHlsZSgpfT5cclxuICAgICAgICA8bWFzayBpZD17bWFza0lkfT5cclxuICAgICAgICAgIDxyZWN0IHN0eWxlPXtnZXRQYWdlU3R5bGUoKX0gZmlsbD1cIndoaXRlXCI+PC9yZWN0PlxyXG4gICAgICAgICAge2NoaWxkcmVuICYmIGdldFVubWFza2VkQXJlYShjaGlsZHJlbil9XHJcbiAgICAgICAgPC9tYXNrPlxyXG4gICAgICAgIHsvKiA8cmVjdCBzdHlsZT17Z2V0UGFnZVN0eWxlKCl9IGZpbGw9XCJ5ZWxsb3dcIiBvcGFjaXR5PVwiMC42XCIgbWFzaz17YHVybCgjJHttYXNrSWR9KWB9PjwvcmVjdD4gKi99XHJcbiAgICAgIDwvc3ZnPlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufTtcclxuIiwiaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XHJcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcclxuXHJcbmltcG9ydCB7IERvY3VtZW50Q29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQvRG9jdW1lbnRDb250ZXh0JztcclxuaW1wb3J0IHsgVHJhbnNmb3JtQ29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQvVHJhbnNmb3JtQ29udGV4dCc7XHJcbmltcG9ydCB7IGNvbXB1dGVCb3VuZGluZ0JveFN0eWxlIH0gZnJvbSAnLi4vLi4vdXRpbHMvc3R5bGUnO1xyXG5pbXBvcnQgeyBJY29uRmxhZyB9IGZyb20gJy4uL2ljb24vSWNvbkZsYWcnO1xyXG5pbXBvcnQgeyBTaXplIH0gZnJvbSAnLi4vdHlwZXMvYm91bmRpbmdCb3gnO1xyXG5cclxuZXhwb3J0IGNvbnN0IFBPU0lUSU9OID0ge1xyXG4gIExFRlQ6ICdMRUZUJyxcclxuICBSSUdIVDogJ1JJR0hUJyxcclxufSBhcyBjb25zdDtcclxuXHJcbmV4cG9ydCB0eXBlIFBvc2l0aW9uVHlwZSA9IHR5cGVvZiBQT1NJVElPTltrZXlvZiB0eXBlb2YgUE9TSVRJT05dO1xyXG5cclxudHlwZSBQcm9wcyA9IHtcclxuICBjbGFzc05hbWU/OiBzdHJpbmc7XHJcbiAgZmxhZ1dpZHRoPzogbnVtYmVyOyAvLyBpbiBweFxyXG4gIGxhYmVsPzogc3RyaW5nO1xyXG4gIG9yaWdpblRvcD86IG51bWJlcjsgLy8gaW4gcHhcclxuICBwb3NpdGlvbj86IFBvc2l0aW9uVHlwZTtcclxuICB0YWlsTGVuZ3RoPzogbnVtYmVyOyAvLyBpbiBweFxyXG4gIHRhaWxXaWRndGg/OiBudW1iZXI7IC8vIGluIHB4XHJcbn07XHJcblxyXG5jb25zdCBERUZBVUxUX09SSUdJTl9UT1BfUFggPSAwO1xyXG5jb25zdCBERUZBVUxUX0ZMQUdfV0lEVEhfUFggPSA2MjtcclxuY29uc3QgREVGQVVMVF9GTEFHX0hFSUdIVF9QWCA9IDIwO1xyXG5jb25zdCBERUZBVUxUX1RBSUxfTEVOR1RIX1BYID0gNDA7XHJcbmNvbnN0IERFRkFVTFRfVEFJTF9XSURUSF9QWCA9IDc7XHJcblxyXG5leHBvcnQgY29uc3QgQXJyb3dGbGFnQmFzZTogUmVhY3QuRnVuY3Rpb25Db21wb25lbnQ8UHJvcHM+ID0gKHtcclxuICBjbGFzc05hbWUsXHJcbiAgbGFiZWwsXHJcbiAgZmxhZ1dpZHRoLFxyXG4gIG9yaWdpblRvcCxcclxuICBwb3NpdGlvbiA9IFBPU0lUSU9OLkxFRlQsXHJcbiAgdGFpbExlbmd0aCxcclxuICB0YWlsV2lkZ3RoLFxyXG4gIC4uLmV4dHJhUHJvcHNcclxufTogUHJvcHMpID0+IHtcclxuICBjb25zdCB7IHBhZ2VEaW1lbnNpb25zIH0gPSBSZWFjdC51c2VDb250ZXh0KERvY3VtZW50Q29udGV4dCk7XHJcbiAgY29uc3QgeyByb3RhdGlvbiwgc2NhbGUgfSA9IFJlYWN0LnVzZUNvbnRleHQoVHJhbnNmb3JtQ29udGV4dCk7XHJcbiAgLy8gZnVuY3Rpb24gZm9yIHNjYWxpbmcgYm91bmRpbmcgYm94ZXMgYmFzZWQgb24gY3VycmVudCBkb2N1bWVudCBzdGF0ZXNcclxuICBjb25zdCBjb21wdXRlU2l6ZSA9IFJlYWN0LnVzZUNhbGxiYWNrKFxyXG4gICAgKGJveDogU2l6ZSk6IFNpemUgPT4gY29tcHV0ZUJvdW5kaW5nQm94U3R5bGUoYm94LCBwYWdlRGltZW5zaW9ucywgcm90YXRpb24sIHNjYWxlKSxcclxuICAgIFtwYWdlRGltZW5zaW9ucywgcm90YXRpb24sIHNjYWxlLCBvcmlnaW5Ub3BdXHJcbiAgKTtcclxuXHJcbiAgLy8gYm91bmRpbmcgYm94IG9mIHRoZSBmbGFnXHJcbiAgY29uc3QgZmxhZ1NpemUgPSB7XHJcbiAgICB0b3A6IG9yaWdpblRvcCB8fCBERUZBVUxUX09SSUdJTl9UT1BfUFgsXHJcbiAgICBsZWZ0OiAwLFxyXG4gICAgaGVpZ2h0OiBERUZBVUxUX0ZMQUdfSEVJR0hUX1BYLFxyXG4gICAgd2lkdGg6IGZsYWdXaWR0aCB8fCBERUZBVUxUX0ZMQUdfV0lEVEhfUFgsXHJcbiAgfTtcclxuICAvLyBib3VuZGluZyBib3ggb2YgdGhlIHRhaWxcclxuICBjb25zdCB0YWlsU2l6ZSA9IHtcclxuICAgIHRvcDogb3JpZ2luVG9wIHx8IERFRkFVTFRfT1JJR0lOX1RPUF9QWCxcclxuICAgIGxlZnQ6IDAsXHJcbiAgICBoZWlnaHQ6IHRhaWxMZW5ndGggfHwgREVGQVVMVF9UQUlMX0xFTkdUSF9QWCxcclxuICAgIHdpZHRoOiB0YWlsV2lkZ3RoIHx8IERFRkFVTFRfVEFJTF9XSURUSF9QWCxcclxuICB9O1xyXG5cclxuICBjb25zdCBjb21wdXRlZEZsYWdTaXplID0gY29tcHV0ZVNpemUoZmxhZ1NpemUpO1xyXG4gIGNvbnN0IGNvbXB1dGVkVGFpbFNpemUgPSBjb21wdXRlU2l6ZSh0YWlsU2l6ZSk7XHJcblxyXG4gIGNvbnN0IHRhaWxQb3NpdGlvbiA9IHtcclxuICAgIHRvcDogY29tcHV0ZWRUYWlsU2l6ZS50b3AsXHJcbiAgICBsZWZ0OiBwb3NpdGlvbiA9PT0gUE9TSVRJT04uTEVGVCA/IC1jb21wdXRlZFRhaWxTaXplLndpZHRoIDogcGFnZURpbWVuc2lvbnMud2lkdGggKiBzY2FsZSxcclxuICAgIGhlaWdodDogY29tcHV0ZWRUYWlsU2l6ZS5oZWlnaHQsXHJcbiAgICB3aWR0aDogY29tcHV0ZWRUYWlsU2l6ZS53aWR0aCxcclxuICB9O1xyXG5cclxuICBjb25zdCByZW5kZXJGbGFnID0gKCkgPT4ge1xyXG4gICAgY29uc3QgeyB0b3AsIHdpZHRoLCBoZWlnaHQgfSA9IGNvbXB1dGVkRmxhZ1NpemU7XHJcbiAgICBjb25zdCBmbGFnUG9zaXRpb24gPSB7XHJcbiAgICAgIHRvcCxcclxuICAgICAgaGVpZ2h0LFxyXG4gICAgICB3aWR0aCxcclxuICAgICAgbGVmdDpcclxuICAgICAgICBwb3NpdGlvbiA9PT0gUE9TSVRJT04uTEVGVFxyXG4gICAgICAgICAgPyAtY29tcHV0ZWRUYWlsU2l6ZS53aWR0aFxyXG4gICAgICAgICAgOiB0YWlsUG9zaXRpb24ubGVmdCArIHRhaWxQb3NpdGlvbi53aWR0aCAtIHdpZHRoICsgMSxcclxuICAgIH07XHJcbiAgICBjb25zdCBsYWJlbFBvc2l0aW9uID0gcG9zaXRpb24gPT09IFBPU0lUSU9OLkxFRlQgPyAnNDclJyA6ICc1MyUnO1xyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGRmLXJlYWRlcl9fYXJyb3ctZmxhZy1iYXNlX19mbGFnXCIgc3R5bGU9e2ZsYWdQb3NpdGlvbn0+XHJcbiAgICAgICAgPEljb25GbGFnIGNsYXNzTmFtZT1cInBkZi1yZWFkZXJfX2Fycm93LWZsYWctYmFzZV9fZmxhZy1pY29uXCIgaGVhZGVyUG9zaXRpb249e3Bvc2l0aW9ufT5cclxuICAgICAgICAgIDx0ZXh0XHJcbiAgICAgICAgICAgIHg9e2xhYmVsUG9zaXRpb259XHJcbiAgICAgICAgICAgIHk9XCI1NCVcIlxyXG4gICAgICAgICAgICBkb21pbmFudEJhc2VsaW5lPVwibWlkZGxlXCJcclxuICAgICAgICAgICAgdGV4dEFuY2hvcj1cIm1pZGRsZVwiXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInBkZi1yZWFkZXJfX2Fycm93LWZsYWctYmFzZV9fZmxhZy1sYWJlbFwiPlxyXG4gICAgICAgICAgICB7bGFiZWx9XHJcbiAgICAgICAgICA8L3RleHQ+XHJcbiAgICAgICAgPC9JY29uRmxhZz5cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NuYW1lcygncGRmLXJlYWRlcl9fYXJyb3ctZmxhZy1iYXNlJywgY2xhc3NOYW1lKX0gey4uLmV4dHJhUHJvcHN9PlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBkZi1yZWFkZXJfX2Fycm93LWZsYWctYmFzZV9fdGFpbFwiIHN0eWxlPXt0YWlsUG9zaXRpb259IC8+XHJcbiAgICAgIHtsYWJlbCAmJiByZW5kZXJGbGFnKCl9XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59O1xyXG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XHJcblxyXG5pbXBvcnQgeyBQT1NJVElPTiwgUG9zaXRpb25UeXBlIH0gZnJvbSAnLi4vbWFya2VyL0Fycm93RmxhZ0Jhc2UnO1xyXG5cclxudHlwZSBQcm9wcyA9IHtcclxuICBjaGlsZHJlbj86IFJlYWN0LlJlYWN0Tm9kZTtcclxuICBjbGFzc05hbWU/OiBzdHJpbmc7XHJcbiAgaGVhZGVyUG9zaXRpb24/OiBQb3NpdGlvblR5cGU7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgSWNvbkZsYWc6IFJlYWN0LkZ1bmN0aW9uQ29tcG9uZW50PFByb3BzPiA9ICh7XHJcbiAgY2hpbGRyZW4sXHJcbiAgY2xhc3NOYW1lLFxyXG4gIGhlYWRlclBvc2l0aW9uID0gUE9TSVRJT04uTEVGVCxcclxufTogUHJvcHMpID0+IHtcclxuICBpZiAoaGVhZGVyUG9zaXRpb24gPT0gUE9TSVRJT04uTEVGVCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPHN2ZyB2aWV3Qm94PVwiMCAwIDYyIDIyXCIgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxyXG4gICAgICAgIDxwYXRoIGQ9XCJNNTIuMDEwOCAyMC44MzE1TDUyLjAxMDUgMjAuODMxOEM1MS41NTI1IDIxLjI1MjUgNTAuOTUyNyAyMS40OTEgNTAuMzI2NSAyMS41SDMuMDI4MjhDMi4zNTYyMyAyMS41IDEuNzEyNjQgMjEuMjM1NSAxLjIzODg1IDIwLjc2NjFDMC43NjUyMiAyMC4yOTY5IDAuNSAxOS42NjE1IDAuNSAxOVYzQzAuNSAyLjMzODQ4IDAuNzY1MjIxIDEuNzAzMDkgMS4yMzg4NSAxLjIzMzg5QzEuNzEyNjQgMC43NjQ1MTkgMi4zNTYyMyAwLjUgMy4wMjgyOCAwLjVINTAuMjQ1N0M1MC44NzE5IDAuNTA5MDIgNTEuNDcxOCAwLjc0NzQ2NiA1MS45Mjk4IDEuMTY4MjFMNTEuOTMgMS4xNjg0Nkw2MC42NTE1IDkuMTY4NDZMNjAuNjUxNCA5LjE2ODUyTDYwLjY1OCA5LjE3NDM5QzYwLjkxNzUgOS40MDQwOCA2MS4xMjYgOS42ODQxMiA2MS4yNzA3IDkuOTk2NzlDNjEuNDE1NCAxMC4zMDk1IDYxLjQ5MzMgMTAuNjQ4MiA2MS40OTk2IDEwLjk5MTdDNjEuNTA1OSAxMS4zMzUzIDYxLjQ0MDUgMTEuNjc2NSA2MS4zMDc0IDExLjk5NDFDNjEuMTc0OSAxMi4zMTA0IDYwLjk3NzkgMTIuNTk2NiA2MC43Mjg2IDEyLjgzNDhMNTIuMDEwOCAyMC44MzE1WlwiIC8+XHJcbiAgICAgICAge2NoaWxkcmVufVxyXG4gICAgICA8L3N2Zz5cclxuICAgICk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPHN2ZyB2aWV3Qm94PVwiMCAwIDYyIDIyXCIgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxyXG4gICAgICA8cGF0aCBkPVwiTTkuOTg5MjIgMS4xNjg0Nkw5Ljk4OTUgMS4xNjgyMUMxMC40NDc1IDAuNzQ3NDcyIDExLjA0NzMgMC41MDkwMjkgMTEuNjczNSAwLjQ5OTk5OUw1OC45NzE3IDAuNTAwMDA0QzU5LjY0MzggMC41MDAwMDQgNjAuMjg3NCAwLjc2NDUyMiA2MC43NjExIDEuMjMzODlDNjEuMjM0OCAxLjcwMzEgNjEuNSAyLjMzODQ4IDYxLjUgM0w2MS41IDE5QzYxLjUgMTkuNjYxNSA2MS4yMzQ4IDIwLjI5NjkgNjAuNzYxMSAyMC43NjYxQzYwLjI4NzQgMjEuMjM1NSA1OS42NDM4IDIxLjUgNTguOTcxNyAyMS41TDExLjc1NDMgMjEuNUMxMS4xMjgxIDIxLjQ5MSAxMC41MjgyIDIxLjI1MjUgMTAuMDcwMiAyMC44MzE4TDEwLjA3IDIwLjgzMTVMMS4zNDg1NCAxMi44MzE1TDEuMzQ4NiAxMi44MzE1TDEuMzQxOTYgMTIuODI1NkMxLjA4MjQ4IDEyLjU5NTkgMC44NzM5OSAxMi4zMTU5IDAuNzI5MjgzIDEyLjAwMzJDMC41ODQ1ODQgMTEuNjkwNSAwLjUwNjcxOSAxMS4zNTE4IDAuNTAwNDE3IDExLjAwODNDMC40OTQxMTEgMTAuNjY0NyAwLjU1OTQ5NSAxMC4zMjM1IDAuNjkyNjA1IDEwLjAwNTlDMC44MjUxNDMgOS42ODk2MSAxLjAyMjA2IDkuNDAzNDEgMS4yNzEzNiA5LjE2NTE5TDkuOTg5MjIgMS4xNjg0NlpcIiAvPlxyXG4gICAgICB7Y2hpbGRyZW59XHJcbiAgICA8L3N2Zz5cclxuICApO1xyXG59O1xyXG4iLCIvLyBIZWlnaHQgYW5kIHdpZHRoIGFyZSBpbiBzY3JlZW4gcGl4ZWwgdW5pdHMgYXQgMTAwJSBzY2FsaW5nIG9mIHRoZSBwYWdlXHJcbmV4cG9ydCB0eXBlIERpbWVuc2lvbnMgPSB7XHJcbiAgaGVpZ2h0OiBudW1iZXI7XHJcbiAgd2lkdGg6IG51bWJlcjtcclxufTtcclxuXHJcbi8vIFRvcCBhbmQgbGVmdCBhcmUgaW4gc2NyZWVuIHBpeGVsIHVuaXRzIGF0IDEwMCUgc2NhbGluZyBvZiB0aGUgcGFnZVxyXG5leHBvcnQgdHlwZSBPcmlnaW4gPSB7XHJcbiAgdG9wOiBudW1iZXI7XHJcbiAgbGVmdDogbnVtYmVyO1xyXG59O1xyXG5cclxuXHJcbmV4cG9ydCB0eXBlIFNpemUgPSBEaW1lbnNpb25zICYgT3JpZ2luO1xyXG5cclxuZXhwb3J0IHR5cGUgQm91bmRpbmdCb3ggPSB7XHJcbiAgcGFnZTogbnVtYmVyO1xyXG59ICYgU2l6ZTtcclxuXHJcbi8vIFJhdyBCb3VuZGluZ0JveGVzIHRvcCwgbGVmdCwgaGVpZ2h0LCBhbmQgd2lkdGggYXR0cmlidXRlcyBhcmUgZXhwcmVzc2VkIGFzIGEgcmF0aW8gb2YgdGhlXHJcbi8vIHBhZ2UgaGVpZ2h0L3dpZHRoIGFuZCBuZWVkIHRvIGJlIHNjYWxlZCBhY2NvcmRpbmcgdG8gcGFnZSBzaXplIGJlZm9yZSB0aGV5IGNhbiBiZSByZW5kZXJlZFxyXG5leHBvcnQgdHlwZSBSYXdCb3VuZGluZ0JveCA9IEJvdW5kaW5nQm94O1xyXG5cclxuLy8gQ2FsY3VsYXRlIGEgYm91bmRpbmcgYm94J3MgcGl4ZWwgY29vcmRpbmF0ZXMgZnJvbSB0aGUgcmF3IGJvdW5kaW5nIGJveCdzIGNvb3JkaXRhdGUgcmF0aW9zIHNjYWxlZCB0byB0aGUgcGFnZSBzaXplXHJcbmV4cG9ydCBmdW5jdGlvbiBzY2FsZVJhd0JvdW5kaW5nQm94KFxyXG4gIGJvdW5kaW5nQm94UmF3OiBSYXdCb3VuZGluZ0JveCxcclxuICBwYWdlSGVpZ2h0OiBudW1iZXIsXHJcbiAgcGFnZVdpZHRoOiBudW1iZXJcclxuKTogQm91bmRpbmdCb3gge1xyXG4gIGNvbnN0IGJveFNjYWxlZDogQm91bmRpbmdCb3ggPSB7XHJcbiAgICBwYWdlOiBib3VuZGluZ0JveFJhdy5wYWdlLFxyXG4gICAgdG9wOiBib3VuZGluZ0JveFJhdy50b3AgKiBwYWdlSGVpZ2h0LFxyXG4gICAgbGVmdDogYm91bmRpbmdCb3hSYXcubGVmdCAqIHBhZ2VXaWR0aCxcclxuICAgIGhlaWdodDogYm91bmRpbmdCb3hSYXcuaGVpZ2h0ICogcGFnZUhlaWdodCxcclxuICAgIHdpZHRoOiBib3VuZGluZ0JveFJhdy53aWR0aCAqIHBhZ2VXaWR0aCxcclxuICB9O1xyXG5cclxuICByZXR1cm4gYm94U2NhbGVkO1xyXG59XHJcbiIsImltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xyXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XHJcblxyXG5pbXBvcnQgeyBEb2N1bWVudENvbnRleHQgfSBmcm9tICcuLi8uLi9jb250ZXh0L0RvY3VtZW50Q29udGV4dCc7XHJcbmltcG9ydCB7IEJvdW5kaW5nQm94IGFzIEJvdW5kaW5nQm94VHlwZSwgc2NhbGVSYXdCb3VuZGluZ0JveCB9IGZyb20gJy4uL3R5cGVzL2JvdW5kaW5nQm94JztcclxuaW1wb3J0IHsgQXJyb3dGbGFnQmFzZSwgUE9TSVRJT04sIFBvc2l0aW9uVHlwZSB9IGZyb20gJy4vQXJyb3dGbGFnQmFzZSc7XHJcblxyXG50eXBlIFByb3BzID0ge1xyXG4gIGJvdW5kaW5nQm94ZXM6IEFycmF5PEJvdW5kaW5nQm94VHlwZT47IC8vIGFsbCBib3VuZGluZyBib3hlcyBhcmUgZXhwZWN0ZWQgdG8gYmUgb24gdGhlIHNhbWUgcGFnZVxyXG4gIGNsYXNzTmFtZT86IHN0cmluZztcclxuICBsYWJlbD86IHN0cmluZztcclxufTtcclxuXHJcbmNvbnN0IENFTlRFUl9MSU5FID0gMC41O1xyXG5jb25zdCBMSU5FX0hFSUdIVF9NVUxUSVBMSUVSID0gMS41O1xyXG5cclxuZXhwb3J0IGNvbnN0IEFycm93RmxhZzogUmVhY3QuRnVuY3Rpb25Db21wb25lbnQ8UHJvcHM+ID0gKHtcclxuICBib3VuZGluZ0JveGVzLFxyXG4gIGNsYXNzTmFtZSxcclxuICBsYWJlbCxcclxuICAuLi5leHRyYVByb3BzXHJcbn06IFByb3BzKSA9PiB7XHJcbiAgY29uc3QgeyBwYWdlRGltZW5zaW9ucyB9ID0gUmVhY3QudXNlQ29udGV4dChEb2N1bWVudENvbnRleHQpO1xyXG4gIGNvbnN0IGNvbnZlcnRSYXRpb1RvUHggPSBSZWFjdC51c2VDYWxsYmFjayhcclxuICAgIChyYXdCb3VuZGluZ0JveDogQm91bmRpbmdCb3hUeXBlKTogQm91bmRpbmdCb3hUeXBlID0+XHJcbiAgICAgIHNjYWxlUmF3Qm91bmRpbmdCb3gocmF3Qm91bmRpbmdCb3gsIHBhZ2VEaW1lbnNpb25zLmhlaWdodCwgcGFnZURpbWVuc2lvbnMud2lkdGgpLFxyXG4gICAgW3BhZ2VEaW1lbnNpb25zXVxyXG4gICk7XHJcblxyXG4gIGlmIChib3VuZGluZ0JveGVzLmxlbmd0aCA9PSAwKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgLy8gSWYgYW55IGJvdW5kaW5nIGJveGVzIHNwYW4gb3ZlciB0aGUgY2VudGVyIGxpbmUsIHdlIGtub3cgdGhhdCBlaXRoZXIgdGhlIHBhcGVyIGlzXHJcbiAgLy8gc2luZ2xlLWNvbHVtbiBvciBhIG1peCBvZiBzaW5nbGUtY29sdW1uIGFuZCB0d28tY29sdW1uLiBJbiBzdWNoIGNhc2UsIGJvdW5kaW5nXHJcbiAgLy8gYm94ZXMgd2lsbCBub3QgYmUgZGl2aWRlZCBzbyBhcyB0byBndWFyYW50ZWUgb25seSAxIGZsYWcgaXMgcmVuZGVyZWQgb24gdGhlIGxlZnQgc2lkZS5cclxuICBjb25zdCBoYXNXaWRlQm94ID0gYm91bmRpbmdCb3hlcy5zb21lKFxyXG4gICAgKHsgbGVmdCwgd2lkdGggfSkgPT4gbGVmdCA8IENFTlRFUl9MSU5FICYmIGxlZnQgKyB3aWR0aCA+PSBDRU5URVJfTElORVxyXG4gICk7XHJcblxyXG4gIGxldCBsZWZ0Qm91bmRpbmdCb3hlcyA9IGJvdW5kaW5nQm94ZXMsXHJcbiAgICByaWdodEJvdW5kaW5nQm94ZXM6IEJvdW5kaW5nQm94VHlwZVtdID0gW107XHJcbiAgaWYgKCFoYXNXaWRlQm94KSB7XHJcbiAgICBsZWZ0Qm91bmRpbmdCb3hlcyA9IGJvdW5kaW5nQm94ZXMuZmlsdGVyKCh7IGxlZnQgfSkgPT4gbGVmdCA8IENFTlRFUl9MSU5FKTtcclxuICAgIHJpZ2h0Qm91bmRpbmdCb3hlcyA9IGJvdW5kaW5nQm94ZXMuZmlsdGVyKCh7IGxlZnQgfSkgPT4gbGVmdCA+PSBDRU5URVJfTElORSk7XHJcbiAgfVxyXG5cclxuICAvLyBUbyBoYW5kbGUgYSBzcGVjaWFsIGNhc2Ugd2hlcmUgdGhlIHByZXZpb3VzIGJvdW5kaW5nIGJveCBpcyBvbiB0aGUgcmlnaHQgd2hpbGVcclxuICAvLyB0aGUgbGF0ZXIgaXMgb24gdGhlIGxlZnQuIEluIHN1Y2ggY2FzZSwgdGhlcmUgYXJlIG9ubHkgMiBib3VuZGluZyBib3hlcy5cclxuICAvLyBUaGUgdmVydGljYWwgZGlzdGFuY2UgYmV0d2VlbiB0aGUgdHdvIGJveGVzIGlzIHVzZWQgdG8gZGlmZmVyZW50aWF0ZSB3aGV0aGVyIHRoaXMgY2FzZVxyXG4gIC8vIGhhcHBlbnMgb24gYSBzaW5nbGUtY29sdW1uIHBhcGVyIG9yIGEgdHdvLWNvbHVtbiBwYXBlci4gSWYgaXQncyB0aGUgcHJldmlvdXMsIHRoZW5cclxuICAvLyB0aGUgd2hvbGUgZmxhZyBzaG91bGQgYXBwZWFyIG9uIHRoZSBsZWZ0LiBCb3RoIGJvdW5kaW5nIGJveGVzIHdpbGwgYmUgY2F0ZWdvcml6ZWRcclxuICAvLyBhcyBsZWZ0Qm91bmRpbmdCb3hlcy4gT3RoZXJ3aXNlLCB0aGUgdGFpbCB3cmFwcGluZyBzdGlsbCBhcHBsaWVzLlxyXG4gIGlmIChsZWZ0Qm91bmRpbmdCb3hlcy5sZW5ndGggPT09IDEgJiYgcmlnaHRCb3VuZGluZ0JveGVzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgLy8gSWYgdGhlIHZlcnRpY2FsIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgdHdvIGJveGVzIGlzIHNtYWxsZXIgdGhlbiAxLjUgdGltZXMgbGluZSBoZWlnaHQsXHJcbiAgICAvLyB0aGUgcGFwZXIgaXMgY2F0ZWdvcml6ZWQgYXMgc2luZ2xlLWNvbHVtbi4gQm90aCBib3VuZGluZyBib3hlcyBhcmUgc2V0IHRvIGxlZnRCb3VuZGluZ0JveGVzLlxyXG4gICAgLy8gQXJyb3dGbGFnIHdpbGwgYXBwZWFyIG9uIHRoZSBsZWZ0XHJcbiAgICBpZiAoXHJcbiAgICAgIE1hdGguYWJzKHJpZ2h0Qm91bmRpbmdCb3hlc1swXS50b3AgLSBsZWZ0Qm91bmRpbmdCb3hlc1swXS50b3ApIDxcclxuICAgICAgTElORV9IRUlHSFRfTVVMVElQTElFUiAqIHJpZ2h0Qm91bmRpbmdCb3hlc1swXS5oZWlnaHRcclxuICAgICkge1xyXG4gICAgICBsZWZ0Qm91bmRpbmdCb3hlcyA9IGJvdW5kaW5nQm94ZXM7XHJcbiAgICAgIHJpZ2h0Qm91bmRpbmdCb3hlcyA9IFtdO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gU29ydCBib3VuZGluZyBib3hlcyBieSB0aGVpciB0b3AgcG9zaXRpb25zXHJcbiAgbGVmdEJvdW5kaW5nQm94ZXMuc29ydCgoZmlyc3QsIHNlY29uZCkgPT4gZmlyc3QudG9wIC0gc2Vjb25kLnRvcCk7XHJcbiAgcmlnaHRCb3VuZGluZ0JveGVzLnNvcnQoKGZpcnN0LCBzZWNvbmQpID0+IGZpcnN0LnRvcCAtIHNlY29uZC50b3ApO1xyXG5cclxuICBjb25zdCByZW5kZXJBcnJvd0ZsYWdCYXNlID0gKFxyXG4gICAgYm94ZXM6IEJvdW5kaW5nQm94VHlwZVtdLFxyXG4gICAgcG9zaXRpb246IFBvc2l0aW9uVHlwZSxcclxuICAgIHNob3dMYWJlbDogYm9vbGVhblxyXG4gICkgPT4ge1xyXG4gICAgaWYgKGJveGVzLmxlbmd0aCA9PSAwKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICBjb25zdCBmaXJzdEJveCA9IGNvbnZlcnRSYXRpb1RvUHgoYm94ZXNbMF0pLFxyXG4gICAgICBsYXN0Qm94ID0gY29udmVydFJhdGlvVG9QeChib3hlc1tib3hlcy5sZW5ndGggLSAxXSk7XHJcbiAgICBjb25zdCBwcm9wcyA9IHtcclxuICAgICAgbGFiZWw6IHNob3dMYWJlbCA/IGxhYmVsIDogdW5kZWZpbmVkLFxyXG4gICAgICB0YWlsTGVuZ3RoOiBsYXN0Qm94LnRvcCArIGxhc3RCb3guaGVpZ2h0IC0gZmlyc3RCb3gudG9wLFxyXG4gICAgICBvcmlnaW5Ub3A6IGZpcnN0Qm94LnRvcCxcclxuICAgICAgcG9zaXRpb24sXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiA8QXJyb3dGbGFnQmFzZSB7Li4ucHJvcHN9IC8+O1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhc0xlZnRGbGFnID0gbGVmdEJvdW5kaW5nQm94ZXMubGVuZ3RoID4gMDtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc25hbWVzKCdwZGYtcmVhZGVyX19hcnJvdy1mbGFnJywgY2xhc3NOYW1lKX0gey4uLmV4dHJhUHJvcHN9PlxyXG4gICAgICB7cmVuZGVyQXJyb3dGbGFnQmFzZShsZWZ0Qm91bmRpbmdCb3hlcywgUE9TSVRJT04uTEVGVCwgaGFzTGVmdEZsYWcpfVxyXG4gICAgICB7cmVuZGVyQXJyb3dGbGFnQmFzZShyaWdodEJvdW5kaW5nQm94ZXMsIFBPU0lUSU9OLlJJR0hULCAhaGFzTGVmdEZsYWcpfVxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufTtcclxuIiwiaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XHJcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcclxuXHJcbmltcG9ydCB7IFNjcm9sbENvbnRleHQgfSBmcm9tICcuLi8uLi9jb250ZXh0L1Njcm9sbENvbnRleHQnO1xyXG5pbXBvcnQgeyBOb2RlRGVzdGluYXRpb24sIE91dGxpbmVOb2RlIH0gZnJvbSAnLi4vdHlwZXMvb3V0bGluZSc7XHJcblxyXG50eXBlIFByb3BzID0ge1xyXG4gIGl0ZW1zPzogQXJyYXk8T3V0bGluZU5vZGU+O1xyXG4gIG9uQ2xpY2s/OiAoZGVzdDogTm9kZURlc3RpbmF0aW9uKSA9PiB2b2lkO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IE91dGxpbmVJdGVtOiBSZWFjdC5GdW5jdGlvbkNvbXBvbmVudDxQcm9wcz4gPSAoeyBpdGVtcywgb25DbGljayB9OiBQcm9wcykgPT4ge1xyXG4gIGNvbnN0IHsgaXNPdXRsaW5lVGFyZ2V0VmlzaWJsZSB9ID0gUmVhY3QudXNlQ29udGV4dChTY3JvbGxDb250ZXh0KTtcclxuXHJcbiAgaWYgKCFpdGVtcyB8fCAhaXRlbXMubGVuZ3RoKSB7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHJlbmRlckl0ZW0oaXRlbTogT3V0bGluZU5vZGUpIHtcclxuICAgIGNvbnN0IGNsaWNrSGFuZGxlciA9IChldmVudDogYW55KSA9PiB7XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGlmIChvbkNsaWNrKSB7XHJcbiAgICAgICAgb25DbGljayhpdGVtLmRlc3QpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIElmIGFuIGl0ZW0gaGFzIHN1YiB0aXRsZXMsIHJlbmRlciA8T3V0bGluZUl0ZW0gLz5cclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxsaVxyXG4gICAgICAgIGtleT17aXRlbS5kZXN0Py50b1N0cmluZygpIHx8IGl0ZW0udGl0bGV9XHJcbiAgICAgICAgY2xhc3NOYW1lPXtjbGFzc25hbWVzKCdyZWFkZXJfX291dGxpbmUtaXRlbScsIHtcclxuICAgICAgICAgICdyZWFkZXJfX291dGxpbmUtaXRlbS0tdGFyZ2V0LXZpc2libGUnOiBpc091dGxpbmVUYXJnZXRWaXNpYmxlKGl0ZW0uZGVzdCksXHJcbiAgICAgICAgfSl9PlxyXG4gICAgICAgIDxhIGhyZWY9XCIjXCIgb25DbGljaz17Y2xpY2tIYW5kbGVyfSBkYXRhLXRlc3QtaWQ9XCJyZWFkZXItb3V0bGluZS1pdGVtXCI+XHJcbiAgICAgICAgICB7aXRlbS50aXRsZX1cclxuICAgICAgICA8L2E+XHJcbiAgICAgICAgPE91dGxpbmVJdGVtIGl0ZW1zPXtpdGVtLml0ZW1zfSBvbkNsaWNrPXtvbkNsaWNrfSAvPlxyXG4gICAgICA8L2xpPlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHJldHVybiA8dWwgY2xhc3NOYW1lPVwicmVhZGVyX19vdXRsaW5lLWl0ZW1zXCI+e2l0ZW1zLm1hcChpdGVtID0+IHJlbmRlckl0ZW0oaXRlbSkpfTwvdWw+O1xyXG59O1xyXG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XHJcblxyXG5pbXBvcnQgeyBidWlsZE91dGxpbmVQb3NpdGlvbnMsIERvY3VtZW50Q29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQvRG9jdW1lbnRDb250ZXh0JztcclxuaW1wb3J0IHsgU2Nyb2xsQ29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQvU2Nyb2xsQ29udGV4dCc7XHJcbmltcG9ydCB7IE5vZGVEZXN0aW5hdGlvbiwgT3V0bGluZU5vZGUgfSBmcm9tICcuLi90eXBlcy9vdXRsaW5lJztcclxuaW1wb3J0IHsgT3V0bGluZUl0ZW0gfSBmcm9tICcuL091dGxpbmVJdGVtJztcclxuXHJcbmV4cG9ydCBjb25zdCBPdXRsaW5lOiBSZWFjdC5GdW5jdGlvbkNvbXBvbmVudCA9ICh7IC4uLmV4dHJhUHJvcHMgfSkgPT4ge1xyXG4gIGNvbnN0IHsgb3V0bGluZSwgcGRmRG9jUHJveHksIHNldE91dGxpbmUsIHNldE91dGxpbmVQb3NpdGlvbnMgfSA9XHJcbiAgICBSZWFjdC51c2VDb250ZXh0KERvY3VtZW50Q29udGV4dCk7XHJcbiAgY29uc3QgeyBzY3JvbGxUb091dGxpbmVUYXJnZXQsIHJlc2V0U2Nyb2xsT2JzZXJ2ZXJzIH0gPSBSZWFjdC51c2VDb250ZXh0KFNjcm9sbENvbnRleHQpO1xyXG5cclxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKG91dGxpbmUpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghcGRmRG9jUHJveHkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHBkZkRvY1Byb3h5XHJcbiAgICAgIC5nZXRPdXRsaW5lKClcclxuICAgICAgLnRoZW4oKG91dGxpbmVBcnJheTogQXJyYXk8T3V0bGluZU5vZGU+KSA9PiB7XHJcbiAgICAgICAgc2V0T3V0bGluZShvdXRsaW5lQXJyYXkpO1xyXG4gICAgICAgIHJldHVybiBidWlsZE91dGxpbmVQb3NpdGlvbnMocGRmRG9jUHJveHksIG91dGxpbmVBcnJheSk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC50aGVuKG91dGxpbmVQb3NpdGlvbnMgPT4ge1xyXG4gICAgICAgIHNldE91dGxpbmVQb3NpdGlvbnMob3V0bGluZVBvc2l0aW9ucyk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICByZXNldFNjcm9sbE9ic2VydmVycygpO1xyXG4gICAgICB9KTtcclxuICB9LCBbb3V0bGluZV0pO1xyXG5cclxuICBjb25zdCBjbGlja0hhbmRsZXIgPSBSZWFjdC51c2VDYWxsYmFjaygoZGVzdDogTm9kZURlc3RpbmF0aW9uKTogdm9pZCA9PiB7XHJcbiAgICBpZiAoIWRlc3QpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgc2Nyb2xsVG9PdXRsaW5lVGFyZ2V0KGRlc3QpO1xyXG4gICAgcmV0dXJuO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgaWYgKCFwZGZEb2NQcm94eSkge1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJyZWFkZXJfX291dGxpbmVcIiB7Li4uZXh0cmFQcm9wc30+XHJcbiAgICAgIHshIW91dGxpbmUgJiYgPE91dGxpbmVJdGVtIGl0ZW1zPXtvdXRsaW5lfSBvbkNsaWNrPXtjbGlja0hhbmRsZXJ9IC8+fVxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufTtcclxuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5cclxuaW1wb3J0IHsgRG9jdW1lbnRDb250ZXh0IH0gZnJvbSAnLi4vY29udGV4dC9Eb2N1bWVudENvbnRleHQnO1xyXG5pbXBvcnQgeyBUcmFuc2Zvcm1Db250ZXh0IH0gZnJvbSAnLi4vY29udGV4dC9UcmFuc2Zvcm1Db250ZXh0JztcclxuaW1wb3J0IHsgY29tcHV0ZVBhZ2VTdHlsZSB9IGZyb20gJy4uL3V0aWxzL3N0eWxlJztcclxuaW1wb3J0IHsgQm91bmRpbmdCb3ggfSBmcm9tICcuL0JvdW5kaW5nQm94JztcclxuXHJcbmV4cG9ydCB0eXBlIFByb3BzID0ge1xyXG4gIGNoaWxkcmVuPzogUmVhY3QuUmVhY3RFbGVtZW50PHR5cGVvZiBCb3VuZGluZ0JveD4gfCBBcnJheTxSZWFjdC5SZWFjdEVsZW1lbnQ8dHlwZW9mIEJvdW5kaW5nQm94Pj47XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgT3ZlcmxheTogUmVhY3QuRnVuY3Rpb25Db21wb25lbnQ8UHJvcHM+ID0gKHsgY2hpbGRyZW4sIC4uLmV4dHJhUHJvcHMgfTogUHJvcHMpID0+IHtcclxuICBjb25zdCB7IHBhZ2VEaW1lbnNpb25zIH0gPSBSZWFjdC51c2VDb250ZXh0KERvY3VtZW50Q29udGV4dCk7XHJcbiAgY29uc3QgeyByb3RhdGlvbiwgc2NhbGUgfSA9IFJlYWN0LnVzZUNvbnRleHQoVHJhbnNmb3JtQ29udGV4dCk7XHJcblxyXG4gIGNvbnN0IGdldE92ZXJsYXlTdHlsZSA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIHJldHVybiBjb21wdXRlUGFnZVN0eWxlKHBhZ2VEaW1lbnNpb25zLCByb3RhdGlvbiwgc2NhbGUpO1xyXG4gIH0sIFtwYWdlRGltZW5zaW9ucywgcm90YXRpb24sIHNjYWxlXSk7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBkZi1yZWFkZXJfX292ZXJsYXlcIiBzdHlsZT17Z2V0T3ZlcmxheVN0eWxlKCl9IHsuLi5leHRyYVByb3BzfT5cclxuICAgICAge2NoaWxkcmVufVxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufTtcclxuIiwiaW1wb3J0IHsgTnVsbGFibGUgfSBmcm9tICcuLi9jb21wb25lbnRzL3R5cGVzL3V0aWxzJztcclxuaW1wb3J0IHsgVmlzaWJsZUVudHJ5RGV0YWlsVHlwZSB9IGZyb20gJy4vVmlzaWJsZUVudHJpZXNEZXRlY3Rvcic7XHJcblxyXG50eXBlIFZpc2libGVFbGVtZW50ID0gTnVsbGFibGU8bnVtYmVyIHwgc3RyaW5nPjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRNYXhWaXNpYmxlRWxlbWVudChcclxuICB2aXNpYmxlRWxlbWVudHM6IE1hcDxWaXNpYmxlRWxlbWVudCwgVmlzaWJsZUVudHJ5RGV0YWlsVHlwZT5cclxuKTogVmlzaWJsZUVsZW1lbnQge1xyXG4gIGxldCBtYXhWaXNpYmxlS2V5ID0gbnVsbDtcclxuICBsZXQgbWF4UmF0aW8gPSAwO1xyXG4gIGZvciAoY29uc3QgW3Zpc2libGVLZXksIHsgcmF0aW8gfV0gb2YgdmlzaWJsZUVsZW1lbnRzKSB7XHJcbiAgICBpZiAobWF4UmF0aW8gPCByYXRpbykge1xyXG4gICAgICBtYXhWaXNpYmxlS2V5ID0gdmlzaWJsZUtleTtcclxuICAgICAgbWF4UmF0aW8gPSByYXRpbztcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIG1heFZpc2libGVLZXk7XHJcbn1cclxuIiwiaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XHJcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcclxuXHJcbmltcG9ydCB7IERvY3VtZW50Q29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQvRG9jdW1lbnRDb250ZXh0JztcclxuaW1wb3J0IHsgU2Nyb2xsQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQvU2Nyb2xsQ29udGV4dCc7XHJcbmltcG9ydCB7IGdldE1heFZpc2libGVFbGVtZW50IH0gZnJvbSAnLi4vdXRpbHMvTWF4VmlzaWJsZUVsZW1lbnQnO1xyXG5cclxuZXhwb3J0IHR5cGUgUHJvcHMgPSB7XHJcbiAgY2xhc3NOYW1lPzogc3RyaW5nO1xyXG59O1xyXG5cclxudHlwZSBUT0RPX19USU1FUiA9IGFueTtcclxuXHJcbmNvbnN0IERFTEFZX1NDUk9MTF9USU1FX09VVF9NUyA9IDEwMDA7XHJcblxyXG5leHBvcnQgY29uc3QgUGFnZU51bWJlckNvbnRyb2w6IFJlYWN0LkZ1bmN0aW9uQ29tcG9uZW50PFByb3BzPiA9ICh7IGNsYXNzTmFtZSB9OiBQcm9wcykgPT4ge1xyXG4gIGNvbnN0IGRlbGF5VGltZXJSZWYgPSBSZWFjdC51c2VSZWY8VE9ET19fVElNRVI+KCk7XHJcbiAgY29uc3QgeyBudW1QYWdlcyB9ID0gUmVhY3QudXNlQ29udGV4dChEb2N1bWVudENvbnRleHQpO1xyXG4gIGNvbnN0IHsgc2Nyb2xsVG9QYWdlLCB2aXNpYmxlUGFnZVJhdGlvcyB9ID0gUmVhY3QudXNlQ29udGV4dChTY3JvbGxDb250ZXh0KTtcclxuICBjb25zdCBbbWluUGFnZSwgc2V0TWluUGFnZV0gPSBSZWFjdC51c2VTdGF0ZTxudW1iZXI+KDApO1xyXG4gIGNvbnN0IFt1c2VySW5wdXQsIHNldFVzZXJJbnB1dF0gPSBSZWFjdC51c2VTdGF0ZTxzdHJpbmc+KCcwJyk7XHJcblxyXG4gIC8vIEluaXRpYWxpemUgcGFnZSBjb250cm9sIGVsZW1lbnRcclxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKG51bVBhZ2VzICE9IDApIHtcclxuICAgICAgc2V0TWluUGFnZSgxKTtcclxuICAgIH1cclxuICB9LCBbbnVtUGFnZXNdKTtcclxuXHJcbiAgLy8gRXZlcnl0aW1lIHdlIHNjcm9sbCB0aHJvdWdoIHRoZSBwYWdlIHRoaXMgdXNlRWZmZWN0XHJcbiAgLy8gd2lsbCB0cmlnZ2VyIGFuZCBzZXQgY3VycmVudCBwYWdlIGJhc2VkIG9uIG91ciBjdXJyZW50XHJcbiAgLy8gc2Nyb2xsIHBvc2l0aW9uXHJcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmICh2aXNpYmxlUGFnZVJhdGlvcy5zaXplICE9PSAwKSB7XHJcbiAgICAgIGNvbnN0IG1heFZpc2libGVQYWdlTnVtYmVyID0gZ2V0TWF4VmlzaWJsZUVsZW1lbnQodmlzaWJsZVBhZ2VSYXRpb3MpO1xyXG4gICAgICBpZiAobWF4VmlzaWJsZVBhZ2VOdW1iZXIpIHtcclxuICAgICAgICBzZXRVc2VySW5wdXQobWF4VmlzaWJsZVBhZ2VOdW1iZXIudG9TdHJpbmcoKSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LCBbdmlzaWJsZVBhZ2VSYXRpb3NdKTtcclxuXHJcbiAgY29uc3Qgb25QYWdlTnVtYmVyQ2hhbmdlID0gUmVhY3QudXNlQ2FsbGJhY2soXHJcbiAgICAoZXZlbnQ6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XHJcbiAgICAgIGNvbnN0IHsgdmFsdWUgfSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ7XHJcbiAgICAgIC8vIERlY2ltYWwgY2FzZVxyXG4gICAgICBpZiAoIU51bWJlci5pc0ludGVnZXIodmFsdWUpKSB7XHJcbiAgICAgICAgc2V0VXNlcklucHV0KHBhcnNlSW50KHZhbHVlLCAxMCkudG9TdHJpbmcoKSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNldFVzZXJJbnB1dCh2YWx1ZSk7XHJcbiAgICAgIGlmIChkZWxheVRpbWVyUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICBjbGVhclRpbWVvdXQoZGVsYXlUaW1lclJlZi5jdXJyZW50KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQWZ0ZXIgdXNlciBpbnB1dCB0aGUgcGFnZSB0aGF0IHRoZXkgd2FudCB0byBzY3JvbGwgdG9cclxuICAgICAgLy8gb3VyIHJlZiB3aWxsIHN0YXJ0IHNldHRpbmcgYSBkZWxheSBhcm91bmQgMXMgYmVmb3JlIHNjcm9sbFxyXG4gICAgICAvLyB0byB0aGUgcG9zaXRpb24gdGhhdCB1c2VyIGRlc2lyZVxyXG4gICAgICBjb25zdCBuZXdQYWdlTnVtYmVyID0gcGFyc2VJbnQodmFsdWUsIDEwKTtcclxuICAgICAgaWYgKG5ld1BhZ2VOdW1iZXIgPj0gbWluUGFnZSAmJiBuZXdQYWdlTnVtYmVyIDw9IG51bVBhZ2VzKSB7XHJcbiAgICAgICAgZGVsYXlUaW1lclJlZi5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICBzY3JvbGxUb1BhZ2UoeyBwYWdlTnVtYmVyOiBuZXdQYWdlTnVtYmVyIH0pO1xyXG4gICAgICAgIH0sIERFTEFZX1NDUk9MTF9USU1FX09VVF9NUyk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBbbWluUGFnZSwgbnVtUGFnZXMsIHNjcm9sbFRvUGFnZV1cclxuICApO1xyXG5cclxuICBjb25zdCBoYW5kbGVCbHVyID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgaWYgKGRlbGF5VGltZXJSZWYuY3VycmVudCkge1xyXG4gICAgICBjbGVhclRpbWVvdXQoZGVsYXlUaW1lclJlZi5jdXJyZW50KTtcclxuICAgIH1cclxuICAgIGNvbnN0IHBhZ2VOdW1iZXIgPSBwYXJzZUludCh1c2VySW5wdXQsIDEwKTtcclxuICAgIGlmIChOdW1iZXIuaXNOYU4ocGFnZU51bWJlcikpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGRlbGF5VGltZXJSZWYuY3VycmVudCA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICBzY3JvbGxUb1BhZ2UoeyBwYWdlTnVtYmVyOiBwYWdlTnVtYmVyIH0pO1xyXG4gICAgfSwgREVMQVlfU0NST0xMX1RJTUVfT1VUX01TKTtcclxuICB9LCBbdXNlcklucHV0LCBzY3JvbGxUb1BhZ2VdKTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc25hbWVzKCdwZGYtcmVhZGVyX19wYWdlLW51bWJlci1jb250cm9sJywgY2xhc3NOYW1lKX0+XHJcbiAgICAgIDxpbnB1dFxyXG4gICAgICAgIGFyaWEtbGFiZWw9XCJDdXJyZW50IFBhZ2VcIlxyXG4gICAgICAgIGNsYXNzTmFtZT1cInBkZi1yZWFkZXJfX3BhZ2UtbnVtYmVyLWNvbnRyb2xfX2N1cnJlbnQtcGFnZVwiXHJcbiAgICAgICAgdHlwZT1cIm51bWJlclwiXHJcbiAgICAgICAgbmFtZT1cImN1cnJlbnRQYWdlXCJcclxuICAgICAgICB2YWx1ZT17dXNlcklucHV0fVxyXG4gICAgICAgIG9uQ2hhbmdlPXtvblBhZ2VOdW1iZXJDaGFuZ2V9XHJcbiAgICAgICAgb25CbHVyPXtoYW5kbGVCbHVyfVxyXG4gICAgICAvPlxyXG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJwZGYtcmVhZGVyX19wYWdlLW51bWJlci1jb250cm9sX19zZXBhcmF0b3IgXCI+Lzwvc3Bhbj5cclxuICAgICAgPHNwYW4gYXJpYS1sYWJlbD1cIlRvdGFsIFBhZ2VzXCIgY2xhc3NOYW1lPVwicGRmLXJlYWRlcl9fcGFnZS1udW1iZXItY29udHJvbF9fdG90YWwtcGFnZXNcIj5cclxuICAgICAgICB7bnVtUGFnZXN9XHJcbiAgICAgIDwvc3Bhbj5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn07XHJcbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgcGRmanMgfSBmcm9tICdyZWFjdC1wZGYnO1xyXG5cclxuaW1wb3J0IHsgUGFnZU51bWJlciB9IGZyb20gJy4uL2NvbXBvbmVudHMvdHlwZXMvcGFnZSc7XHJcbmltcG9ydCB7IE51bGxhYmxlIH0gZnJvbSAnLi4vY29tcG9uZW50cy90eXBlcy91dGlscyc7XHJcbmltcG9ydCB7IGxvZ1Byb3ZpZGVyV2FybmluZyB9IGZyb20gJy4uL3V0aWxzL3Byb3ZpZGVyJztcclxuaW1wb3J0IHsgVmlzaWJsZUVudHJ5RGV0YWlsVHlwZSB9IGZyb20gJy4uL3V0aWxzL1Zpc2libGVFbnRyaWVzRGV0ZWN0b3InO1xyXG5cclxuZXhwb3J0IHR5cGUgUmVuZGVyU3RhdGUgPSB7XHJcbiAgcHJvbWlzZTogUHJvbWlzZTxzdHJpbmc+O1xyXG4gIG9iamVjdFVSTDogTnVsbGFibGU8c3RyaW5nPjtcclxufTtcclxuXHJcbmV4cG9ydCB0eXBlIFBhZ2VOdW1iZXJUb1JlbmRlclN0YXRlTWFwID0gTWFwPG51bWJlciwgUmVuZGVyU3RhdGU+O1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJUGFnZVJlbmRlckNvbnRleHQge1xyXG4gIHBhZ2VSZW5kZXJTdGF0ZXM6IFBhZ2VOdW1iZXJUb1JlbmRlclN0YXRlTWFwO1xyXG4gIGdldE9iamVjdFVSTEZvclBhZ2U6IChwYWdlTnVtYmVyOiBQYWdlTnVtYmVyKSA9PiBOdWxsYWJsZTxzdHJpbmc+O1xyXG4gIGlzQnVpbGRpbmdPYmplY3RVUkxGb3JQYWdlOiAocGFnZU51bWJlcjogUGFnZU51bWJlcikgPT4gYm9vbGVhbjtcclxuICBpc0ZpbmlzaGVkQnVpbGRpbmdBbGxQYWdlc09iamVjdFVSTHM6ICgpID0+IGJvb2xlYW47XHJcbiAgYnVpbGRPYmplY3RVUkxGb3JQYWdlOiAocGFnZU51bWJlcjogUGFnZU51bWJlcikgPT4gUHJvbWlzZTxzdHJpbmc+O1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgUGFnZVJlbmRlckNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0PElQYWdlUmVuZGVyQ29udGV4dD4oe1xyXG4gIHBhZ2VSZW5kZXJTdGF0ZXM6IG5ldyBNYXAoKSxcclxuICBnZXRPYmplY3RVUkxGb3JQYWdlOiBhcmdzID0+IHtcclxuICAgIGxvZ1Byb3ZpZGVyV2FybmluZyhgZ2V0T2JqZWN0VVJMRm9yUGFnZSgke0pTT04uc3RyaW5naWZ5KGFyZ3MpfSlgLCAnUGFnZVJlbmRlckNvbnRleHQnKTtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH0sXHJcbiAgaXNCdWlsZGluZ09iamVjdFVSTEZvclBhZ2U6IGFyZ3MgPT4ge1xyXG4gICAgbG9nUHJvdmlkZXJXYXJuaW5nKGBpc0J1aWxkaW5nT2JqZWN0VVJMRm9yUGFnZSgke0pTT04uc3RyaW5naWZ5KGFyZ3MpfSlgLCAnUGFnZVJlbmRlckNvbnRleHQnKTtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9LFxyXG4gIGlzRmluaXNoZWRCdWlsZGluZ0FsbFBhZ2VzT2JqZWN0VVJMczogKCkgPT4ge1xyXG4gICAgbG9nUHJvdmlkZXJXYXJuaW5nKGBpc0ZpbmlzaGVkQnVpbGRpbmdBbGxQYWdlc09iamVjdFVSTHMoKWAsICdQYWdlUmVuZGVyQ29udGV4dCcpO1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH0sXHJcbiAgYnVpbGRPYmplY3RVUkxGb3JQYWdlOiBhcmdzID0+IHtcclxuICAgIGxvZ1Byb3ZpZGVyV2FybmluZyhgYnVpbGRPYmplY3RVUkxGb3JQYWdlKCR7SlNPTi5zdHJpbmdpZnkoYXJncyl9KWAsICdQYWdlUmVuZGVyQ29udGV4dCcpO1xyXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgnJyk7XHJcbiAgfSxcclxufSk7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdXNlUGFnZVJlbmRlckNvbnRleHRQcm9wcyh7XHJcbiAgcGRmRG9jUHJveHksXHJcbiAgcGl4ZWxSYXRpbyxcclxuICBzY2FsZSxcclxuICB2aXNpYmxlUGFnZVJhdGlvcyxcclxufToge1xyXG4gIHBkZkRvY1Byb3h5PzogcGRmanMuUERGRG9jdW1lbnRQcm94eTtcclxuICBwaXhlbFJhdGlvOiBudW1iZXI7XHJcbiAgc2NhbGU6IG51bWJlcjtcclxuICB2aXNpYmxlUGFnZVJhdGlvczogTWFwPG51bWJlciwgVmlzaWJsZUVudHJ5RGV0YWlsVHlwZT47XHJcbn0pOiBJUGFnZVJlbmRlckNvbnRleHQge1xyXG4gIGNvbnN0IFtwYWdlUmVuZGVyU3RhdGVzLCBfc2V0UGFnZVJlbmRlclN0YXRlc10gPSBSZWFjdC51c2VTdGF0ZTxQYWdlTnVtYmVyVG9SZW5kZXJTdGF0ZU1hcD4oXHJcbiAgICAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG1hcCA9IG5ldyBNYXAoKTtcclxuICAgICAgT2JqZWN0LmZyZWV6ZShtYXApO1xyXG4gICAgICByZXR1cm4gbWFwO1xyXG4gICAgfVxyXG4gICk7XHJcblxyXG4gIC8vIEJlY2F1c2UgcmVuZGVyaW5nIGEgcGFnZSBpcyBhc3luYywgd2Ugd2lsbCBsb3NlIHRoZSBjdXJyZW50IHBhZ2VSZW5kZXJTdGF0ZXNcclxuICAvLyBUaGlzIHJlZiB0cmljayBhbGxvd3MgdGhlIGxhdGVzdCB0byBiZSBhY2Nlc3NpYmxlIHdoZW4gdGhlIG9iamVjdFVSTCBpcyByZWFkeVxyXG4gIGNvbnN0IHBhZ2VSZW5kZXJTdGF0ZXNSZWYgPSBSZWFjdC51c2VSZWYocGFnZVJlbmRlclN0YXRlcyk7XHJcbiAgY29uc3Qgc2V0UGFnZVJlbmRlclN0YXRlcyA9IFJlYWN0LnVzZUNhbGxiYWNrKFxyXG4gICAgKHBhZ2VSZW5kZXJTdGF0ZXM6IFBhZ2VOdW1iZXJUb1JlbmRlclN0YXRlTWFwKSA9PiB7XHJcbiAgICAgIHBhZ2VSZW5kZXJTdGF0ZXNSZWYuY3VycmVudCA9IHBhZ2VSZW5kZXJTdGF0ZXM7XHJcbiAgICAgIF9zZXRQYWdlUmVuZGVyU3RhdGVzKHBhZ2VSZW5kZXJTdGF0ZXMpO1xyXG4gICAgfSxcclxuICAgIFtwYWdlUmVuZGVyU3RhdGVzUmVmXVxyXG4gICk7XHJcblxyXG4gIGNvbnN0IGlzQnVpbGRpbmdPYmplY3RVUkxGb3JQYWdlID0gUmVhY3QudXNlQ2FsbGJhY2soXHJcbiAgICAoeyBwYWdlTnVtYmVyLCBwYWdlSW5kZXggfTogUGFnZU51bWJlcik6IGJvb2xlYW4gPT4ge1xyXG4gICAgICBpZiAodHlwZW9mIHBhZ2VJbmRleCA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICBwYWdlTnVtYmVyID0gcGFnZUluZGV4ICsgMTtcclxuICAgICAgfVxyXG4gICAgICBpZiAodHlwZW9mIHBhZ2VOdW1iZXIgIT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICAgIGNvbnN0IHN0YXRlID0gcGFnZVJlbmRlclN0YXRlcy5nZXQocGFnZU51bWJlcik7XHJcbiAgICAgIGlmICghc3RhdGUpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuICFzdGF0ZS5vYmplY3RVUkw7XHJcbiAgICB9LFxyXG4gICAgW3BhZ2VSZW5kZXJTdGF0ZXNdXHJcbiAgKTtcclxuXHJcbiAgY29uc3QgaXNGaW5pc2hlZEJ1aWxkaW5nQWxsUGFnZXNPYmplY3RVUkxzID0gUmVhY3QudXNlQ2FsbGJhY2soKCk6IGJvb2xlYW4gPT4ge1xyXG4gICAgaWYgKCFwZGZEb2NQcm94eSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgZm9yIChsZXQgcGFnZU51bWJlciA9IDE7IHBhZ2VOdW1iZXIgPD0gcGRmRG9jUHJveHkubnVtUGFnZXM7IHBhZ2VOdW1iZXIrKykge1xyXG4gICAgICBpZiAoIXBhZ2VSZW5kZXJTdGF0ZXMuZ2V0KHBhZ2VOdW1iZXIpPy5vYmplY3RVUkwpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH0sIFtwZGZEb2NQcm94eSwgcGFnZVJlbmRlclN0YXRlc10pO1xyXG5cclxuICBjb25zdCBnZXRPYmplY3RVUkxGb3JQYWdlID0gUmVhY3QudXNlQ2FsbGJhY2soXHJcbiAgICAoeyBwYWdlTnVtYmVyLCBwYWdlSW5kZXggfTogUGFnZU51bWJlcik6IE51bGxhYmxlPHN0cmluZz4gPT4ge1xyXG4gICAgICBpZiAodHlwZW9mIHBhZ2VJbmRleCA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICBwYWdlTnVtYmVyID0gcGFnZUluZGV4ICsgMTtcclxuICAgICAgfVxyXG4gICAgICBpZiAodHlwZW9mIHBhZ2VOdW1iZXIgIT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHBhZ2VSZW5kZXJTdGF0ZXMuZ2V0KHBhZ2VOdW1iZXIpPy5vYmplY3RVUkwgfHwgbnVsbDtcclxuICAgIH0sXHJcbiAgICBbcGFnZVJlbmRlclN0YXRlc11cclxuICApO1xyXG5cclxuICBjb25zdCBidWlsZE9iamVjdFVSTEZvclBhZ2UgPSBSZWFjdC51c2VDYWxsYmFjayhcclxuICAgICh7IHBhZ2VOdW1iZXIsIHBhZ2VJbmRleCB9OiBQYWdlTnVtYmVyKTogUHJvbWlzZTxzdHJpbmc+ID0+IHtcclxuICAgICAgaWYgKHR5cGVvZiBwYWdlSW5kZXggPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgcGFnZU51bWJlciA9IHBhZ2VJbmRleCArIDE7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHR5cGVvZiBwYWdlTnVtYmVyICE9PSAnbnVtYmVyJykge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcigncHJvcCBcInBhZ2VOdW1iZXJcIiBpcyBub3QgYSBudW1iZXInKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoIXBkZkRvY1Byb3h5KSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjYW5ub3QgYnVpbGQgYSBwYWdlIHVudGlsIGEgXCJwZGZEb2NQcm94eVwiIGlzIHNldCBvbiBEb2N1bWVudENvbnRleHQnKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gRG9uJ3QgbmVlZCB0byBzdGFydCBhbm90aGVyIHRhc2sgaWYgYWxyZWFkeSByZW5kZXJlZFxyXG4gICAgICBjb25zdCBleGlzdGluZ1Byb21pc2UgPSBwYWdlUmVuZGVyU3RhdGVzLmdldChwYWdlTnVtYmVyKT8ucHJvbWlzZTtcclxuICAgICAgaWYgKGV4aXN0aW5nUHJvbWlzZSkge1xyXG4gICAgICAgIHJldHVybiBleGlzdGluZ1Byb21pc2U7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHByb21pc2UgPSBidWlsZFBhZ2VPYmplY3RVUkwoe1xyXG4gICAgICAgIHBhZ2VOdW1iZXIsXHJcbiAgICAgICAgcGRmRG9jUHJveHksXHJcbiAgICAgICAgcGl4ZWxSYXRpbyxcclxuICAgICAgICBzY2FsZSxcclxuICAgICAgICBwcm9taXNlVGltZXN0YW1wOiBmbHVzaFRpbWVzdGFtcCxcclxuICAgICAgfSk7XHJcbiAgICAgIGNvbnN0IHJlbmRlclN0YXRlOiBSZW5kZXJTdGF0ZSA9IHtcclxuICAgICAgICBwcm9taXNlLFxyXG4gICAgICAgIG9iamVjdFVSTDogbnVsbCxcclxuICAgICAgfTtcclxuICAgICAgcHJvbWlzZS50aGVuKG9iamVjdFVSTCA9PiB7XHJcbiAgICAgICAgaWYgKCFvYmplY3RVUkwpIHJldHVybjtcclxuICAgICAgICByZW5kZXJTdGF0ZS5vYmplY3RVUkwgPSBvYmplY3RVUkw7XHJcbiAgICAgICAgY29uc3QgbmV3UGFnZVJlbmRlclN0YXRlcyA9IG5ldyBNYXAocGFnZVJlbmRlclN0YXRlc1JlZi5jdXJyZW50KTtcclxuICAgICAgICBPYmplY3QuZnJlZXplKG5ld1BhZ2VSZW5kZXJTdGF0ZXMpO1xyXG4gICAgICAgIHNldFBhZ2VSZW5kZXJTdGF0ZXMobmV3UGFnZVJlbmRlclN0YXRlcyk7XHJcbiAgICAgIH0pO1xyXG4gICAgICBjb25zdCBuZXdQYWdlUmVuZGVyU3RhdGVzID0gbmV3IE1hcChwYWdlUmVuZGVyU3RhdGVzUmVmLmN1cnJlbnQpO1xyXG4gICAgICBuZXdQYWdlUmVuZGVyU3RhdGVzLnNldChwYWdlTnVtYmVyLCByZW5kZXJTdGF0ZSk7XHJcbiAgICAgIE9iamVjdC5mcmVlemUobmV3UGFnZVJlbmRlclN0YXRlcyk7XHJcbiAgICAgIHNldFBhZ2VSZW5kZXJTdGF0ZXMobmV3UGFnZVJlbmRlclN0YXRlcyk7XHJcbiAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgfSxcclxuICAgIFtwYWdlUmVuZGVyU3RhdGVzLCBwZGZEb2NQcm94eSwgc2NhbGVdXHJcbiAgKTtcclxuXHJcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IHZpc2libGVQYWdlcyA9IFsuLi52aXNpYmxlUGFnZVJhdGlvcy5rZXlzKCldO1xyXG4gICAgaWYgKCFwZGZEb2NQcm94eSB8fCBbLi4ucGFnZVJlbmRlclN0YXRlcy5rZXlzKCldLmxlbmd0aCA9PT0gcGRmRG9jUHJveHkubnVtUGFnZXMpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHByaW9yaXR5UXVldWUgPSBnZXRQcmlvcml0eVF1ZXVlKHZpc2libGVQYWdlcywgcGRmRG9jUHJveHkubnVtUGFnZXMpO1xyXG4gICAgZm9yIChjb25zdCBwYWdlTnVtYmVyIG9mIHByaW9yaXR5UXVldWUpIHtcclxuICAgICAgYnVpbGRPYmplY3RVUkxGb3JQYWdlKHsgcGFnZU51bWJlciB9KTtcclxuICAgIH1cclxuICB9LCBbcGFnZVJlbmRlclN0YXRlcywgcGRmRG9jUHJveHksIHZpc2libGVQYWdlUmF0aW9zXSk7XHJcblxyXG4gIC8vIEZsdXNoIHBhZ2UgcmVuZGVyIHN0YXRlcyB3aGVuIHNjYWxlIGNoYW5nZXNcclxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgLy8gQ2xlYW4gbWVtb3J5IG9mIG9sZCBnZW5lcmF0ZWQgaW1hZ2VzXHJcbiAgICBmb3IgKGNvbnN0IFssIHJlbmRlclN0YXRlXSBvZiBwYWdlUmVuZGVyU3RhdGVzUmVmLmN1cnJlbnQpIHtcclxuICAgICAgaWYgKHJlbmRlclN0YXRlLm9iamVjdFVSTCkge1xyXG4gICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwocmVuZGVyU3RhdGUub2JqZWN0VVJMKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGlmIGN1cnJlbnQgYXN5bmMgcHJvbWlzZXMgZG9udCBoYXZlIHRoaXMgdGltZXN0YW1wLCB0aGVuIHdlIGZsdXNoIHRoZW1cclxuICAgIGZsdXNoVGltZXN0YW1wID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcblxyXG4gICAgLy8gQ2xlYXIgYWxsIHBhZ2UgcmVuZGVyIHN0YXRlcywgc28gcGFnZXMgY2FuIHJlYnVpbGQgaW1hZ2VzXHJcbiAgICBjb25zdCBuZXdQYWdlUmVuZGVyU3RhdGVzID0gbmV3IE1hcCgpO1xyXG4gICAgT2JqZWN0LmZyZWV6ZShuZXdQYWdlUmVuZGVyU3RhdGVzKTtcclxuICAgIHNldFBhZ2VSZW5kZXJTdGF0ZXMobmV3UGFnZVJlbmRlclN0YXRlcyk7XHJcbiAgfSwgW3NjYWxlLCBwaXhlbFJhdGlvXSk7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBwYWdlUmVuZGVyU3RhdGVzLFxyXG4gICAgZ2V0T2JqZWN0VVJMRm9yUGFnZSxcclxuICAgIGlzQnVpbGRpbmdPYmplY3RVUkxGb3JQYWdlLFxyXG4gICAgaXNGaW5pc2hlZEJ1aWxkaW5nQWxsUGFnZXNPYmplY3RVUkxzLFxyXG4gICAgYnVpbGRPYmplY3RVUkxGb3JQYWdlLFxyXG4gIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXROZWlnaGJvcmluZ1BhZ2VzKHBhZ2VzOiBudW1iZXJbXSwgbnVtVG90YWxQYWdlczogbnVtYmVyKTogbnVtYmVyW10ge1xyXG4gIHJldHVybiBwYWdlcy5sZW5ndGggPT09IDBcclxuICAgID8gW11cclxuICAgIDogW01hdGgubWF4KDEsIHBhZ2VzWzBdIC0gMSksIE1hdGgubWluKG51bVRvdGFsUGFnZXMsIHBhZ2VzW3BhZ2VzLmxlbmd0aCAtIDFdICsgMSldO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UHJpb3JpdHlRdWV1ZSh2aXNpYmxlUGFnZXM6IG51bWJlcltdLCBudW1QYWdlczogbnVtYmVyKTogbnVtYmVyW10ge1xyXG4gIGNvbnN0IHZpc2libGVQYWdlc05laWdoYm9ycyA9IGdldE5laWdoYm9yaW5nUGFnZXModmlzaWJsZVBhZ2VzLCBudW1QYWdlcyk7XHJcbiAgY29uc3QgYWxsUGFnZXMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiBudW1QYWdlcyB9LCAoXywgaSkgPT4gaSArIDEpO1xyXG4gIGNvbnN0IHByaW9yaXR5UXVldWUgPSBuZXcgU2V0KFsuLi52aXNpYmxlUGFnZXMsIC4uLnZpc2libGVQYWdlc05laWdoYm9ycywgLi4uYWxsUGFnZXNdKTsgLy8gcHV0IGludG8gc2V0IHRvIHJlbW92ZSBkdXBsaWNhdHNcclxuICByZXR1cm4gQXJyYXkuZnJvbShwcmlvcml0eVF1ZXVlKTsgLy8gY29udmVydCBzZXQgdG8gYXJyYXlcclxufVxyXG5cclxuLy8gVGhpcyBib29zdCBjYXVzZXMgdGhlIHJlbmRlcmVkIGltYWdlIHRvIGJlIHNjYWxlZCB1cCBieSB0aGlzIGFtb3VudFxyXG5jb25zdCBTQ0FMRV9CT09TVCA9IDI7XHJcblxyXG4vLyBHZW5lcmF0ZSBhbiBvYmplY3QgdXJsIGZvciBhIGdpdmVuIHBhZ2UsIHJlbmRlcmVkIGluIGEgc2hhcmVkIGNhbnZhc1xyXG5hc3luYyBmdW5jdGlvbiBidWlsZFBhZ2VPYmplY3RVUkwoe1xyXG4gIHBhZ2VOdW1iZXIsXHJcbiAgcGRmRG9jUHJveHksXHJcbiAgcGl4ZWxSYXRpbyA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIDogbnVsbCkgfHwgMCxcclxuICBzY2FsZSA9IDEsXHJcbiAgaW1hZ2VUeXBlID0gJ2ltYWdlL3BuZycsXHJcbiAgaW1hZ2VRdWFsaXR5ID0gMS4wLFxyXG4gIHByb21pc2VUaW1lc3RhbXAsXHJcbn06IHtcclxuICBwYWdlTnVtYmVyOiBudW1iZXI7XHJcbiAgcGRmRG9jUHJveHk6IHBkZmpzLlBERkRvY3VtZW50UHJveHk7XHJcbiAgcGl4ZWxSYXRpbz86IG51bWJlcjtcclxuICBzY2FsZT86IG51bWJlcjtcclxuICBpbWFnZVR5cGU/OiBzdHJpbmc7XHJcbiAgaW1hZ2VRdWFsaXR5PzogbnVtYmVyO1xyXG4gIHByb21pc2VUaW1lc3RhbXA6IG51bWJlcjtcclxufSk6IFByb21pc2U8c3RyaW5nPiB7XHJcbiAgY29uc3QgcGFnZVByb3h5ID0gYXdhaXQgcGRmRG9jUHJveHkuZ2V0UGFnZShwYWdlTnVtYmVyKTtcclxuXHJcbiAgY29uc3QgYmxvYjogTnVsbGFibGU8QmxvYj4gfCBudW1iZXIgPSBhd2FpdCB1c2VSZW5kZXJDYW52YXMoYXN5bmMgY2FudmFzID0+IHtcclxuICAgIGlmIChwcm9taXNlVGltZXN0YW1wICE9PSBmbHVzaFRpbWVzdGFtcCkge1xyXG4gICAgICByZXR1cm4gcHJvbWlzZVRpbWVzdGFtcDsgLy8gZmx1c2ggc3RhbGUgcHJvbWlzZVxyXG4gICAgfVxyXG4gICAgLy8gUmVuZGVyIHBhZ2UgaW4gYSBjYW52YXNcclxuICAgIGNvbnN0IHZpZXdwb3J0ID0gcGFnZVByb3h5LmdldFZpZXdwb3J0KHsgc2NhbGU6IHNjYWxlICogcGl4ZWxSYXRpbyAqIFNDQUxFX0JPT1NUIH0pO1xyXG4gICAgY2FudmFzLmhlaWdodCA9IHZpZXdwb3J0LmhlaWdodDtcclxuICAgIGNhbnZhcy53aWR0aCA9IHZpZXdwb3J0LndpZHRoO1xyXG4gICAgY29uc3QgY2FudmFzQ29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgaWYgKCFjYW52YXNDb250ZXh0KSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignY2FudmFzIHdhcyB1bmFibGUgdG8gZ2V0IGEgY29udGV4dCcpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHJlbmRlclRhc2sgPSBwYWdlUHJveHkucmVuZGVyKHtcclxuICAgICAgY2FudmFzQ29udGV4dCxcclxuICAgICAgdmlld3BvcnQsXHJcbiAgICAgIGludGVudDogJ3ByaW50JywgLy8gaW1tZWRpYXRlbHkgcmVuZGVyIHBhZ2VzIG9uIGluYWN0aXZlIHBhZ2VzXHJcbiAgICB9KTtcclxuICAgIGF3YWl0IHJlbmRlclRhc2sucHJvbWlzZTtcclxuXHJcbiAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTYpKTtcclxuXHJcbiAgICAvLyBGZXRjaCBhIGJsb2IgZm9yIGFuIGltYWdlIG9mIHRoZSBjYW52YXNcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY2FudmFzLnRvQmxvYihibG9iID0+IHJlc29sdmUoYmxvYiksIGltYWdlVHlwZSwgaW1hZ2VRdWFsaXR5KTtcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgaWYgKHR5cGVvZiBibG9iID09PSAnbnVtYmVyJykge1xyXG4gICAgcmV0dXJuICcnO1xyXG4gIH1cclxuICAvLyBDb252ZXJ0IGJsb2IgaW1hZ2UgdG8gb2JqZWN0IHVybFxyXG4gIGlmICghYmxvYikge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCd1bmFibGUgdG8gY3JlYXRlIGltYWdlIGZyb20gcGFnZScpO1xyXG4gIH1cclxuICByZXR1cm4gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxufVxyXG5cclxubGV0IHJlbmRlckNhbnZhczogTnVsbGFibGU8SFRNTENhbnZhc0VsZW1lbnQ+ID0gbnVsbDtcclxuXHJcbi8vIEdldCBvciBjcmVhdGUgYSBzaGFyZWQgY2FudmFzIGZvciByZW5kZXJpbmcgcGFnZXMgaW5cclxuZnVuY3Rpb24gZ2V0UmVuZGVyQ2FudmFzKCk6IEhUTUxDYW52YXNFbGVtZW50IHtcclxuICBpZiAoIXJlbmRlckNhbnZhcykge1xyXG4gICAgcmVuZGVyQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgfVxyXG4gIHJldHVybiByZW5kZXJDYW52YXM7XHJcbn1cclxuXHJcbmxldCBmbHVzaFRpbWVzdGFtcCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG5sZXQgbmV4dENhbnZhc1VzZTogUHJvbWlzZTxhbnk+ID0gUHJvbWlzZS5yZXNvbHZlKCk7XHJcblxyXG4vLyBVc2UgdGhlIHNoYXJlZCBjYW52YXMgdG8gcmVuZGVyIGEgcGFnZSwgdXNpbmcgcHJvbWlzZXMgdG8gY3JlYXRlIGEgcXVldWVcclxuYXN5bmMgZnVuY3Rpb24gdXNlUmVuZGVyQ2FudmFzPFQ+KGNhbGxiYWNrOiAoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCkgPT4gUHJvbWlzZTxUPik6IFByb21pc2U8VD4ge1xyXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZW1wdHktZnVuY3Rpb25cclxuICBsZXQgcmVzb2x2ZSA9IChfdmFsdWU6IFQgfCBQcm9taXNlTGlrZTxUPikgPT4ge307XHJcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1lbXB0eS1mdW5jdGlvblxyXG4gIGxldCByZWplY3QgPSAoX3JlYXNvbjogYW55KSA9PiB7fTtcclxuICBjb25zdCBwcm9tID0gbmV3IFByb21pc2U8VD4oKF9yZXNvbHZlLCBfcmVqZWN0KSA9PiB7XHJcbiAgICByZXNvbHZlID0gX3Jlc29sdmU7XHJcbiAgICByZWplY3QgPSBfcmVqZWN0O1xyXG4gIH0pO1xyXG4gIG5leHRDYW52YXNVc2UgPSBuZXh0Q2FudmFzVXNlLnRoZW4oKCkgPT4gY2FsbGJhY2soZ2V0UmVuZGVyQ2FudmFzKCkpLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KSk7XHJcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcHJvbTtcclxuICBhd2FpdCBuZXcgUHJvbWlzZShyZXMgPT4gc2V0VGltZW91dChyZXMsIDE2KSk7IC8vIEdpdmUgc29tZSB0aW1lIGJldHdlZW4gcmVuZGVyc1xyXG4gIHJldHVybiByZXN1bHQ7XHJcbn1cclxuIiwiaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XHJcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgUGFnZSB9IGZyb20gJ3JlYWN0LXBkZic7XHJcbmltcG9ydCB7IFJlbmRlckZ1bmN0aW9uIH0gZnJvbSAncmVhY3QtcGRmL2Rpc3QvUGFnZSc7XHJcblxyXG5pbXBvcnQgeyBEb2N1bWVudENvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0L0RvY3VtZW50Q29udGV4dCc7XHJcbmltcG9ydCB7IFBhZ2VSZW5kZXJDb250ZXh0IH0gZnJvbSAnLi4vY29udGV4dC9QYWdlUmVuZGVyQ29udGV4dCc7XHJcbmltcG9ydCB7IFRyYW5zZm9ybUNvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0L1RyYW5zZm9ybUNvbnRleHQnO1xyXG5pbXBvcnQgeyBVaUNvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0L1VpQ29udGV4dCc7XHJcbmltcG9ydCB7IGdldENsYXNzTmFtZVN1ZmZpeEZyb21SZW5kZXJUeXBlLCBSZW5kZXJUeXBlIH0gZnJvbSAnLi4vdXRpbHMvcmVhZGVyLXV0aWxzJztcclxuaW1wb3J0IHsgZ2VuZXJhdGVQYWdlSWRGcm9tSW5kZXggfSBmcm9tICcuLi91dGlscy9zY3JvbGwnO1xyXG5pbXBvcnQgeyBjb21wdXRlUGFnZVN0eWxlLCBnZXRQYWdlV2lkdGggfSBmcm9tICcuLi91dGlscy9zdHlsZSc7XHJcbmltcG9ydCB7IEhpZ2hsaWdodE92ZXJsYXkgfSBmcm9tICcuL0hpZ2hsaWdodE92ZXJsYXknO1xyXG5pbXBvcnQgeyBPdmVybGF5IH0gZnJvbSAnLi9PdmVybGF5JztcclxuXHJcbi8qKlxyXG4gKiBBIHN1YnNldCBvZiByZWFjdC1wZGYncyBQYWdlIGNvbXBvbmVudCBwcm9wcyBleHBvc2VkIGJ5IHRoaXMgd3JhcHBlclxyXG4gKi9cclxuZXhwb3J0IHR5cGUgUGFnZVByb3BzID0ge1xyXG4gIGVycm9yPzogc3RyaW5nIHwgUmVhY3QuUmVhY3RFbGVtZW50IHwgUmVuZGVyRnVuY3Rpb247XHJcbiAgbG9hZGluZz86IHN0cmluZyB8IFJlYWN0LlJlYWN0RWxlbWVudCB8IFJlbmRlckZ1bmN0aW9uO1xyXG4gIG5vRGF0YT86IHN0cmluZyB8IFJlYWN0LlJlYWN0RWxlbWVudCB8IFJlbmRlckZ1bmN0aW9uO1xyXG4gIHBhZ2VJbmRleDogbnVtYmVyO1xyXG59O1xyXG5cclxuZXhwb3J0IHR5cGUgUHJvcHMgPSB7XHJcbiAgY2xhc3NOYW1lPzogc3RyaW5nO1xyXG4gIGxvYWRpbmdDb250ZW50Rm9yQnVpbGRpbmdJbWFnZT86IFJlYWN0LlJlYWN0RWxlbWVudDtcclxuICBjaGlsZHJlbj86IFJlYWN0LlJlYWN0RWxlbWVudDx0eXBlb2YgSGlnaGxpZ2h0T3ZlcmxheSB8IHR5cGVvZiBPdmVybGF5PjtcclxuICByZW5kZXJUeXBlOiBSZW5kZXJUeXBlO1xyXG59ICYgUGFnZVByb3BzO1xyXG5cclxuZXhwb3J0IGNvbnN0IFBhZ2VXcmFwcGVyOiBSZWFjdC5GdW5jdGlvbkNvbXBvbmVudDxQcm9wcz4gPSAoe1xyXG4gIGNoaWxkcmVuLFxyXG4gIGVycm9yLFxyXG4gIGxvYWRpbmcsXHJcbiAgbG9hZGluZ0NvbnRlbnRGb3JCdWlsZGluZ0ltYWdlLFxyXG4gIG5vRGF0YSxcclxuICBwYWdlSW5kZXgsXHJcbiAgcmVuZGVyVHlwZSxcclxuICAuLi5leHRyYVByb3BzXHJcbn06IFByb3BzKSA9PiB7XHJcbiAgY29uc3QgeyByb3RhdGlvbiwgc2NhbGUgfSA9IFJlYWN0LnVzZUNvbnRleHQoVHJhbnNmb3JtQ29udGV4dCk7XHJcbiAgY29uc3QgeyBwYWdlRGltZW5zaW9ucywgZ2V0T3V0bGluZVRhcmdldHMsIHNldE51bVBhZ2VzTG9hZGVkIH0gPVxyXG4gICAgUmVhY3QudXNlQ29udGV4dChEb2N1bWVudENvbnRleHQpO1xyXG4gIGNvbnN0IHsgZ2V0T2JqZWN0VVJMRm9yUGFnZSwgaXNCdWlsZGluZ09iamVjdFVSTEZvclBhZ2UgfSA9IFJlYWN0LnVzZUNvbnRleHQoUGFnZVJlbmRlckNvbnRleHQpO1xyXG4gIGNvbnN0IHsgaXNMb2FkaW5nIH0gPSBSZWFjdC51c2VDb250ZXh0KFVpQ29udGV4dCk7XHJcblxyXG4gIGNvbnN0IG9iamVjdFVSTEZvclBhZ2UgPSBnZXRPYmplY3RVUkxGb3JQYWdlKHsgcGFnZUluZGV4IH0pO1xyXG4gIGNvbnN0IGlzQnVpbGRpbmdQYWdlSW1hZ2UgPSBpc0J1aWxkaW5nT2JqZWN0VVJMRm9yUGFnZSh7IHBhZ2VJbmRleCB9KTtcclxuXHJcbiAgLy8gRG9uJ3QgZGlzcGxheSB1bnRpbCB3ZSBoYXZlIHBhZ2Ugc2l6ZSBkYXRhXHJcbiAgLy8gVE9ETzogSGFuZGxlIHRoaXMgbmljZXIgc28gd2UgZGlzcGxheSBlaXRoZXIgdGhlIGxvYWRpbmcgb3IgZXJyb3IgdHJlYXRtZW50XHJcbiAgaWYgKCFwYWdlRGltZW5zaW9ucykge1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG5cclxuICBjb25zdCBnZXRQYWdlU3R5bGUgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBjb25zdCBzdHlsZXM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0gY29tcHV0ZVBhZ2VTdHlsZShwYWdlRGltZW5zaW9ucywgcm90YXRpb24sIHNjYWxlKTtcclxuICAgIGlmIChvYmplY3RVUkxGb3JQYWdlKSB7XHJcbiAgICAgIHN0eWxlcy5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCR7b2JqZWN0VVJMRm9yUGFnZX0pYDtcclxuICAgIH1cclxuICAgIHJldHVybiBzdHlsZXM7XHJcbiAgfSwgW3BhZ2VEaW1lbnNpb25zLCByb3RhdGlvbiwgc2NhbGUsIG9iamVjdFVSTEZvclBhZ2VdKTtcclxuXHJcbiAgY29uc3QgZ2V0V2lkdGggPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICByZXR1cm4gZ2V0UGFnZVdpZHRoKHBhZ2VEaW1lbnNpb25zLCByb3RhdGlvbik7XHJcbiAgfSwgW3BhZ2VEaW1lbnNpb25zLCByb3RhdGlvbl0pO1xyXG5cclxuICBjb25zdCBvdXRsaW5lVGFyZ2V0cyA9IGdldE91dGxpbmVUYXJnZXRzKHtcclxuICAgIHBhZ2VJbmRleCxcclxuICAgIHNjYWxlLFxyXG4gICAgcm90YXRpb24sXHJcbiAgICBwYWdlRGltZW5zaW9ucyxcclxuICB9KTtcclxuXHJcbiAgY29uc3QgbWFya1BhZ2VBc0xvYWRlZCA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIHNldE51bVBhZ2VzTG9hZGVkKHByZXZOdW1QYWdlc0xvYWRlZCA9PiBwcmV2TnVtUGFnZXNMb2FkZWQgKyAxKTtcclxuICB9LCBbXSk7XHJcblxyXG4gIC8vIFdpZHRoIG5lZWRzIHRvIGJlIHNldCB0byBwcmV2ZW50IHRoZSBvdXRlcm1vc3QgUGFnZSBkaXYgZnJvbSBleHRlbmRpbmcgdG8gZml0IHRoZSBwYXJlbnQsXHJcbiAgLy8gYW5kIG1pcy1hbGlnbmluZyB0aGUgdGV4dCBsYXllci5cclxuICAvLyBUT0RPOiBDYW4gd2UgQ1NTIHRoaXMgdG8gYXV0by1zaHJpbms/XHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXZcclxuICAgICAgaWQ9e2dlbmVyYXRlUGFnZUlkRnJvbUluZGV4KHBhZ2VJbmRleCl9XHJcbiAgICAgIGNsYXNzTmFtZT17Y2xhc3NuYW1lcyhcclxuICAgICAgICAncGRmLXJlYWRlcl9fcGFnZScsXHJcbiAgICAgICAgeyAncGRmLXJlYWRlcl9fcGFnZS0taGFzLXBhZ2UtaW1hZ2UnOiBvYmplY3RVUkxGb3JQYWdlIH0sXHJcbiAgICAgICAgeyAncGRmLXJlYWRlcl9fcGFnZS0tbm8tcGFnZS1pbWFnZSc6ICFvYmplY3RVUkxGb3JQYWdlIH0sXHJcbiAgICAgICAgYHBkZi1yZWFkZXJfX3BhZ2UtLXJlbmRlci10eXBlLSR7Z2V0Q2xhc3NOYW1lU3VmZml4RnJvbVJlbmRlclR5cGUocmVuZGVyVHlwZSl9YCxcclxuICAgICAgICB7ICdwZGYtcmVhZGVyX19pcy1idWlsZGluZy1wYWdlLWltYWdlJzogaXNCdWlsZGluZ1BhZ2VJbWFnZSB9XHJcbiAgICAgICl9XHJcbiAgICAgIGRhdGEtcGFnZS1udW1iZXI9e3BhZ2VJbmRleCArIDF9XHJcbiAgICAgIHN0eWxlPXtnZXRQYWdlU3R5bGUoKX1cclxuICAgICAgey4uLmV4dHJhUHJvcHN9PlxyXG4gICAgICB7Y2hpbGRyZW59XHJcbiAgICAgIHtpc0J1aWxkaW5nUGFnZUltYWdlICYmICFpc0xvYWRpbmcgJiYgKFxyXG4gICAgICAgIDxkaXZcclxuICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NuYW1lcygncGRmLXJlYWRlcl9fcGFnZScsIHtcclxuICAgICAgICAgICAgJ3BkZi1yZWFkZXJfX3BhZ2UtLWlzLWxvYWRpbmctaW1hZ2UnOiBpc0J1aWxkaW5nUGFnZUltYWdlLFxyXG4gICAgICAgICAgfSl9PlxyXG4gICAgICAgICAge2xvYWRpbmdDb250ZW50Rm9yQnVpbGRpbmdJbWFnZX1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKX1cclxuICAgICAgPFBhZ2VcclxuICAgICAgICB3aWR0aD17Z2V0V2lkdGgoKX1cclxuICAgICAgICBlcnJvcj17ZXJyb3J9XHJcbiAgICAgICAgbG9hZGluZz17bG9hZGluZ31cclxuICAgICAgICBub0RhdGE9e25vRGF0YX1cclxuICAgICAgICBwYWdlSW5kZXg9e3BhZ2VJbmRleH1cclxuICAgICAgICBzY2FsZT17c2NhbGV9XHJcbiAgICAgICAgcm90YXRlPXtyb3RhdGlvbn1cclxuICAgICAgICByZW5kZXJBbm5vdGF0aW9uTGF5ZXI9e3RydWV9XHJcbiAgICAgICAgb25HZXRUZXh0U3VjY2Vzcz17bWFya1BhZ2VBc0xvYWRlZH1cclxuICAgICAgLz5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwZGYtcmVhZGVyX19wYWdlX19vdXRsaW5lLXRhcmdldHNcIj5cclxuICAgICAgICB7b3V0bGluZVRhcmdldHMubWFwKCh7IGRlc3QsIGxlZnRQeCwgdG9wUHggfSkgPT4gKFxyXG4gICAgICAgICAgPHNwYW5cclxuICAgICAgICAgICAga2V5PXtkZXN0fVxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJwZGYtcmVhZGVyX19wYWdlX19vdXRsaW5lLXRhcmdldFwiXHJcbiAgICAgICAgICAgIGRhdGEtb3V0bGluZS10YXJnZXQtZGVzdD17ZGVzdH1cclxuICAgICAgICAgICAgZGF0YS10ZXN0LWlkPVwicGRmLXJlYWRlcl9fcGFnZV9fb3V0bGluZS10YXJnZXRcIlxyXG4gICAgICAgICAgICBzdHlsZT17eyBsZWZ0OiBsZWZ0UHggKyAncHgnLCB0b3A6IHRvcFB4ICsgJ3B4JyB9fVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICApKX1cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59O1xyXG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XHJcblxyXG5leHBvcnQgdHlwZSBQcm9wcyA9IHtcclxuICBjbGFzc05hbWU/OiBzdHJpbmc7XHJcbiAgY2hpbGRyZW4/OiBSZWFjdC5SZWFjdE5vZGU7XHJcbn07XHJcblxyXG4vKipcclxuICogSFRNTCBhbmNob3IgdGFnIGFsbG93cyB5b3UgdG8gZG93bmxvYWQgYSBmaWxlIGZyb20gdGhlIHNhbWUgb3JpZ2luLlxyXG4gKiBUaGlzIGlzIGEgd29ya2Fyb3VuZCB0byBkb3dubG9hZCBhIGZpbGUgc2VydmVkIGZyb20gYSBkaWZmZXJlbnQgb3JpZ2luXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgUHJpbnRCdXR0b246IFJlYWN0LkZ1bmN0aW9uQ29tcG9uZW50PFByb3BzPiA9ICh7XHJcbiAgY2hpbGRyZW4sXHJcbiAgY2xhc3NOYW1lLFxyXG4gIC4uLmV4dHJhUHJvcHNcclxufTogUHJvcHMpID0+IHtcclxuICByZXR1cm4gKFxyXG4gICAgPGJ1dHRvblxyXG4gICAgICBvbkNsaWNrPXsoKSA9PiBvbkNsaWNrUHJpbnQoKX1cclxuICAgICAgYXJpYS1sYWJlbD1cIlByaW50IFBERlwiXHJcbiAgICAgIGNsYXNzTmFtZT17YHBkZi1yZWFkZXJfX3ByaW50LWJ0biAke2NsYXNzTmFtZX1gfVxyXG4gICAgICB7Li4uZXh0cmFQcm9wc30+XHJcbiAgICAgIHtjaGlsZHJlbiA/IGNoaWxkcmVuIDogJ1ByaW50J31cclxuICAgIDwvYnV0dG9uPlxyXG4gICk7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gb25DbGlja1ByaW50KCk6IHZvaWQge1xyXG4gIHdpbmRvdy5wcmludCgpO1xyXG59XHJcbiIsIi8vIFRoaXMgZnVuY3Rpb24gcmV0dXJucyBtaW4gb3IgbWF4IGlmIHZhbHVlIGV4Y2VlZHMgdGhlIHJhbmdlLCBvdGhlcndpc2VcclxuLy8gdGhlIG9yaWdpbmFsIHZhbHVlIGlzIHJldHVybmVkXHJcbmV4cG9ydCBjb25zdCBiYW5kUGFzc0ZpbHRlciA9ICh2YWx1ZTogbnVtYmVyLCBtaW46IG51bWJlciwgbWF4OiBudW1iZXIpOiBudW1iZXIgPT4ge1xyXG4gIHJldHVybiBNYXRoLm1pbihNYXRoLm1heCh2YWx1ZSwgbWluKSwgbWF4KTtcclxufTtcclxuIiwiaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XHJcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcclxuXHJcbmltcG9ydCB7IGJhbmRQYXNzRmlsdGVyIH0gZnJvbSAnLi4vdXRpbHMvdXRpbCc7XHJcblxyXG5jb25zdCBERUZBVUxUX01JTl9XSURUSF9QWCA9IDMwMDtcclxuY29uc3QgREVGQVVMVF9NQVhfV0lEVEhfUFggPSA3MDA7XHJcblxyXG5leHBvcnQgdHlwZSBQcm9wcyA9IHtcclxuICBtaW5XaWR0aFB4PzogbnVtYmVyO1xyXG4gIG1heFdpZHRoUHg/OiBudW1iZXI7XHJcbiAgY2xhc3NOYW1lPzogc3RyaW5nO1xyXG4gIGNoaWxkcmVuPzogUmVhY3QuUmVhY3ROb2RlO1xyXG4gIGhlYWRlcj86IHN0cmluZyB8IFJlYWN0LlJlYWN0RWxlbWVudDtcclxuICBjb250ZW50Pzogc3RyaW5nIHwgUmVhY3QuUmVhY3RFbGVtZW50O1xyXG4gIGZvb3Rlcj86IHN0cmluZyB8IFJlYWN0LlJlYWN0RWxlbWVudDtcclxuICBpc1Zpc2libGU/OiBib29sZWFuO1xyXG4gIGRyYWdIYW5kbGVQb3NpdGlvbj86IHN0cmluZztcclxuICBjbG9zZUJ1dHRvbj86IGJvb2xlYW4gfCBSZWFjdC5SZWFjdEVsZW1lbnQ7XHJcbiAgb25DbG9zZT86ICgpID0+IHZvaWQ7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgU2lkZVBhbmVsOiBSZWFjdC5GdW5jdGlvbkNvbXBvbmVudDxQcm9wcz4gPSAoe1xyXG4gIG1pbldpZHRoUHggPSBERUZBVUxUX01JTl9XSURUSF9QWCxcclxuICBtYXhXaWR0aFB4ID0gREVGQVVMVF9NQVhfV0lEVEhfUFgsXHJcbiAgY2xhc3NOYW1lLFxyXG4gIGNoaWxkcmVuLFxyXG4gIGhlYWRlcixcclxuICBjb250ZW50LFxyXG4gIGZvb3RlcixcclxuICBkcmFnSGFuZGxlUG9zaXRpb24sXHJcbiAgY2xvc2VCdXR0b24sXHJcbiAgaXNWaXNpYmxlID0gdHJ1ZSxcclxuICBvbkNsb3NlLFxyXG4gIC4uLmV4dHJhUHJvcHNcclxufTogUHJvcHMpID0+IHtcclxuICAvLyBUaGUgb3ZlcmxheSBpcyB1c2VkIHRvIGNhdGNoIG1vdXNlIHVwIGV2ZW50cyBvdmVyIGlmcmFtZSBjb250ZW50c1xyXG4gIC8vIHNvIHRoZSBtb3VzZXVwIGV2ZW50cyB3aWxsIG5vdCBiZSBtaXNzZWQgaWYgdGhlIGNsaWNrIGlzIHJlbGVhc2VkIG92ZXJcclxuICAvLyB0aGUgaWZyYW1lIGFuZCB0aGUgZXZlbnQgbGlzdGVuZXJzIHdpbGwgZmFpbCB0byBiZSByZW1vdmVkXHJcbiAgY29uc3QgW2lzT3ZlcmxheVZpc2libGUsIHNldElzT3ZlcmxheVZpc2libGVdID0gUmVhY3QudXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xyXG4gIGNvbnN0IFtwYW5lbFdpZHRoLCBzZXRQYW5lbFdpZHRoXSA9IFJlYWN0LnVzZVN0YXRlPG51bWJlcj4obWluV2lkdGhQeCk7XHJcbiAgY29uc3Qgc2lkZVBhbmVsUmVmID0gUmVhY3QudXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcclxuICBjb25zdCBkcmFnSGFuZGxlUmVmID0gUmVhY3QudXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcclxuXHJcbiAgY29uc3QgcmVuZGVyQ2xvc2VCdXR0b24gPSAoKSA9PiB7XHJcbiAgICBpZiAodHlwZW9mIGNsb3NlQnV0dG9uID09PSAnYm9vbGVhbicpIHtcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cInBkZi1yZWFkZXJfX3NpZGUtcGFuZWwtY2xvc2UtYnV0dG9uXCIgb25DbGljaz17b25DbG9zZX0+XHJcbiAgICAgICAgICB4XHJcbiAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY2xvc2VCdXR0b247XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgcmVuZGVyRHJhZ0hhbmRsZSA9ICgpID0+IHtcclxuICAgIGNvbnN0IGlzRHJhZ0hhbmRsZU9uTGVmdCA9IGRyYWdIYW5kbGVQb3NpdGlvbiA9PT0gJ2xlZnQnO1xyXG4gICAgY29uc3QgaXNEcmFnSGFuZGxlT25SaWdodCA9IGRyYWdIYW5kbGVQb3NpdGlvbiA9PT0gJ3JpZ2h0JztcclxuICAgIGlmICghaXNEcmFnSGFuZGxlT25MZWZ0ICYmICFpc0RyYWdIYW5kbGVPblJpZ2h0KSB7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG9uTW91c2VNb3ZlID0gKG1vdXNlTW92ZUV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCA9PiB7XHJcbiAgICAgIGlmICghc2lkZVBhbmVsUmVmIHx8ICFzaWRlUGFuZWxSZWYuY3VycmVudCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgbmV3V2lkdGggPVxyXG4gICAgICAgIGRyYWdIYW5kbGVQb3NpdGlvbiA9PT0gJ2xlZnQnXHJcbiAgICAgICAgICA/IHNpZGVQYW5lbFJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnJpZ2h0IC0gbW91c2VNb3ZlRXZlbnQucGFnZVhcclxuICAgICAgICAgIDogbW91c2VNb3ZlRXZlbnQucGFnZVggLSBzaWRlUGFuZWxSZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xyXG5cclxuICAgICAgc2V0UGFuZWxXaWR0aChiYW5kUGFzc0ZpbHRlcihuZXdXaWR0aCwgbWluV2lkdGhQeCwgbWF4V2lkdGhQeCkpO1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBvbk1vdXNlVXAgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgIC8vIGRyb3Agb3BhY2l0eSBzdHlsaW5nIG9uIGRyYWcgaGFuZGxlXHJcbiAgICAgIGlmIChkcmFnSGFuZGxlUmVmICYmIGRyYWdIYW5kbGVSZWYuY3VycmVudCkge1xyXG4gICAgICAgIGRyYWdIYW5kbGVSZWYuY3VycmVudC5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XHJcbiAgICAgIH1cclxuICAgICAgc2V0SXNPdmVybGF5VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25Nb3VzZU1vdmUpO1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBvbkRyYWdnaW5nSGFuZGxlID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAvLyBwcmV2ZW50IGZsYXNoaW5nIHdoZW4gdGhlIG1vdXNlIGhvdmVycyBvdXRzaWRlIHRoZSByZXNpemUgem9uZVxyXG4gICAgICBpZiAoZHJhZ0hhbmRsZVJlZiAmJiBkcmFnSGFuZGxlUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICBkcmFnSGFuZGxlUmVmLmN1cnJlbnQuc3R5bGUub3BhY2l0eSA9ICcxJztcclxuICAgICAgfVxyXG5cclxuICAgICAgc2V0SXNPdmVybGF5VmlzaWJsZSh0cnVlKTtcclxuICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSk7XHJcbiAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uTW91c2VVcCwgeyBvbmNlOiB0cnVlIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBvbkNoYW5nZVBhbmVsV2lkdGggPSAoZXZlbnQ6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KTogdm9pZCA9PiB7XHJcbiAgICAgIGNvbnN0IG5ld1dpZHRoID0gcGFyc2VJbnQoZXZlbnQuY3VycmVudFRhcmdldC52YWx1ZSk7XHJcbiAgICAgIHNldFBhbmVsV2lkdGgoYmFuZFBhc3NGaWx0ZXIobmV3V2lkdGgsIG1pbldpZHRoUHgsIG1heFdpZHRoUHgpKTtcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdlxyXG4gICAgICAgIGNsYXNzTmFtZT17Y2xhc3NuYW1lcygncGRmLXJlYWRlcl9fcmVzaXplLXpvbmUnLCB7XHJcbiAgICAgICAgICAncGRmLXJlYWRlcl9fcmVzaXplLXpvbmUtLWxlZnQnOiBpc0RyYWdIYW5kbGVPbkxlZnQsXHJcbiAgICAgICAgICAncGRmLXJlYWRlcl9fcmVzaXplLXpvbmUtLXJpZ2h0JzogaXNEcmFnSGFuZGxlT25SaWdodCxcclxuICAgICAgICB9KX0+XHJcbiAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICBjbGFzc05hbWU9XCJwZGYtcmVhZGVyX19kcmFnLWhhbmRsZV9fYXNzaXN0aXZlLWlucHV0XCJcclxuICAgICAgICAgIHR5cGU9XCJyYW5nZVwiXHJcbiAgICAgICAgICBtaW49e21pbldpZHRoUHh9XHJcbiAgICAgICAgICBtYXg9e21heFdpZHRoUHh9XHJcbiAgICAgICAgICBzdGVwPVwiNVwiXHJcbiAgICAgICAgICB2YWx1ZT17cGFuZWxXaWR0aH1cclxuICAgICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZVBhbmVsV2lkdGh9XHJcbiAgICAgICAgLz5cclxuICAgICAgICA8ZGl2XHJcbiAgICAgICAgICByZWY9e2RyYWdIYW5kbGVSZWZ9XHJcbiAgICAgICAgICByb2xlPVwic2xpZGVyXCJcclxuICAgICAgICAgIGFyaWEtdmFsdWVub3c9e3BhbmVsV2lkdGh9XHJcbiAgICAgICAgICB0YWJJbmRleD17LTF9XHJcbiAgICAgICAgICBvbk1vdXNlRG93bj17b25EcmFnZ2luZ0hhbmRsZX1cclxuICAgICAgICAgIGNsYXNzTmFtZT1cInBkZi1yZWFkZXJfX2RyYWctaGFuZGxlXCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBkZi1yZWFkZXJfX2RyYWctaGFuZGxlX19pbm5lclwiIC8+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxuICB9O1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdlxyXG4gICAgICByZWY9e3NpZGVQYW5lbFJlZn1cclxuICAgICAgc3R5bGU9e3sgd2lkdGg6IHBhbmVsV2lkdGggfX1cclxuICAgICAgY2xhc3NOYW1lPXtjbGFzc25hbWVzKFxyXG4gICAgICAgICdwZGYtcmVhZGVyX19zaWRlLXBhbmVsJyxcclxuICAgICAgICB7ICdwZGYtcmVhZGVyX19zaWRlLXBhbmVsLS1oaWRkZW4nOiAhaXNWaXNpYmxlIH0sXHJcbiAgICAgICAgY2xhc3NOYW1lXHJcbiAgICAgICl9XHJcbiAgICAgIHsuLi5leHRyYVByb3BzfT5cclxuICAgICAge3JlbmRlckRyYWdIYW5kbGUoKX1cclxuICAgICAge2Nsb3NlQnV0dG9uICYmIHJlbmRlckNsb3NlQnV0dG9uKCl9XHJcbiAgICAgIHtoZWFkZXIgJiYgPGgyIGNsYXNzTmFtZT1cInBkZi1yZWFkZXJfX3NpZGUtcGFuZWwtdGl0bGVcIj57aGVhZGVyfTwvaDI+fVxyXG4gICAgICB7Y29udGVudCAmJiA8ZGl2IGNsYXNzTmFtZT1cInBkZi1yZWFkZXJfX3NpZGUtcGFuZWwtY29udGVudFwiPntjb250ZW50fTwvZGl2Pn1cclxuICAgICAge2Zvb3RlciAmJiA8ZGl2IGNsYXNzTmFtZT1cInBkZi1yZWFkZXJfX3NpZGUtcGFuZWwtZm9vdGVyXCI+e2Zvb3Rlcn08L2Rpdj59XHJcbiAgICAgIHtjaGlsZHJlbn1cclxuICAgICAge2lzT3ZlcmxheVZpc2libGUgJiYgPGRpdiBjbGFzc05hbWU9XCJwZGYtcmVhZGVyX19zaWRlLXBhbmVsLW92ZXJsYXlcIiAvPn1cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn07XHJcbiIsImltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xyXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XHJcblxyXG5pbXBvcnQgeyBQYWdlUmVuZGVyQ29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQvUGFnZVJlbmRlckNvbnRleHQnO1xyXG5pbXBvcnQgeyBTY3JvbGxDb250ZXh0IH0gZnJvbSAnLi4vLi4vY29udGV4dC9TY3JvbGxDb250ZXh0JztcclxuaW1wb3J0IHsgZ2V0TWF4VmlzaWJsZUVsZW1lbnQgfSBmcm9tICcuLi8uLi91dGlscy9NYXhWaXNpYmxlRWxlbWVudCc7XHJcbmltcG9ydCB7IE51bGxhYmxlIH0gZnJvbSAnLi4vdHlwZXMvdXRpbHMnO1xyXG5cclxudHlwZSBQcm9wcyA9IHtcclxuICBwYWdlTnVtYmVyOiBudW1iZXI7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgVGh1bWJuYWlsOiBSZWFjdC5GdW5jdGlvbkNvbXBvbmVudDxQcm9wcz4gPSAoeyBwYWdlTnVtYmVyIH06IFByb3BzKSA9PiB7XHJcbiAgY29uc3QgeyBnZXRPYmplY3RVUkxGb3JQYWdlIH0gPSBSZWFjdC51c2VDb250ZXh0KFBhZ2VSZW5kZXJDb250ZXh0KTtcclxuICBjb25zdCB7IGlzUGFnZVZpc2libGUsIHNjcm9sbFRvUGFnZSwgdmlzaWJsZVBhZ2VSYXRpb3MgfSA9IFJlYWN0LnVzZUNvbnRleHQoU2Nyb2xsQ29udGV4dCk7XHJcbiAgY29uc3QgW21heFZpc2libGVQYWdlTnVtYmVyLCBzZXRNYXhWaXNpYmxlUGFnZU51bWJlcl0gPSBSZWFjdC51c2VTdGF0ZTxOdWxsYWJsZTxzdHJpbmc+PihudWxsKTtcclxuICBjb25zdCBvYmplY3RVUkwgPSBnZXRPYmplY3RVUkxGb3JQYWdlKHsgcGFnZU51bWJlciB9KTtcclxuXHJcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmICh2aXNpYmxlUGFnZVJhdGlvcy5zaXplICE9PSAwKSB7XHJcbiAgICAgIGNvbnN0IG1heCA9IGdldE1heFZpc2libGVFbGVtZW50KHZpc2libGVQYWdlUmF0aW9zKTtcclxuICAgICAgaWYgKG1heCkge1xyXG4gICAgICAgIHNldE1heFZpc2libGVQYWdlTnVtYmVyKG1heC50b1N0cmluZygpKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sIFt2aXNpYmxlUGFnZVJhdGlvc10pO1xyXG5cclxuICBjb25zdCBpc1RodW1ibmFpbFZpc2libGUgPVxyXG4gICAgbWF4VmlzaWJsZVBhZ2VOdW1iZXIgJiZcclxuICAgIHBhcnNlSW50KG1heFZpc2libGVQYWdlTnVtYmVyKSA9PT0gcGFnZU51bWJlciAmJlxyXG4gICAgaXNQYWdlVmlzaWJsZSh7IHBhZ2VOdW1iZXIgfSk7XHJcblxyXG4gIGNvbnN0IG9uQ2xpY2sgPSBSZWFjdC51c2VDYWxsYmFjayhcclxuICAgIGV2ZW50ID0+IHtcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgc2Nyb2xsVG9QYWdlKHsgcGFnZU51bWJlciB9KTtcclxuICAgIH0sXHJcbiAgICBbcGFnZU51bWJlciwgc2Nyb2xsVG9QYWdlXVxyXG4gICk7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8YVxyXG4gICAgICBhcmlhLWxhYmVsPXtgc2Nyb2xsIHRvIHBhZ2UgJHtwYWdlTnVtYmVyfWB9XHJcbiAgICAgIGhyZWY9e2AjJHtwYWdlTnVtYmVyfWB9XHJcbiAgICAgIG9uQ2xpY2s9e29uQ2xpY2t9XHJcbiAgICAgIGNsYXNzTmFtZT17Y2xhc3NuYW1lcyhcclxuICAgICAgICAncGRmLXJlYWRlcl9fdGh1bWJuYWlsJyxcclxuICAgICAgICB7ICdwZGYtcmVhZGVyX190aHVtYm5haWwtLW5vLWltYWdlJzogIW9iamVjdFVSTCB9LFxyXG4gICAgICAgIHsgJ3BkZi1yZWFkZXJfX3RodW1ibmFpbC0taXMtdmlzaWJsZSc6IGlzVGh1bWJuYWlsVmlzaWJsZSB9XHJcbiAgICAgICl9XHJcbiAgICAgIGRhdGEtcGFnZS1udW1iZXI9e3BhZ2VOdW1iZXJ9XHJcbiAgICAgIGRhdGEtdGVzdC1pZD1cInRodW1ibmFpbC1saW5rXCI+XHJcbiAgICAgIHshIW9iamVjdFVSTCAmJiA8aW1nIGNsYXNzTmFtZT1cInBkZi1yZWFkZXJfX3RodW1ibmFpbC1pbWFnZVwiIHNyYz17b2JqZWN0VVJMfSAvPn1cclxuICAgIDwvYT5cclxuICApO1xyXG59O1xyXG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XHJcblxyXG5pbXBvcnQgeyBEb2N1bWVudENvbnRleHQgfSBmcm9tICcuLi8uLi9jb250ZXh0L0RvY3VtZW50Q29udGV4dCc7XHJcbmltcG9ydCB7IFRodW1ibmFpbCB9IGZyb20gJy4vVGh1bWJuYWlsJztcclxuXHJcbnR5cGUgUHJvcHMgPSBhbnk7XHJcblxyXG5leHBvcnQgY29uc3QgVGh1bWJuYWlsTGlzdDogUmVhY3QuRnVuY3Rpb25Db21wb25lbnQ8UHJvcHM+ID0gKCkgPT4ge1xyXG4gIGNvbnN0IHsgbnVtUGFnZXMgfSA9IFJlYWN0LnVzZUNvbnRleHQoRG9jdW1lbnRDb250ZXh0KTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwicGRmLXJlYWRlcl9fdGh1bWJuYWlsLWxpc3Qtd3JhcHBlclwiPlxyXG4gICAgICA8dWwgY2xhc3NOYW1lPVwicGRmLXJlYWRlcl9fdGh1bWJuYWlsLWxpc3RcIj5cclxuICAgICAgICB7QXJyYXkuZnJvbSh7IGxlbmd0aDogbnVtUGFnZXMgfSkubWFwKChfLCBwYWdlSW5kZXgpID0+IChcclxuICAgICAgICAgIDxsaSBrZXk9e3BhZ2VJbmRleCArIDF9IGNsYXNzTmFtZT1cInBkZi1yZWFkZXJfX3RodW1ibmFpbC1saXN0X19pdGVtXCI+XHJcbiAgICAgICAgICAgIDxUaHVtYm5haWwgcGFnZU51bWJlcj17cGFnZUluZGV4ICsgMX0gLz5cclxuICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgKSl9XHJcbiAgICAgIDwvdWw+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59O1xyXG4iLCJleHBvcnQgY29uc3QgUGVyY2VudEZvcm1hdHRlciA9IG5ldyBJbnRsLk51bWJlckZvcm1hdCgnZW4tVVMnLCB7XHJcbiAgc3R5bGU6ICdwZXJjZW50JyxcclxuICBtYXhpbXVtU2lnbmlmaWNhbnREaWdpdHM6IDMsXHJcbn0pO1xyXG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XHJcblxyXG5pbXBvcnQgeyBUcmFuc2Zvcm1Db250ZXh0IH0gZnJvbSAnLi4vY29udGV4dC9UcmFuc2Zvcm1Db250ZXh0JztcclxuaW1wb3J0IHsgUGVyY2VudEZvcm1hdHRlciB9IGZyb20gJy4uL3V0aWxzL2Zvcm1hdCc7XHJcblxyXG5leHBvcnQgdHlwZSBQcm9wcyA9IHtcclxuICBjbGFzc05hbWU/OiBzdHJpbmc7XHJcbiAgY2hpbGRyZW4/OiBSZWFjdC5SZWFjdE5vZGU7XHJcbiAgb25ab29tPzogKHNjYWxlOiBudW1iZXIpID0+IHZvaWQ7XHJcbn07XHJcblxyXG5jb25zdCBNQVhfWk9PTV9JTl9TQ0FMRSA9IDUwMDtcclxuXHJcbmV4cG9ydCBjb25zdCBab29tSW5CdXR0b246IFJlYWN0LkZ1bmN0aW9uQ29tcG9uZW50PFByb3BzPiA9ICh7XHJcbiAgY2xhc3NOYW1lLFxyXG4gIGNoaWxkcmVuLFxyXG4gIG9uWm9vbSxcclxuICAuLi5leHRyYVByb3BzXHJcbn06IFByb3BzKSA9PiB7XHJcbiAgY29uc3QgeyBzY2FsZSwgc2V0U2NhbGUsIHpvb21JbmNyZW1lbnRWYWx1ZSB9ID0gUmVhY3QudXNlQ29udGV4dChUcmFuc2Zvcm1Db250ZXh0KTtcclxuXHJcbiAgY29uc3QgaGFuZGxlWm9vbUluID0gUmVhY3QudXNlQ2FsbGJhY2soXHJcbiAgICAoZXZlbnQpOiB2b2lkID0+IHtcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgIGNvbnN0IG5ld1NjYWxlVmFsdWUgPSBzY2FsZSArIHpvb21JbmNyZW1lbnRWYWx1ZTtcclxuICAgICAgY29uc3Qgem9vbVNjYWxlID0gTnVtYmVyKFBlcmNlbnRGb3JtYXR0ZXIuZm9ybWF0KG5ld1NjYWxlVmFsdWUpLnJlcGxhY2UoJyUnLCAnJykpO1xyXG5cclxuICAgICAgaWYgKHpvb21TY2FsZSA8PSBNQVhfWk9PTV9JTl9TQ0FMRSkge1xyXG4gICAgICAgIGlmIChvblpvb20pIHtcclxuICAgICAgICAgIG9uWm9vbShuZXdTY2FsZVZhbHVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNldFNjYWxlKG5ld1NjYWxlVmFsdWUpO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgW3NjYWxlXVxyXG4gICk7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8YnV0dG9uXHJcbiAgICAgIGNsYXNzTmFtZT17YHJlYWRlcl9fem9vbS1idG4gem9vbS1pbiAke2NsYXNzTmFtZX1gfVxyXG4gICAgICBvbkNsaWNrPXtoYW5kbGVab29tSW59XHJcbiAgICAgIHsuLi5leHRyYVByb3BzfT5cclxuICAgICAge2NoaWxkcmVuID8gY2hpbGRyZW4gOiAnKyd9XHJcbiAgICA8L2J1dHRvbj5cclxuICApO1xyXG59O1xyXG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XHJcblxyXG5pbXBvcnQgeyBUcmFuc2Zvcm1Db250ZXh0IH0gZnJvbSAnLi4vY29udGV4dC9UcmFuc2Zvcm1Db250ZXh0JztcclxuaW1wb3J0IHsgUGVyY2VudEZvcm1hdHRlciB9IGZyb20gJy4uL3V0aWxzL2Zvcm1hdCc7XHJcblxyXG5leHBvcnQgdHlwZSBQcm9wcyA9IHtcclxuICBjbGFzc05hbWU/OiBzdHJpbmc7XHJcbiAgY2hpbGRyZW4/OiBSZWFjdC5SZWFjdE5vZGU7XHJcbiAgb25ab29tPzogKHNjYWxlOiBudW1iZXIpID0+IHZvaWQ7XHJcbn07XHJcblxyXG5jb25zdCBNSU5fWk9PTV9PVVRfU0NBTEUgPSAyMDtcclxuXHJcbmV4cG9ydCBjb25zdCBab29tT3V0QnV0dG9uOiBSZWFjdC5GdW5jdGlvbkNvbXBvbmVudCA9ICh7XHJcbiAgY2xhc3NOYW1lLFxyXG4gIGNoaWxkcmVuLFxyXG4gIG9uWm9vbSxcclxuICAuLi5leHRyYVByb3BzXHJcbn06IFByb3BzKSA9PiB7XHJcbiAgY29uc3QgeyBzY2FsZSwgc2V0U2NhbGUsIHpvb21JbmNyZW1lbnRWYWx1ZSB9ID0gUmVhY3QudXNlQ29udGV4dChUcmFuc2Zvcm1Db250ZXh0KTtcclxuXHJcbiAgY29uc3QgaGFuZGxlWm9vbU91dCA9IFJlYWN0LnVzZUNhbGxiYWNrKFxyXG4gICAgKGV2ZW50KTogdm9pZCA9PiB7XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICBjb25zdCBuZXdTY2FsZVZhbHVlID0gc2NhbGUgLSB6b29tSW5jcmVtZW50VmFsdWU7XHJcbiAgICAgIGNvbnN0IHpvb21TY2FsZSA9IE51bWJlcihQZXJjZW50Rm9ybWF0dGVyLmZvcm1hdChuZXdTY2FsZVZhbHVlKS5yZXBsYWNlKCclJywgJycpKTtcclxuXHJcbiAgICAgIGlmICh6b29tU2NhbGUgPj0gTUlOX1pPT01fT1VUX1NDQUxFKSB7XHJcbiAgICAgICAgaWYgKG9uWm9vbSkge1xyXG4gICAgICAgICAgb25ab29tKG5ld1NjYWxlVmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZXRTY2FsZShuZXdTY2FsZVZhbHVlKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIFtzY2FsZV1cclxuICApO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGJ1dHRvblxyXG4gICAgICBjbGFzc05hbWU9e2ByZWFkZXJfX3pvb20tYnRuIHpvb20tb3V0ICR7Y2xhc3NOYW1lfWB9XHJcbiAgICAgIG9uQ2xpY2s9e2hhbmRsZVpvb21PdXR9XHJcbiAgICAgIHsuLi5leHRyYVByb3BzfT5cclxuICAgICAge2NoaWxkcmVuID8gY2hpbGRyZW4gOiAnLSd9XHJcbiAgICA8L2J1dHRvbj5cclxuICApO1xyXG59O1xyXG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XHJcblxyXG5pbXBvcnQgeyBEb2N1bWVudENvbnRleHQsIHVzZURvY3VtZW50Q29udGV4dFByb3BzIH0gZnJvbSAnLi9Eb2N1bWVudENvbnRleHQnO1xyXG5pbXBvcnQgeyBQYWdlUmVuZGVyQ29udGV4dCwgdXNlUGFnZVJlbmRlckNvbnRleHRQcm9wcyB9IGZyb20gJy4vUGFnZVJlbmRlckNvbnRleHQnO1xyXG5pbXBvcnQgeyBTY3JvbGxDb250ZXh0LCB1c2VTY3JvbGxDb250ZXh0UHJvcHMgfSBmcm9tICcuL1Njcm9sbENvbnRleHQnO1xyXG5pbXBvcnQgeyBUcmFuc2Zvcm1Db250ZXh0LCB1c2VUcmFuc2Zvcm1Db250ZXh0UHJvcHMgfSBmcm9tICcuL1RyYW5zZm9ybUNvbnRleHQnO1xyXG5pbXBvcnQgeyBVaUNvbnRleHQsIHVzZVVpQ29udGV4dFByb3BzIH0gZnJvbSAnLi9VaUNvbnRleHQnO1xyXG5cclxuZXhwb3J0IHR5cGUgUHJvcHMgPSB7XHJcbiAgY2hpbGRyZW4/OiBSZWFjdC5SZWFjdEVsZW1lbnQgfCBBcnJheTxSZWFjdC5SZWFjdEVsZW1lbnQ+O1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IENvbnRleHRQcm92aWRlcjogUmVhY3QuRnVuY3Rpb25Db21wb25lbnQ8UHJvcHM+ID0gKHsgY2hpbGRyZW4gfTogUHJvcHMpID0+IHtcclxuICBjb25zdCBkb2N1bWVudFByb3BzID0gdXNlRG9jdW1lbnRDb250ZXh0UHJvcHMoKTtcclxuICBjb25zdCB0cmFuc2Zvcm1Qcm9wcyA9IHVzZVRyYW5zZm9ybUNvbnRleHRQcm9wcygpO1xyXG4gIGNvbnN0IHVpUHJvcHMgPSB1c2VVaUNvbnRleHRQcm9wcygpO1xyXG4gIGNvbnN0IHNjcm9sbFByb3BzID0gdXNlU2Nyb2xsQ29udGV4dFByb3BzKCk7XHJcbiAgY29uc3QgcGFnZVJlbmRlclByb3BzID0gdXNlUGFnZVJlbmRlckNvbnRleHRQcm9wcyh7XHJcbiAgICBwZGZEb2NQcm94eTogZG9jdW1lbnRQcm9wcy5wZGZEb2NQcm94eSxcclxuICAgIHBpeGVsUmF0aW86IHRyYW5zZm9ybVByb3BzLnBpeGVsUmF0aW8sXHJcbiAgICBzY2FsZTogdHJhbnNmb3JtUHJvcHMuc2NhbGUsXHJcbiAgICB2aXNpYmxlUGFnZVJhdGlvczogc2Nyb2xsUHJvcHMudmlzaWJsZVBhZ2VSYXRpb3MsXHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8RG9jdW1lbnRDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtkb2N1bWVudFByb3BzfT5cclxuICAgICAgPFRyYW5zZm9ybUNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3RyYW5zZm9ybVByb3BzfT5cclxuICAgICAgICA8VWlDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt1aVByb3BzfT5cclxuICAgICAgICAgIDxTY3JvbGxDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtzY3JvbGxQcm9wc30+XHJcbiAgICAgICAgICAgIDxQYWdlUmVuZGVyQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17cGFnZVJlbmRlclByb3BzfT5cclxuICAgICAgICAgICAgICB7Y2hpbGRyZW59XHJcbiAgICAgICAgICAgIDwvUGFnZVJlbmRlckNvbnRleHQuUHJvdmlkZXI+XHJcbiAgICAgICAgICA8L1Njcm9sbENvbnRleHQuUHJvdmlkZXI+XHJcbiAgICAgICAgPC9VaUNvbnRleHQuUHJvdmlkZXI+XHJcbiAgICAgIDwvVHJhbnNmb3JtQ29udGV4dC5Qcm92aWRlcj5cclxuICAgIDwvRG9jdW1lbnRDb250ZXh0LlByb3ZpZGVyPlxyXG4gICk7XHJcbn07XHJcbiIsIi8qXHJcbiAqIFBERiBDb21wb25lbnQgTGlicmFyeSBleHBvcnRzXHJcbiAqL1xyXG5cclxuaW1wb3J0ICcuL2xlc3MvaW5kZXgubGVzcyc7XHJcblxyXG5pbXBvcnQgeyBCb3VuZGluZ0JveCwgUHJvcHMgYXMgQm91bmRpbmdCb3hQcm9wcyB9IGZyb20gJy4vc3JjL2NvbXBvbmVudHMvQm91bmRpbmdCb3gnO1xyXG5pbXBvcnQgeyBEb2N1bWVudFdyYXBwZXIsIFByb3BzIGFzIERvY3VtZW50V3JhcHBlclByb3BzIH0gZnJvbSAnLi9zcmMvY29tcG9uZW50cy9Eb2N1bWVudFdyYXBwZXInO1xyXG5pbXBvcnQgeyBEb3dubG9hZEJ1dHRvbiwgUHJvcHMgYXMgRG93bmxvYWRCdXR0b25Qcm9wcyB9IGZyb20gJy4vc3JjL2NvbXBvbmVudHMvRG93bmxvYWRCdXR0b24nO1xyXG5pbXBvcnQge1xyXG4gIEhpZ2hsaWdodE92ZXJsYXksXHJcbiAgUHJvcHMgYXMgSGlnaGxpZ2h0T3ZlcmxheVByb3BzLFxyXG59IGZyb20gJy4vc3JjL2NvbXBvbmVudHMvSGlnaGxpZ2h0T3ZlcmxheSc7XHJcbmltcG9ydCB7IEljb25GbGFnIH0gZnJvbSAnLi9zcmMvY29tcG9uZW50cy9pY29uL0ljb25GbGFnJztcclxuaW1wb3J0IHsgQXJyb3dGbGFnIH0gZnJvbSAnLi9zcmMvY29tcG9uZW50cy9tYXJrZXIvQXJyb3dGbGFnJztcclxuaW1wb3J0IHsgQXJyb3dGbGFnQmFzZSwgUE9TSVRJT04sIFBvc2l0aW9uVHlwZSB9IGZyb20gJy4vc3JjL2NvbXBvbmVudHMvbWFya2VyL0Fycm93RmxhZ0Jhc2UnO1xyXG5pbXBvcnQgeyBPdXRsaW5lIH0gZnJvbSAnLi9zcmMvY29tcG9uZW50cy9vdXRsaW5lL091dGxpbmUnO1xyXG5pbXBvcnQgeyBPdXRsaW5lSXRlbSB9IGZyb20gJy4vc3JjL2NvbXBvbmVudHMvb3V0bGluZS9PdXRsaW5lSXRlbSc7XHJcbmltcG9ydCB7IE92ZXJsYXksIFByb3BzIGFzIE92ZXJsYXlQcm9wcyB9IGZyb20gJy4vc3JjL2NvbXBvbmVudHMvT3ZlcmxheSc7XHJcbmltcG9ydCB7IFBhZ2VOdW1iZXJDb250cm9sIH0gZnJvbSAnLi9zcmMvY29tcG9uZW50cy9QYWdlTnVtYmVyQ29udHJvbCc7XHJcbmltcG9ydCB7IFBhZ2VQcm9wcywgUGFnZVdyYXBwZXIsIFByb3BzIGFzIFBhZ2VXcmFwcGVyUHJvcHMgfSBmcm9tICcuL3NyYy9jb21wb25lbnRzL1BhZ2VXcmFwcGVyJztcclxuaW1wb3J0IHsgUHJpbnRCdXR0b24sIFByb3BzIGFzIFByaW50QnV0dG9uUHJvcHMgfSBmcm9tICcuL3NyYy9jb21wb25lbnRzL1ByaW50QnV0dG9uJztcclxuaW1wb3J0IHsgUHJvcHMgYXMgU2lkZVBhbmVsUHJvcHMsIFNpZGVQYW5lbCB9IGZyb20gJy4vc3JjL2NvbXBvbmVudHMvU2lkZVBhbmVsJztcclxuaW1wb3J0IHsgVGh1bWJuYWlsIH0gZnJvbSAnLi9zcmMvY29tcG9uZW50cy90aHVtYm5haWxzL1RodW1ibmFpbCc7XHJcbmltcG9ydCB7IFRodW1ibmFpbExpc3QgfSBmcm9tICcuL3NyYy9jb21wb25lbnRzL3RodW1ibmFpbHMvVGh1bWJuYWlsTGlzdCc7XHJcbmltcG9ydCB7XHJcbiAgQm91bmRpbmdCb3ggYXMgQm91bmRpbmdCb3hUeXBlLFxyXG4gIERpbWVuc2lvbnMsXHJcbiAgT3JpZ2luLFxyXG4gIFJhd0JvdW5kaW5nQm94LFxyXG4gIHNjYWxlUmF3Qm91bmRpbmdCb3gsXHJcbiAgU2l6ZSxcclxufSBmcm9tICcuL3NyYy9jb21wb25lbnRzL3R5cGVzL2JvdW5kaW5nQm94JztcclxuaW1wb3J0IHsgTm9kZURlc3RpbmF0aW9uLCBPdXRsaW5lTm9kZSB9IGZyb20gJy4vc3JjL2NvbXBvbmVudHMvdHlwZXMvb3V0bGluZSc7XHJcbmltcG9ydCB7IFBhZ2VQcm9wZXJ0aWVzLCBQYWdlUmVmZXJlbmNlIH0gZnJvbSAnLi9zcmMvY29tcG9uZW50cy90eXBlcy9wYWdlJztcclxuaW1wb3J0IHsgTnVsbGFibGUgfSBmcm9tICcuL3NyYy9jb21wb25lbnRzL3R5cGVzL3V0aWxzJztcclxuaW1wb3J0IHsgWm9vbUluQnV0dG9uIH0gZnJvbSAnLi9zcmMvY29tcG9uZW50cy9ab29tSW5CdXR0b24nO1xyXG5pbXBvcnQgeyBab29tT3V0QnV0dG9uIH0gZnJvbSAnLi9zcmMvY29tcG9uZW50cy9ab29tT3V0QnV0dG9uJztcclxuaW1wb3J0IHsgQ29udGV4dFByb3ZpZGVyLCBQcm9wcyBhcyBDb250ZXh0UHJvdmlkZXJQcm9wcyB9IGZyb20gJy4vc3JjL2NvbnRleHQvQ29udGV4dFByb3ZpZGVyJztcclxuaW1wb3J0IHsgRG9jdW1lbnRDb250ZXh0LCBJRG9jdW1lbnRDb250ZXh0IH0gZnJvbSAnLi9zcmMvY29udGV4dC9Eb2N1bWVudENvbnRleHQnO1xyXG5pbXBvcnQgeyBJUGFnZVJlbmRlckNvbnRleHQsIFBhZ2VSZW5kZXJDb250ZXh0IH0gZnJvbSAnLi9zcmMvY29udGV4dC9QYWdlUmVuZGVyQ29udGV4dCc7XHJcbmltcG9ydCB7IElTY3JvbGxDb250ZXh0LCBTY3JvbGxDb250ZXh0IH0gZnJvbSAnLi9zcmMvY29udGV4dC9TY3JvbGxDb250ZXh0JztcclxuaW1wb3J0IHtcclxuICBERUZBVUxUX1pPT01fU0NBTEUsXHJcbiAgSVRyYW5zZm9ybUNvbnRleHQsXHJcbiAgVHJhbnNmb3JtQ29udGV4dCxcclxufSBmcm9tICcuL3NyYy9jb250ZXh0L1RyYW5zZm9ybUNvbnRleHQnO1xyXG5pbXBvcnQgeyBJVWlDb250ZXh0LCBVaUNvbnRleHQgfSBmcm9tICcuL3NyYy9jb250ZXh0L1VpQ29udGV4dCc7XHJcbmltcG9ydCB7IFBlcmNlbnRGb3JtYXR0ZXIgfSBmcm9tICcuL3NyYy91dGlscy9mb3JtYXQnO1xyXG5pbXBvcnQgeyBSRU5ERVJfVFlQRSB9IGZyb20gJy4vc3JjL3V0aWxzL3JlYWRlci11dGlscyc7XHJcbmltcG9ydCB7XHJcbiAgaXNTaWRld2F5cyxcclxuICBQYWdlUm90YXRpb24sXHJcbiAgcm90YXRlQ2xvY2t3aXNlLFxyXG4gIHJvdGF0ZUNvdW50ZXJDbG9ja3dpc2UsXHJcbn0gZnJvbSAnLi9zcmMvdXRpbHMvcm90YXRlJztcclxuaW1wb3J0IHsgZ2VuZXJhdGVQYWdlSWRGcm9tSW5kZXgsIHNjcm9sbFRvSWQsIHNjcm9sbFRvUGRmUGFnZUluZGV4IH0gZnJvbSAnLi9zcmMvdXRpbHMvc2Nyb2xsJztcclxuaW1wb3J0IHtcclxuICBjb21wdXRlQm91bmRpbmdCb3hTdHlsZSxcclxuICBjb21wdXRlUGFnZVN0eWxlLFxyXG4gIGdldFBhZ2VIZWlnaHQsXHJcbiAgZ2V0UGFnZVdpZHRoLFxyXG59IGZyb20gJy4vc3JjL3V0aWxzL3N0eWxlJztcclxuXHJcbmV4cG9ydCB0eXBlIHtcclxuICBCb3VuZGluZ0JveFByb3BzLFxyXG4gIEJvdW5kaW5nQm94VHlwZSxcclxuICBDb250ZXh0UHJvdmlkZXJQcm9wcyxcclxuICBEaW1lbnNpb25zLFxyXG4gIERvY3VtZW50V3JhcHBlclByb3BzLFxyXG4gIERvd25sb2FkQnV0dG9uUHJvcHMsXHJcbiAgSGlnaGxpZ2h0T3ZlcmxheVByb3BzLFxyXG4gIElEb2N1bWVudENvbnRleHQsXHJcbiAgSVBhZ2VSZW5kZXJDb250ZXh0LFxyXG4gIElTY3JvbGxDb250ZXh0LFxyXG4gIElUcmFuc2Zvcm1Db250ZXh0LFxyXG4gIElVaUNvbnRleHQsXHJcbiAgTm9kZURlc3RpbmF0aW9uLFxyXG4gIE51bGxhYmxlLFxyXG4gIE9yaWdpbixcclxuICBPdXRsaW5lTm9kZSxcclxuICBPdmVybGF5UHJvcHMsXHJcbiAgUGFnZVByb3BlcnRpZXMsXHJcbiAgUGFnZVByb3BzLFxyXG4gIFBhZ2VSZWZlcmVuY2UsXHJcbiAgUGFnZVJvdGF0aW9uLFxyXG4gIFBhZ2VXcmFwcGVyUHJvcHMsXHJcbiAgUG9zaXRpb25UeXBlLFxyXG4gIFByaW50QnV0dG9uUHJvcHMsXHJcbiAgUmF3Qm91bmRpbmdCb3gsXHJcbiAgU2lkZVBhbmVsUHJvcHMsXHJcbiAgU2l6ZSxcclxufTtcclxuXHJcbmV4cG9ydCB7XHJcbiAgQXJyb3dGbGFnLFxyXG4gIEFycm93RmxhZ0Jhc2UsXHJcbiAgQm91bmRpbmdCb3gsXHJcbiAgY29tcHV0ZUJvdW5kaW5nQm94U3R5bGUsXHJcbiAgY29tcHV0ZVBhZ2VTdHlsZSxcclxuICBDb250ZXh0UHJvdmlkZXIsXHJcbiAgREVGQVVMVF9aT09NX1NDQUxFLFxyXG4gIERvY3VtZW50Q29udGV4dCxcclxuICBEb2N1bWVudFdyYXBwZXIsXHJcbiAgRG93bmxvYWRCdXR0b24sXHJcbiAgZ2VuZXJhdGVQYWdlSWRGcm9tSW5kZXgsXHJcbiAgZ2V0UGFnZUhlaWdodCxcclxuICBnZXRQYWdlV2lkdGgsXHJcbiAgSGlnaGxpZ2h0T3ZlcmxheSxcclxuICBJY29uRmxhZyxcclxuICBpc1NpZGV3YXlzLFxyXG4gIE91dGxpbmUsXHJcbiAgT3V0bGluZUl0ZW0sXHJcbiAgT3ZlcmxheSxcclxuICBQYWdlTnVtYmVyQ29udHJvbCxcclxuICBQYWdlUmVuZGVyQ29udGV4dCxcclxuICBQYWdlV3JhcHBlcixcclxuICBQZXJjZW50Rm9ybWF0dGVyLFxyXG4gIFBPU0lUSU9OLFxyXG4gIFByaW50QnV0dG9uLFxyXG4gIFJFTkRFUl9UWVBFLFxyXG4gIHJvdGF0ZUNsb2Nrd2lzZSxcclxuICByb3RhdGVDb3VudGVyQ2xvY2t3aXNlLFxyXG4gIHNjYWxlUmF3Qm91bmRpbmdCb3gsXHJcbiAgU2Nyb2xsQ29udGV4dCxcclxuICBzY3JvbGxUb0lkLFxyXG4gIHNjcm9sbFRvUGRmUGFnZUluZGV4LFxyXG4gIFNpZGVQYW5lbCxcclxuICBUaHVtYm5haWwsXHJcbiAgVGh1bWJuYWlsTGlzdCxcclxuICBUcmFuc2Zvcm1Db250ZXh0LFxyXG4gIFVpQ29udGV4dCxcclxuICBab29tSW5CdXR0b24sXHJcbiAgWm9vbU91dEJ1dHRvbixcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICBCb3VuZGluZ0JveCxcclxuICBjb21wdXRlQm91bmRpbmdCb3hTdHlsZSxcclxuICBjb21wdXRlUGFnZVN0eWxlLFxyXG4gIENvbnRleHRQcm92aWRlcixcclxuICBERUZBVUxUX1pPT01fU0NBTEUsXHJcbiAgRG9jdW1lbnRDb250ZXh0LFxyXG4gIERvY3VtZW50V3JhcHBlcixcclxuICBEb3dubG9hZEJ1dHRvbixcclxuICBBcnJvd0ZsYWcsXHJcbiAgQXJyb3dGbGFnQmFzZSxcclxuICBQcmludEJ1dHRvbixcclxuICBnZW5lcmF0ZVBhZ2VJZEZyb21JbmRleCxcclxuICBnZXRQYWdlSGVpZ2h0LFxyXG4gIGdldFBhZ2VXaWR0aCxcclxuICBIaWdobGlnaHRPdmVybGF5LFxyXG4gIEljb25GbGFnLFxyXG4gIGlzU2lkZXdheXMsXHJcbiAgT3V0bGluZSxcclxuICBPdXRsaW5lSXRlbSxcclxuICBPdmVybGF5LFxyXG4gIFBhZ2VOdW1iZXJDb250cm9sLFxyXG4gIFBhZ2VSZW5kZXJDb250ZXh0LFxyXG4gIFBhZ2VSb3RhdGlvbixcclxuICBQYWdlV3JhcHBlcixcclxuICBQT1NJVElPTixcclxuICBTaWRlUGFuZWwsXHJcbiAgUGVyY2VudEZvcm1hdHRlcixcclxuICBSRU5ERVJfVFlQRSxcclxuICByb3RhdGVDbG9ja3dpc2UsXHJcbiAgcm90YXRlQ291bnRlckNsb2Nrd2lzZSxcclxuICBzY2FsZVJhd0JvdW5kaW5nQm94LFxyXG4gIHNjcm9sbFRvSWQsXHJcbiAgc2Nyb2xsVG9QZGZQYWdlSW5kZXgsXHJcbiAgVGh1bWJuYWlsLFxyXG4gIFRodW1ibmFpbExpc3QsXHJcbiAgU2Nyb2xsQ29udGV4dCxcclxuICBUcmFuc2Zvcm1Db250ZXh0LFxyXG4gIFVpQ29udGV4dCxcclxuICBab29tSW5CdXR0b24sXHJcbiAgWm9vbU91dEJ1dHRvbixcclxufTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///224\n')},323:Q=>{"use strict";Q.exports=__WEBPACK_EXTERNAL_MODULE__323__},888:Q=>{"use strict";Q.exports=__WEBPACK_EXTERNAL_MODULE__888__}},__webpack_module_cache__={};function __webpack_require__(Q){var F=__webpack_module_cache__[Q];if(void 0!==F)return F.exports;var U=__webpack_module_cache__[Q]={exports:{}};return __webpack_modules__[Q](U,U.exports,__webpack_require__),U.exports}__webpack_require__.n=Q=>{var F=Q&&Q.__esModule?()=>Q.default:()=>Q;return __webpack_require__.d(F,{a:F}),F},__webpack_require__.d=(Q,F)=>{for(var U in F)__webpack_require__.o(F,U)&&!__webpack_require__.o(Q,U)&&Object.defineProperty(Q,U,{enumerable:!0,get:F[U]})},__webpack_require__.o=(Q,F)=>Object.prototype.hasOwnProperty.call(Q,F);var __webpack_exports__=__webpack_require__(224);return __webpack_exports__=__webpack_exports__.default,__webpack_exports__})()}));